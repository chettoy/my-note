{"version":3,"sources":["components/Framework.module.scss","components/Toolbar.module.scss","components/Menu.module.scss","components/FloatActionButton.module.scss","common/MessageHandler.js","components/Banner.module.scss","Config.js","components/Loading.module.scss","common/ClientUtils.js","common/MyCommon.js","common/SnackBar.js","common/SuperToast.js","components/Loading.js","components/Toolbar.js","components/Menu.js","components/Framework.js","components/FloatActionButton.js","components/Banner.js","components/live2d-widget/index.js","components/CardView.js","cards/Card.js","cards/TestPage.js","cards/ContentPage/ConData.js","cards/ContentPage/ConLoader.js","cards/ContentPage/ConCard.js","cards/ContentPage/ConItem.js","cards/ContentPage/ConList.js","cards/ContentPage/ConDetail.js","cards/ContentPage.js","cards/CardRouter.js","themes/Dark.js","themes/Light.js","App.js","serviceWorker.js","index.js"],"names":["module","exports","MessageHandler","proxy","inited","tag","msg","log","Config","autoplay","loadLive2d","api","window","ClientUtils","exit","open","url","toggleMenu","isOpen","toggleOptionsMenu","getStatusBarHeight","devicePixelRatio","isClient","navigator","userAgent","indexOf","MyCommon","className","split","isSnap","c2s","className2s","SnackBar","constructor","this","__during","__timer","__parent","document","body","__view","getDefaultView","_touchstart","_touchmove","_touchend","_onshowed","_ondismiss","tmp","implementation","createHTMLDocument","innerHTML","children","setDuring","during","setOnShowed","func","setOnDismiss","setParent","view","setText","text","childNodes","textContent","setTimer","setTimeout","dismiss","clearTimer","clearTimeout","arg1","arg2","callback","i","affectedFAB","length","obj","fab","bottom","Velocity","top","splice","querySelector","_remove","removeEventListener","parentNode","removeChild","getComputedStyle","getBoundingClientRect","left","documentElement","clientWidth","offsetHeight","show","appendChild","touchX","moveX","style","width","margin","addEventListener","e","parseInt","targetTouches","pageX","onclick","opacity","fabs","querySelectorAll","Array","prototype","forEach","call","el","clientHeight","offsetWidth","has","push","LENGTH_SHORT","LENGTH_LONG","LENGTH_IMMEDIATE","SuperToast","_context","_duration","_view","_deadtime","_domPtr","time","Date","now","nextHandleTime","_queue","deadtime","container","_timer","_handle","_nextHandleTime","setContext","context","setDuration","duration","getContainerView","insertBefore","Loading","React","Component","render","styles","LoadingView","ToolbarView","styled","div","attrs","props","statusBarHeight","MenuIcon","SearchIcon","theme","ToolbarIconColor","Title","TitleColor","SearchView","StatusBar","StatusBarColor","defaultProps","Toolbar","canvas","handleMenuClick","onMenuClick","handleSearchClick","state","atTop","setState","showSearch","handleSearch","preventDefault","target","value","onSearch","handleResize","resize","handleScroll","scrollTop","pageYOffset","menuIconHover","ToolbarCanvas","onClick","onMouseEnter","onMouseLeave","backgroundColor","path","mdiMenu","href","mdiMagnify","display","action","method","onSubmit","type","name","placeholder","autoFocus","autoComplete","x-webkit-speech","ref","c","is","init","ctx","height","loop","headerHeight","prevScroll","drawLoopLock","staticTime","raf","requestAnimationFrame","webkitRequestAnimationFrame","mozRequestAnimationFrame","msRequestAnimationFrame","oRequestAnimationFrame","bind","getContext","rect","draw","drawLoop","fill","color","fillStyle","clearRect","fillRect","classList","contains","a","toFixed","scroll","animate","frame","setInterval","clearInterval","MrMenu","MenuBackground","menuHeader","MenuHeaderTextColor","MenuTextColor","ItemActiveTextColor","ItemActiveColor","menuFooter","copyright","Menu","element","getDOM","MenuContainer","MenuList","getItemList","Children","map","child","cloneElement","key","currentIndex","event","handleItemClick","index","currentTarget","getAttribute","TopMask","mask","componentDidMount","w","h","Framework","menuDOM","spaceDOM","conDOM","bigScreen","menuPosX","menuTempOpen","_menuMoveMode","_menuMoving","getChildren","_","dom","resizeEvent","windowWidth","windowHeight","onResize","console","menuWidth","moveBack","stepTo","prevTouchMenuPosX","menuTouchFromX","menuTouchMoveX","menuTouchPrevX","menuPrevLoopTime","menuDragSpeed","touchMoveLoop","targetPosX","handleTouchStart","onMotionStart","touch","pageY","add","touching","beforeOpenMenu","handleTouchMove","onMotionMove","handleTouchEnd","onMotionEnd","prevTouchMenuX","remove","Math","abs","targetPos","animateTo","isReach","afterCloseMenu","handleMouseMove","openMenu","onMouseLeaveMenu","closeMenu","posX","transform","arg3","_complete","prevPosX","distance","tween","easing","begin","progress","theDOM","percentComplete","remaining","startTime","tweenValue","stepPosX","complete","isMenuOpen","overflow","DrawerView","SpaceView","onTouchStart","menu","content","componentWillUnmount","FabWrapper","fabView","FabColor","iconWrapper","FabIconColor","fabMenu","FabMenuColor","FloatActionButton","fabChild","onClickHandler","nextState","delay","mdiClose","rotate","fabOffset","childOffset","fabRange","cos","PI","sin","Banner","super","loaded","BannerView","con","Live2dWidget","load","loadExternalResource","live2d_path","Promise","resolve","reject","createElement","rel","src","async","onload","onerror","head","then","initWidget","waifuPath","apiPath","instance","showMessage","CardView","CardColor","TextColor","Card","TestPage","ConData","__id","__content","__html","__title","__initFromCon","__parseFromJSON","id","r1","exec","lines","r2","Map","item","set","get","__process","substr","r","data","JSON","parse","Error","html","title","source","tokenizer","marked","Tokenizer","originalCodespan","codespan","match","raw","katex","renderToString","trim","displayMode","throwOnError","apply","arguments","getState","toString","stringify","getHtml","getId","getSource","getTitle","str","ConLoader","conDataCache","loadContent","_checkCache","cachedData","axios","response","conData","status","catch","error","_loadItems","itemCallback","itemId","loadItem","isFromCache","reqUpdate","onNewConLoaded","statusCode","values","_saveCache","reason","reqCache","cacheArr","val","sessionStorage","setItem","savedCache","getItem","ConCard","ConItem","DOMPurify","sanitize","ALLOWED_TAGS","KEEP_CONTENT","to","onPreviewClick","clean","dangerouslySetInnerHTML","withRouter","ConList","mounted","conList","loading","loader","conLoader","list","prevUpdateTime","ConDetail","params","ADD_TAGS","ConContainer","ContentPage","viewRef","createRef","routes","detail","currentView","pathname","matchPath","exact","location","current","cardWrapper","getWrapperDOM","offset","_scrollRestoration","history","scrollRestoration","unlistenHistory","listen","saveScroll","recoverScroll","TransitionGroup","CSSTransition","classNames","timeout","getKey","startsWith","CardRouter","from","Theme","AppBackground","MusicPlayer","lazy","toast","Toast","makeText","BackgroundCanvas","App","themeList","Light","Dark","loadSet","Set","getTheme","currentTheme","updateProgress","delete","NProgress","size","inc","done","goTo","goBack","sessionStorageSupported","isLoading","Helmet","Suspense","fallback","make","bgMatch","img","Image","styleTag","undefined","show_welcome","isLocalhost","Boolean","hostname","registerValidSW","swUrl","config","serviceWorker","register","registration","onupdatefound","installingWorker","installing","onstatechange","controller","onUpdate","onSuccess","app","rootElement","getElementById","hasChildNodes","ReactDOM","hydrate","URL","process","origin","fetch","contentType","headers","ready","unregister","reload","checkValidServiceWorker"],"mappings":"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","file":"static/js/main.fc5dd53f.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"DrawerView\":\"Framework_DrawerView__2JpzE\",\"menu\":\"Framework_menu__3jjbn\",\"animating\":\"Framework_animating__3ZPuv\",\"content\":\"Framework_content__1LDfu\",\"touching\":\"Framework_touching__2bvBT\",\"SpaceView\":\"Framework_SpaceView__3dTD-\",\"mask\":\"Framework_mask__1c7Bi\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"toolbarShadow\":\"Toolbar_toolbarShadow__1_Sld\",\"ToolbarView\":\"Toolbar_ToolbarView__1S3YH Toolbar_toolbarShadow__1_Sld\",\"Title\":\"Toolbar_Title__2gZFt\",\"IconFather\":\"Toolbar_IconFather__1DCrv\",\"MenuIcon\":\"Toolbar_MenuIcon__3e613 Toolbar_IconFather__1DCrv\",\"SearchIcon\":\"Toolbar_SearchIcon__o2Nk3 Toolbar_IconFather__1DCrv\",\"SearchView\":\"Toolbar_SearchView__36OB8 Toolbar_toolbarShadow__1_Sld\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"MrMenu\":\"Menu_MrMenu__2xDpK\",\"MenuContainer\":\"Menu_MenuContainer__2OsOu\",\"menuHeader\":\"Menu_menuHeader__1E8mV\",\"menuFooter\":\"Menu_menuFooter__3F0rz\",\"copyright\":\"Menu_copyright__1CD6t\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"FabWrapper\":\"FloatActionButton_FabWrapper__1EGQW\",\"fabView\":\"FloatActionButton_fabView__zG0ei\",\"iconWrapper\":\"FloatActionButton_iconWrapper__2r1Q4\",\"fabMenu\":\"FloatActionButton_fabMenu__2AcsH\"};","class MessageHandler {\n  static init(proxy) {\n    MessageHandler.proxy = proxy;\n    MessageHandler.inited = true;\n  }\n  static log(tag, msg) {\n    MessageHandler.proxy.log(tag, msg);\n  }\n}\n\nexport default MessageHandler;","// extracted by mini-css-extract-plugin\nmodule.exports = {\"BannerView\":\"Banner_BannerView__3l_3J\",\"con\":\"Banner_con__3-4Vi\",\"bottom\":\"Banner_bottom__3dyyR\"};","const Config = {\n  autoplay: false,\n  loadLive2d: true\n};\n\nexport default Config;","// extracted by mini-css-extract-plugin\nmodule.exports = {\"LoadingView\":\"Loading_LoadingView__1eCfI\",\"delayFadeIn\":\"Loading_delayFadeIn__3xTOi\",\"shine\":\"Loading_shine__3ouF6\",\"dotAnim\":\"Loading_dotAnim__31Ynl\"};","const api = window['mClientUtils'];\n\nclass ClientUtils {\n  static exit = () => api && api.exit('✓');\n  static open = (url) => api && api.open('✓', url);\n  static toggleMenu = (isOpen) => api && api.toggleOptionsMenu('✓', isOpen);\n  static getStatusBarHeight = () => api? api.getStatusBarHeight('✓') / window.devicePixelRatio: 0;\n}\n\nClientUtils.isClient = navigator.userAgent.indexOf('; wv) ') !== -1 && api;\n\nexport default ClientUtils;","class MyCommon {\n  static className2s(className) {\n    //return '.' + className.split(' ').join('.');\n    return '.' + className.split(' ')[0];\n  }\n}\n\nMyCommon.isSnap = navigator.userAgent === 'ReactSnap';\n\nexport default MyCommon;\nexport const c2s = MyCommon.className2s;","import Velocity from 'velocity-animate'\n\nclass SnackBar {\n  constructor() {\n    this.__during = 1500;\n    this.__timer = null;\n    this.__parent = document.body;\n    this.__view = SnackBar.getDefaultView();\n    this._touchstart = null;\n    this._touchmove = null;\n    this._touchend = null;\n    this._onshowed = null;\n    this._ondismiss = null;\n  }\n\n  static getDefaultView() {\n    let tmp = document.implementation.createHTMLDocument();\n    tmp.body.innerHTML = '<div id=\"SnackBar\" style=\"width:100%;height:3rem;position:fixed;left:0px;bottom:-3rem;z-index:200;background:rgba(244,67,102,0.9);color:white;font-size:1rem;\"><span style=\"line-height:3rem;margin-left:1.25rem;\"></span></div>';\n    return tmp.body.children[0];\n  }\n\n  setDuring(during) {\n    this.__during = during;\n    return this;\n  }\n\n  setOnShowed(func) {\n    this._onshowed = func;\n    return this;\n  }\n  setOnDismiss(func) {\n    this._ondismiss = func;\n    return this;\n  }\n\n  setParent(view) {\n    if (view) this.__parent = view;\n    return this;\n  }\n\n  setText(text) {\n    this.__view.childNodes[0].textContent = text;\n    return this;\n  }\n\n  setTimer(during) {\n    if (this.__during > 0) {\n      if (!during) {\n        during = this.__during;\n      }\n      this.__timer = setTimeout(() => {\n        this.dismiss();\n      }, during);\n    }\n  }\n\n  clearTimer() {\n    if (this.__timer){\n      clearTimeout(this.__timer);\n      this.__timer = null;\n    }\n  }\n\n  /* dismiss([shouldRecoverFAB], [callbackFunc]) */\n  dismiss(arg1, arg2) {\n    this.clearTimer();\n    let callback;\n    if (!(arg1 === false)) {\n      for (let i = 0; i < SnackBar.affectedFAB.length; i++) {\n        const obj = SnackBar.affectedFAB[i];\n        const fab = obj.view;\n        if (obj.bottom !== 'auto') {\n          Velocity(fab, {bottom: obj.bottom}, \"fast\");\n        }else if (obj.top !== 'auto') {\n          Velocity(fab, {top: obj.top}, \"fast\");\n        }\n        SnackBar.affectedFAB.splice(i, 1);\n        i--;\n      }\n      \n      if (!(arg1 === true)) {\n        callback = arg1;\n      }\n    }\n    if (arg2) callback = arg2;\n    const view = document.querySelector('#SnackBar');\n    if (view) {\n      const _remove = () => {\n        view.removeEventListener('touchstart', this._touchstart);\n        view.removeEventListener('touchmove', this._touchmove);\n        view.removeEventListener('touchend', this._touchend);\n        this._touchstart = null;\n        this._touchmove = null;\n        this._touchend = null;\n        view.parentNode.removeChild(view);\n        if (this._ondismiss) this._ondismiss();\n        if (callback) callback();\n      }\n      if (getComputedStyle(view)['display'] !== 'none' && view.getBoundingClientRect().left < document.documentElement.clientWidth) {\n        Velocity(view, {bottom: -view.offsetHeight + 'px'}, 'fast', _remove);\n      }else{\n        _remove();\n      }\n    }\n  }\n\n  show() {\n    if (document.querySelector('#SnackBar') !== null) {\n      this.dismiss(false, () => {\n        this.show();\n      });\n      return;\n    }else{\n      this.__parent.appendChild(this.__view);\n    }\n    const view = document.querySelector('#SnackBar');\n    if (document.documentElement.clientWidth > 800) {\n      view.style.width = '400px';\n      view.style.margin = '20px';\n    }\n    let left;\n    let touchX;\n    let moveX;\n    view.addEventListener('touchstart', this._touchstart = e => {\n      this.clearTimer();\n      left = parseInt(getComputedStyle(view)['left']);\n      touchX = e.targetTouches[0].pageX;\n      return false;\n    });\n    view.addEventListener('touchmove', this._touchmove = e => {\n      moveX = e.targetTouches[0].pageX;\n      if (moveX > touchX) {\n        view.style.left = (left + moveX - touchX) + 'px';\n      }\n      return false;\n    });\n    view.addEventListener('touchend', this._touchend = e => {\n      if (parseInt(getComputedStyle(view)['left']) > document.documentElement.clientWidth / 3) {\n        Velocity(view, {left: document.documentElement.clientWidth + 'px'}, () => {\n          this.dismiss();\n        });\n      }else{\n        Velocity(view, {left: 0}, \"ease\");\n        if (this.__timer === null) {\n          this.setTimer(1500);\n        }\n      }\n      return false;\n    });\n    if (document.documentElement.clientWidth > 800 || !('ontouchstart' in window)) {\n      view.onclick = () => {\n        this.clearTimer();\n        Velocity(view, {opacity: 0}, () => this.dismiss());\n      };\n    }\n    const fabs = document.querySelectorAll('.fab');\n    Array.prototype.forEach.call(fabs, function(el, i){\n      if (getComputedStyle(el)['position'] === 'fixed' && document.documentElement.clientHeight - el.getBoundingClientRect().top - el.offsetHeight < view.offsetHeight && el.getBoundingClientRect().left < view.getBoundingClientRect().left + view.offsetWidth) {\n        const obj = {};\n        obj.view = el;\n        obj.top = getComputedStyle(el)['top'];\n        obj.bottom = getComputedStyle(el)['bottom'];\n        if (obj.bottom !== 'auto') {\n          Velocity(el, {bottom: parseInt(obj.bottom) + view.offsetHeight + 'px'});\n        }else if(obj.top !== 'auto'){\n          Velocity(el, {top: parseInt(obj.top) - view.offsetHeight + 'px'});\n        }else{\n          Velocity(el, {bottom: view.offsetHeight + 'px'});\n        }\n        let has = false;\n        for (const i in SnackBar.affectedFAB) {\n          if (SnackBar.affectedFAB[i].view === obj.view) {\n            has = true;\n          }\n        }\n        if (!has) {\n          SnackBar.affectedFAB.push(obj);\n        }\n      }\n    });\n    if (typeof this._onshowed === 'function') {\n      Velocity(view, {bottom: 0}, () => {\n        setTimeout(this._onshowed, 0);\n      });\n    }else{\n      Velocity(view, {bottom: 0});\n    }\n    this.setTimer();\n  }\n\n  static make(view, text, during) {\n    return new SnackBar().setParent(view).setText(text).setDuring(during);\n  }\n}\n\nSnackBar.affectedFAB = [];\nSnackBar.LENGTH_SHORT = 1500;\nSnackBar.LENGTH_LONG = 3000;\nSnackBar.LENGTH_IMMEDIATE = -1;\n\nexport default SnackBar;","import Velocity from 'velocity-animate'\n\nclass SuperToast {\n  constructor() {\n    this._context = null;\n    this._duration = 1500;\n    this._view = SuperToast.getDefaultView();\n    this._deadtime = 0;\n    this._domPtr = null;\n  }\n\n  static getContainerView() {\n    let tmp = document.implementation.createHTMLDocument();\n    tmp.body.innerHTML = '<div id=\"SuperToast\" style=\"position:fixed;bottom:3rem;z-index:200;\"></div>';\n    return tmp.body.children[0];\n  }\n\n  static getDefaultView() {\n    let tmp = document.implementation.createHTMLDocument();\n    tmp.body.innerHTML = '<div style=\"opacity:0;background:rgba(244,67,102,0.9);color:white;font-size:1rem;\"></div>';\n    return tmp.body.children[0];\n  }\n\n  static _handle() {\n    const time = Date.now();\n    let nextHandleTime = 0;\n    for (let i = 0; i < SuperToast._queue.length; i++) {\n      const deadtime = SuperToast._queue[i]._deadtime;\n      if (time >= deadtime) {\n        const view = SuperToast._queue[i]._domPtr;\n        Velocity(view, {opacity: 0}, () => {\n          const container = document.querySelector('#SuperToast');\n          container.removeChild(view);\n          if (container.children[0] === null) {\n            container.parentNode.removeChild(container);\n          }\n        });\n        SuperToast._queue.splice(i, 1);\n        i--;\n      }else{\n        if (deadtime < nextHandleTime || !nextHandleTime)\n         nextHandleTime = deadtime;\n      }\n    }\n    if (nextHandleTime !== 0) {\n      SuperToast._timer = setTimeout(SuperToast._handle, nextHandleTime - time);\n      SuperToast._nextHandleTime = nextHandleTime;\n    }else{\n      SuperToast._timer = null;\n      SuperToast._nextHandleTime = 0;\n    }\n  }\n\n  setContext(context) {\n    this._context = context;\n    return this;\n  }\n\n  setText(text) {\n    this._view.textContent = text;\n    return this;\n  }\n\n  setDuration(duration) {\n    this._duration = duration;\n    return this;\n  }\n\n  show() {\n    if (!document.querySelector('#SuperToast')) {\n      document.body.appendChild(SuperToast.getContainerView());\n    }\n    const container = document.querySelector('#SuperToast');\n    if (container.children[0]) {\n      container.insertBefore(this._view, container.children[0]);\n    }else{\n      container.appendChild(this._view);\n    }\n    this._deadtime = Date.now() + this._duration;\n    this._domPtr = container.children[0];\n    SuperToast._queue.push(this);\n    Velocity(this._domPtr, {opacity: 1});\n    if (SuperToast._timer) {\n      if (this._deadtime < SuperToast._nextHandleTime) {\n        clearTimeout(SuperToast._timer)\n      }else{\n        return;\n      }\n    }\n    SuperToast._timer = setTimeout(SuperToast._handle, this._duration);\n    SuperToast._nextHandleTime = this._deadtime;\n  }\n\n  static makeText(context, text, duration) {\n    return new SuperToast().setContext(context).setText(text).setDuration(duration);\n  }\n}\n\nSuperToast._timer = null;\nSuperToast._queue = [];\nSuperToast._nextHandleTime = 0;\nSuperToast.LENGTH_SHORT = 1500;\nSuperToast.LENGTH_LONG = 3000;\n\nexport default SuperToast;","import React from 'react';\nimport styles from './Loading.module.scss';\n\nclass Loading extends React.Component {\n  render() {\n    return (\n      <div className={styles.LoadingView}>\n        <span></span><span></span><span></span>\n        <span>loading...</span>\n        <span></span><span></span><span></span>\n      </div>\n    )\n  }\n}\n\nexport default Loading;","import React from 'react';\nimport styled from 'styled-components/macro';\nimport Icon from '@mdi/react';\nimport {mdiMenu, mdiMagnify} from '@mdi/js';\nimport { c2s } from '../common/MyCommon';\nimport MessageHandler from '../common/MessageHandler';\nimport styles from './Toolbar.module.scss';\n\nconst ToolbarView = styled.div.attrs({\n  className: styles.ToolbarView\n})`\n  background-color: transparent;//#2196f3;\n  top: ${props => props.statusBarHeight}px;\n  \n  ${c2s(styles.MenuIcon)},\n  ${c2s(styles.SearchIcon)} {\n    color: ${props => props.theme.ToolbarIconColor};\n  }\n  \n  ${c2s(styles.Title)} {\n    a { color: ${props => props.theme.TitleColor}; }\n  }\n  \n  ${c2s(styles.SearchView)} {\n    top: calc(${props => props.statusBarHeight}px + 3.125rem);\n    background: rgba(255,255,255,0.6);\n    input {\n      box-shadow: 0 0.125rem grey;\n    }\n    input:focus {\n      box-shadow: 0 0.125rem #FF4081;\n    }\n  }\n`;\n\nconst StatusBar = styled.div`\n  background: ${props => props.theme.StatusBarColor};\n  display: ${props => props.statusBarHeight? 'block': 'none'};\n  height: ${props => props.statusBarHeight}px;\n  width: 100%;\n  position: fixed;\n  top: 0;\n`;\n\nStatusBar.defaultProps = {\n  theme: {StatusBarColor: \"black\"}\n};\n\nToolbarView.defaultProps = {\n  theme: {\n    ToolbarIconColor: \"white\",\n    TitleColor: \"white\"\n  }\n};\n\nclass Toolbar extends React.Component {\n  canvas = null;\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      menuIconHover: false,\n      atTop: true,\n      showSearch: false\n    };\n    this.canvas = new ToolbarCanvas();\n  }\n\n  handleMenuClick = () => {\n    if (this.props.onMenuClick) {\n      this.props.onMenuClick();\n    }\n  }\n\n  handleSearchClick = () => {\n    if (this.state.atTop) {\n      MessageHandler.log(\"(｡>﹏<｡)\", \"看不见我看不见我~\");\n    }\n    this.setState({showSearch: !this.state.showSearch});\n  }\n\n  handleSearch = e => {\n    e.preventDefault();\n    const text = e.target[0].value;\n    if (this.props.onSearch) {\n      this.props.onSearch(text);\n    }\n  }\n\n  render() {\n    return (\n      <ToolbarView statusBarHeight={this.props.statusBarHeight}>\n        <StatusBar statusBarHeight={this.props.statusBarHeight} />\n        <span className={styles.MenuIcon}\n          onClick={this.handleMenuClick}\n          onMouseEnter={() => this.setState({menuIconHover: true})}\n          onMouseLeave={() => this.setState({menuIconHover: false})}\n          style={{backgroundColor: this.state.menuIconHover? 'rgba(85,85,85,1)': 'rgba(0,0,0,0)'}}>\n            <Icon path={mdiMenu} />\n        </span>\n        <span className={styles.Title}><a href=\".\">MyNote</a></span>\n        <span className={styles.SearchIcon}\n          onClick={this.handleSearchClick}\n          style={{opacity: this.state.atTop? 0: 1}}>\n          <Icon path={mdiMagnify} />\n        </span>\n        <div className={styles.SearchView}\n          style={{display: this.state.showSearch? 'block': 'none'}}>\n          <form action=\"#\" method=\"get\" onSubmit={this.handleSearch}>\n            <input type=\"search\" name=\"search\" placeholder=\"search...\" autoFocus={this.state.showSearch} autoComplete=\"off\" x-webkit-speech=\"true\"/>\n          </form>\n        </div>\n        <canvas ref={c => this.canvas.is(c)}></canvas>\n      </ToolbarView>\n    );\n  }\n    \n  componentDidMount() {\n    window.addEventListener(\"resize\", this.handleResize);\n    window.addEventListener(\"scroll\", this.handleScroll);\n    this.canvas.init();\n    setTimeout(this.handleResize, 20);\n  }\n  \n  componentWillUnmount() {\n    window.removeEventListener(\"resize\", this.handleResize);\n    window.removeEventListener(\"scroll\", this.handleScroll);\n  }\n  \n  handleResize = () => {\n    this.canvas.resize();\n  }\n  \n  handleScroll = () => {\n    const scrollTop = document.documentElement.scrollTop || window.pageYOffset || document.body.scrollTop;\n    if (this.state.atTop && scrollTop > 10) {\n      this.setState({atTop: false});\n    }else if (scrollTop < 10 && !this.state.atTop) {\n      this.setState({atTop: true});\n    }\n  }\n}\n\nclass ToolbarCanvas\n{\n  canvas = null;\n  ctx = null;\n  width = null;\n  height = null;\n  loop = null;\n  \n  headerHeight = 0;\n  prevScroll = 0;\n  drawLoopLock = 0;\n  staticTime = 0;\n  \n  raf = (window.requestAnimationFrame || window.webkitRequestAnimationFrame || window.mozRequestAnimationFrame || window.msRequestAnimationFrame || window.oRequestAnimationFrame).bind(window);\n  \n  is = canvas => {\n    this.canvas = canvas;\n  }\n  \n  init = () => {\n    this.ctx = this.canvas.getContext(\"2d\");\n  }\n  \n  resize = () => {\n    this.headerHeight = document.documentElement.clientHeight;\n    if (!this.canvas) return;\n    const rect = this.canvas.getBoundingClientRect();\n    this.width = rect.width;\n    this.height = rect.height;\n    this.canvas.width = this.width;\n    this.canvas.height = this.height;\n    this.draw();\n    if (this.drawLoopLock === 0) {\n      this.raf(this.drawLoop);\n      this.drawLoopLock = 1;\n    }\n  }\n  \n  fill = (color) => {\n    this.ctx.fillStyle = color;\n    this.ctx.clearRect(0, 0, this.width, this.height);\n    this.ctx.fillRect(0, 0, this.width, this.height);\n  }\n  \n  draw = () => {\n    if (document.body.classList.contains(\"x\")) {\n      this.fill('#000');\n    }else{\n      const scrollTop = this.scrollTop();\n      let a = 1.0;\n      if (this.headerHeight) {\n        a = scrollTop / this.headerHeight;\n        a = a.toFixed(2);\n        if (a > 1.0) a = 1.0;\n      }\n      this.fill(`rgba(69, 157, 245, ${a})`);\n    }\n  }\n  \n  drawLoop = () => {\n    const scroll = this.scrollTop();\n    if (this.prevScroll === scroll) {\n      this.staticTime++;\n      if (this.staticTime === 100) {\n        this.fill('transparent');\n      }\n    }else{\n      this.staticTime = 0;\n      this.draw();\n      this.prevScroll = scroll;\n    }\n    this.raf(this.drawLoop);\n  }\n  \n  animate = () => {\n    let frame = 0;\n    this.loop = setInterval(() => {\n      this.ctx.fillStyle = `rgba(${frame * 5}, ${frame * 5}, 255, 1.0)`;\n      this.ctx.fillRect(0, 0, this.width, this.height);\n      frame++;\n      if (frame === 40) {\n        clearInterval(this.loop);\n        this.draw();\n      }\n    }, 30);\n  }\n  \n  scrollTop = () => {\n    return document.documentElement.scrollTop || window.pageYOffset || document.body.scrollTop;\n  }\n}\n\nexport default Toolbar;","import React from 'react';\nimport styled from 'styled-components/macro';\nimport { c2s } from '../common/MyCommon';\nimport styles from './Menu.module.scss';\n\nconst MrMenu = styled.div.attrs({\n  className: styles.MrMenu\n})`\n  background: ${props => props.theme.MenuBackground};\n  \n  ${c2s(styles.menuHeader)} span {\n    color: ${props => props.theme.MenuHeaderTextColor};\n  }\n  \n  ul li {\n    color: ${props => props.theme.MenuTextColor};\n  }\n  \n  ul li.active {\n    color: ${props => props.theme.ItemActiveTextColor};\n    background: ${props => props.theme.ItemActiveColor};\n  }\n  \n  ${c2s(styles.menuFooter)} {\n    a:link{color:rgba(0,0,0,0.54);}\n    a:visited{color:rgba(0,0,0,0.54);}\n    a:hover{color:#0a0;}\n    a:active{color:#0a0;}\n  }\n  \n  ${c2s(styles.copyright)} {\n    color: ${props => props.theme.MenuTextColor};\n  }\n`;\n\nMrMenu.defaultProps = {\n  theme: {\n    MenuBackground: \"rgba(255,255,255,0.87)\",\n    MenuHeaderTextColor: \"white\",\n    MenuTextColor: \"rgba(0,0,0,0.87)\",\n    ItemActiveTextColor: \"#2196f3\",\n    ItemActiveColor: \"#ddd\"\n  }\n};\n\nexport class Menu extends React.Component {\n  render() {\n    return (\n      <MrMenu\n        ref={element => {\n          if (this.props.getDOM)\n            this.props.getDOM(element);\n        }}>\n        <div className={styles.menuHeader}>\n          <span>menu</span>\n        </div>\n        <div className={styles.MenuContainer}>\n          {this.props.children}\n        </div>\n        <div className={styles.menuFooter}>\n          <span className={styles.copyright}>&copy; me</span>\n        </div>\n      </MrMenu>\n    )\n  }\n}\n\nexport class MenuList extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {currentIndex: 0};\n  }\n\n  getItemList = () => {\n    let i = 0;\n    return React.Children.map(this.props.children, child => {\n      if (!child) return null;\n      return React.cloneElement(child, {\n        key: i,\n        className: this.state.currentIndex === i ? 'active' : '',\n        onClick: event => {\n          this.handleItemClick(event);\n          if (child.props.onClick) child.props.onClick(event);\n        },\n        index: i++\n      });\n    });\n  }\n\n  handleItemClick = event => {\n    this.setState({\n      currentIndex: parseInt(event.currentTarget.getAttribute('index'))\n    });\n  }\n\n  render() {\n    return <ul>{this.getItemList()}</ul>;\n  }\n}\n\nexport default Menu;","import React from 'react';\nimport Velocity from 'velocity-animate';\nimport Toolbar from './Toolbar';\nimport Menu from './Menu';\nimport styles from './Framework.module.scss';\n//import MessageHandler from '../common/MessageHandler';\n\nclass TopMask extends React.Component {\n  render() {\n    return <canvas className={styles.mask} ref={c => TopMask.container = c}></canvas>;\n  }\n  \n  componentDidMount() {\n    TopMask.ctx = TopMask.container.getContext('2d');\n  }\n  \n  static onResize(w, h) {\n    TopMask.container.width = w;\n    TopMask.container.height = h;\n  }\n  \n  static onMotionStart(e) {\n    \n  }\n  \n  static onMotionMove() {\n  \n  }\n  \n  static onMotionEnd() {\n  \n  }\n}\n\nclass Framework extends React.Component {\n  raf = (window.requestAnimationFrame || window.webkitRequestAnimationFrame || window.mozRequestAnimationFrame || window.msRequestAnimationFrame || window.oRequestAnimationFrame).bind(window);\n  menuDOM = null;\n  spaceDOM = null;\n  conDOM = null;\n  bigScreen = false;\n  menuPosX = -316;\n  menuTempOpen = false;\n  _menuMoveMode = true ? 'transform':'left';\n  _menuMoving = false;\n\n  getChildren =\n    _ => React.Children.map(this.props.children, child => {\n      if (child.type === Toolbar) {\n        return React.cloneElement(child, {\n          onMenuClick: this.toggleMenu\n        });\n      }\n      if (child.type === Menu) {\n        return React.cloneElement(child, {\n          getDOM: dom => this.menuDOM = dom\n        });\n      }\n      if (child.props.className === 'content') {\n        return React.cloneElement(child, {\n          ref: dom => this.conDOM = dom\n        });\n      }\n      return child;\n    });\n\n  render() {\n    return (\n      <div className={styles.DrawerView}>\n        <TopMask />\n        {this.getChildren()}\n        <div className={styles.SpaceView} ref={dom => this.spaceDOM = dom} onTouchStart={() => this.closeMenu()}></div>\n      </div>\n    )\n  }\n\n  componentDidMount() {\n    if (this._menuMoveMode === 'transform') {\n      this.menuDOM.style.transform = `translate3d(${this.menuPosX}px,0,0)`;\n    }else{\n      this.menuDOM.style.left = this.menuPosX + 'px';\n    }\n    this.menuDOM.classList.add(styles.menu);\n    this.conDOM.classList.add(styles.content);\n\n    window.addEventListener('resize', this.handleResize);\n    document.body.addEventListener('touchstart', this.handleTouchStart);\n    document.body.addEventListener('touchmove', this.handleTouchMove);\n    document.body.addEventListener('touchend', this.handleTouchEnd);\n    document.body.addEventListener('mousemove', this.handleMouseMove);\n    this.menuDOM.addEventListener('mouseleave', this.onMouseLeaveMenu);\n\n    setTimeout(this.handleResize, 20);\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener('resize', this.handleResize);\n    document.body.removeEventListener('touchstart', this.handleTouchStart);\n    document.body.removeEventListener('touchmove', this.handleTouchMove);\n    document.body.removeEventListener('touchend', this.handleTouchEnd);\n    document.body.removeEventListener('mousemove', this.handleMouseMove);\n    this.menuDOM.addEventListener('mouseleave', this.onMouseLeaveMenu);\n  }\n  \n  handleResize = resizeEvent => {\n    const windowWidth = document.documentElement.clientWidth;\n    const windowHeight = document.documentElement.clientHeight;\n    TopMask.onResize(windowWidth, windowHeight);\n    console.log(`resize(${windowWidth}, ${windowHeight})`);\n    this.bigScreen = windowWidth > 550;\n    this.menuWidth = this.menuDOM.getBoundingClientRect().width;\n    if (!resizeEvent) { // if not called by resize event\n      //init view state\n      this.stepTo(-this.menuWidth);\n    }else{\n      //adjust view state\n      this.moveBack();\n    }\n  }\n\n  prevTouchMenuPosX = null;\n  menuTouchFromX = null;\n  menuTouchMoveX = null;\n  menuTouchPrevX = null;\n  menuPrevLoopTime = null;\n  menuDragSpeed = 0;\n\n  touchMoveLoop = () => {\n    if (this.menuTouchFromX == null) return;\n    if (this.menuTouchMoveX == null) {\n      this.raf(this.touchMoveLoop);\n      return;\n    }\n    \n    //move Menu\n    let targetPosX = this.prevTouchMenuPosX + this.menuTouchMoveX - this.menuTouchFromX;\n    if (targetPosX < -this.menuWidth) targetPosX = -this.menuWidth;\n    if (targetPosX > 0) targetPosX = 0;\n    this.stepTo(targetPosX);\n    \n    //calc speed\n    const now = Date.now();\n    this.menuDragSpeed = (this.menuTouchMoveX - this.menuTouchPrevX) / (now - this.menuPrevLoopTime);\n    this.menuTouchPrevX = this.menuTouchMoveX;\n    this.menuPrevLoopTime = now;\n    \n    this.raf(this.touchMoveLoop);\n  }\n\n  handleTouchStart = event => {\n    TopMask.onMotionStart(event);\n    const touch = event.targetTouches[0];\n    this.prevTouchMenuPosX = this.menuPosX;\n    if (touch.pageX < this.prevTouchMenuPosX + this.menuWidth + 20 && touch.pageY > 50) {\n      this.menuTouchFromX = touch.pageX;\n      this.menuTouchPrevX = this.menuTouchFromX;\n      this.menuDOM.classList.add(styles.touching);\n      this.spaceDOM.classList.add(styles.touching);\n      this.conDOM.classList.add(styles.touching);\n      this.beforeOpenMenu();\n      this.menuPrevLoopTime = Date.now();\n      this.raf(this.touchMoveLoop);\n    }\n  }\n\n  handleTouchMove = event => {\n    TopMask.onMotionMove(event);\n    const touch = event.targetTouches[0];\n    if (this.menuTouchFromX != null) {\n      this.menuTouchMoveX = touch.pageX;\n      return false;\n    }\n  }\n\n  handleTouchEnd = event => {\n    TopMask.onMotionEnd(event);\n    if (this.menuTouchFromX != null) {\n      this.menuTouchFromX = null;\n      this.menuTouchMoveX = null;\n      this.menuTouchPrevX = null;\n      this.prevTouchMenuX = null;\n      this.menuDOM.classList.remove(styles.touching);\n      this.spaceDOM.classList.remove(styles.touching);\n      this.conDOM.classList.remove(styles.touching);\n      //console.log(\"drag speed: \" + this.menuDragSpeed);\n      if (Math.abs(this.menuDragSpeed) > 0.5) {\n        const targetPos = this.menuDragSpeed > 0? 0: -this.menuWidth;\n        const duration = Math.abs((targetPos - this.menuPosX) / this.menuDragSpeed);\n        this.animateTo(targetPos, duration > 50? duration: 50, isReach => {\n          if (targetPos === -this.menuWidth && isReach)\n            this.afterCloseMenu();\n        });\n      }else{\n        this.moveBack();\n      }\n      this.menuPrevLoopTime = null;\n      this.menuDragSpeed = 0;\n    }\n  }\n  \n  handleMouseMove = event => {\n    if (event.pageX === 0) {\n      if (this.menuPosX !== 0 && !this._menuMoving) {\n        this.openMenu();\n        this.menuTempOpen = true;\n      }\n    }\n  }\n  \n  onMouseLeaveMenu = event => {\n    if (this.menuTempOpen && this._menuMoving !== 'close') {\n      this.closeMenu();\n      this.menuTempOpen = false;\n    }\n  }\n\n  /**\n   * arg1: posX from -this.menuWidth to 0\n   */\n  stepTo = posX => {\n    //const motionBlur = Math.abs(posX - this.menuPosX) * 0.2;\n    this.menuPosX = posX;\n    //document.body.style.setProperty('--m-motion-blur', (motionBlur > 5? motionBlur: 0) + 'px');\n    if (this._menuMoveMode === 'transform') {\n      this.menuDOM.style.transform = `translate3d(${posX}px,0,0)`;\n    }else{\n      this.menuDOM.style.left = posX + 'px';\n    }\n    this.spaceDOM.style.opacity = `${posX / this.menuWidth + 1}`;\n    if (this.bigScreen) {\n      this.conDOM.style.width = document.body.offsetWidth - (posX + this.menuWidth) + 1 + 'px';\n    }\n  }\n\n\n  /**\n   * animateTo(target[, duration][, callback])\n   * target: 'open', 'close' or position\n   */\n  animateTo = (target, arg2, arg3) => {\n    let duration = 300;\n    let callback = null;\n    if (typeof(arg2) === \"number\") duration = arg2;\n    if (typeof(arg2) === \"function\") callback = arg2;\n    if (typeof(arg3) === \"function\") callback = arg3;\n    const _complete = isReach => {\n      //document.body.style.setProperty('--m-motion-blur', '0px');\n      this._menuMoving = null;\n      if (callback) callback(isReach);\n    }\n    let posX;\n    if (target === 'open') {\n      posX = 0;\n    }else if (target === 'close') {\n      posX = -this.menuWidth;\n    }else{\n      posX = target;\n    }\n    const prevPosX = this.menuPosX;\n    const distance = posX - prevPosX;\n    this._menuMoving = target;\n    Velocity(this.spaceDOM, \"stop\", true);\n    Velocity(this.spaceDOM, {\n      tween: [0, 1]\n    }, {\n      duration,\n      easing: [0.4, 0.0, 0.2, 1], //FastOutSlowInInterpolator\n      begin: () => {\n        if (this.bigScreen) {\n          this.conDOM.style.width = document.body.offsetWidth - (posX + this.menuWidth) + 1 + 'px';\n        }else{\n          this.conDOM.style.width = '100%';\n        }\n      },\n      progress: (theDOM, percentComplete, remaining, startTime, tweenValue) => { //velocityjs v1\n      //progress: (elements, percentComplete, remaining, tweenValue, activeCall) => { //velocityjs v2\n        if (tweenValue === null) return;\n        const stepPosX = prevPosX + distance * (1 - tweenValue);\n        this.stepTo(stepPosX);\n        if (this.menuTouchFromX) {\n          Velocity(this.spaceDOM, \"stop\", true);\n          _complete(false);\n        }\n      }, \n      complete: () => {\n        _complete(true);\n      }\n    });\n  }\n\n  moveBack = callback => {\n    if (this.menuPosX > -this.menuWidth * 1/2) {\n      this.openMenu(callback);\n    }else{\n      this.closeMenu(callback);\n    }\n  }\n\n  isMenuOpen = () => {\n    return this.menuPosX === 0;\n  }\n\n  beforeOpenMenu = () => {\n    if (this.bigScreen) return;\n    this.spaceDOM.style.display = 'block';\n    document.body.style.overflow = 'hidden';\n  }\n\n  afterCloseMenu = () => {\n    this.spaceDOM.style.display = 'none';\n    document.body.style.overflow = 'unset';\n  }\n\n  openMenu = callback => {\n    this.beforeOpenMenu();\n    this.animateTo('open', callback);\n  }\n\n  closeMenu = callback => {\n    this.animateTo('close', isReach => {\n      if (isReach) this.afterCloseMenu();\n      if (callback) callback(isReach);\n    });\n  }\n\n  toggleMenu = () => {\n    if (this.isMenuOpen()) {\n      this.closeMenu();\n    }else{\n      this.openMenu();\n    }\n  }\n}\n\nexport default Framework;","import React from 'react';\nimport Icon from '@mdi/react';\nimport {mdiClose} from '@mdi/js';\nimport Velocity from 'velocity-animate';\nimport styled from 'styled-components/macro';\nimport { c2s } from '../common/MyCommon';\nimport styles from './FloatActionButton.module.scss';\n\nconst FabWrapper = styled.div.attrs({\n  className: styles.FabWrapper\n})`\n  ${c2s(styles.fabView)} {\n    background: ${props => props.theme.FabColor};\n  }\n  ${c2s(styles.iconWrapper)} svg {\n    fill: ${props => props.theme.FabIconColor};\n  }\n  ${c2s(styles.fabMenu)} div {\n    background: ${props => props.theme.FabMenuColor};\n   }\n`;\n\nFabWrapper.defaultProps = {\n  theme: {\n    FabColor: \"#FF4081\",\n    FabIconColor: \"white\",\n    FabMenuColor: \"#66ccff\"\n  }\n};\n\nclass FloatActionButton extends React.Component {\n  menuDOM = null;\n  fabChild = null;\n\n  constructor(props) {\n    super(props);\n    this.state = {isOpen: false};\n  }\n\n  onClickHandler = () => {\n    const nextState = !this.state.isOpen;\n    const delay = 200 / this.fabChild.length;\n    this.setState({isOpen: nextState});\n    this.fabChild.forEach((child, i) => {\n      Velocity(child, \"stop\", true);\n      Velocity(child, nextState? \"fadeIn\": \"fadeOut\", {duration: 200, delay: delay * i});\n    });\n  }\n\n  render() {\n    return (\n      <FabWrapper className='fab'>\n        <div className={styles.fabView} onClick={this.onClickHandler}>\n          <div className={styles.iconWrapper}>\n            <Icon path={mdiClose} rotate={this.state.isOpen? 360: 315}/>\n          </div>\n        </div>\n        <div className={styles.fabMenu} ref={el => this.menuDOM = el}>\n          {this.props.children}\n        </div>\n      </FabWrapper>\n    );\n  }\n\n  componentDidMount() {\n    // get DOM\n    const fab = this.menuDOM.parentNode;\n    const fabChild = [...this.menuDOM.childNodes];\n    this.fabChild = fabChild;\n    // recover offset (if already adjusted by server side)\n    this.menuDOM.style.left = 'auto';\n    this.menuDOM.style.top = 'auto';\n    fabChild.forEach((child, i) => {\n      child.style.left = 'auto';\n      child.style.top = 'auto';\n    });\n    // calc offset\n    const fabOffset = fab.getBoundingClientRect();\n    fabChild[0].style.display = \"block\"; //so we can get the offset\n    const childOffset = fabChild[0].getBoundingClientRect();\n    fabChild[0].style.display = \"none\";\n    this.menuDOM.style.left = (fabOffset.left + fab.offsetWidth / 2) - (childOffset.left + childOffset.width / 2) + \"px\";\n    this.menuDOM.style.top = (fabOffset.top + fab.offsetHeight / 2) - (childOffset.top + childOffset.height / 2) + fabOffset.height + \"px\";\n    const fabRange = 90 / (fabChild.length - 1);\n    const r = 1.2;\n    fabChild.forEach((child, i) => {\n      child.style.left = - Math.cos((fabRange * i) * Math.PI / 180) * fabOffset.width * r + \"px\";\n      child.style.top = - Math.sin((fabRange * i) * Math.PI / 180) * fabOffset.width * r + \"px\";\n    });\n  }\n}\n\nexport default FloatActionButton;","import React from 'react';\nimport MyCommon from '../common/MyCommon';\nimport Loading from './Loading';\nimport styles from './Banner.module.scss';\n\nclass Banner extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {loaded: false};\n  }\n\n  render() {\n    return (\n      <header className={styles.BannerView}>\n        <span className={styles.con}>\n          <span>...</span><br />\n          <i>under construction</i>\n        </span>\n        <span className={styles.bottom}>\n          {this.state.loaded || <Loading />}\n        </span>\n      </header>\n    );\n  }\n\n  componentDidMount() {\n    if (MyCommon.isSnap) return;\n    this.setState({loaded: true});\n  }\n}\n\nexport default Banner;","//const live2d_path = 'https://cdn.jsdelivr.net/gh/stevenjoezhang/live2d-widget@latest/';\nconst live2d_path = process.env.PUBLIC_URL + '/live2d-widget/';\n\nfunction loadExternalResource(url, type) {\n  return new Promise((resolve, reject) => {\n    let tag;\n    if (type === 'css') {\n      tag = document.createElement('link');\n      tag.rel = 'stylesheet';\n      tag.href = url;\n    } else if (type === 'js') {\n      tag = document.createElement('script');\n      tag.src = url;\n    }\n    if (tag) {\n      tag.async = false;\n      tag.onload = () => resolve(url);\n      tag.onerror = () => reject(url);\n      document.head.appendChild(tag);\n    }\n  });\n}\n\nclass Live2dWidget {\n  static proxy = null;\n  static load = () => loadExternalResource(live2d_path + 'live2d.min.js', 'js')\n    .then(() => import('./waifu-tips'))\n    .then(({ initWidget }) => initWidget({\n      waifuPath: live2d_path + 'waifu-tips.json',\n      apiPath: 'https://live2d.fghrsh.net/api/',\n      //cdnPath: 'https://cdn.jsdelivr.net/gh/fghrsh/live2d_api/'\n    }))\n    .then(instance => {\n      Live2dWidget.proxy = instance;\n    }); \n    // initWidget 第一个参数为 waifu-tips.json 的路径，第二个参数为 API 地址\n    // API 后端可自行搭建，参考 https://github.com/fghrsh/live2d_api\n    // 初始化看板娘会自动加载指定目录下的 waifu-tips.json\n\n  static showMessage = msg => { // the widget may be hid\n    Live2dWidget.proxy.showMessage(msg, 5000, 8);\n  }\n}\n\nexport default Live2dWidget;","import styled from 'styled-components/macro';\n\nconst CardView = styled.div`\n  background: ${props => props.theme.CardColor};\n  color: ${props => props.theme.TextColor};\n  box-shadow: 0 0.2rem 0.2rem rgba(0,0,0,0.54);\n  padding: 0.625rem 1rem;\n  margin: 1rem auto;\n  box-sizing: border-box;\n`;\n\nCardView.defaultProps = {\n  theme: {\n    CardColor: \"white\",\n    TextColor: \"black\"\n  }\n};\n\nexport default CardView;","import styled from 'styled-components/macro';\nimport ClientUtils from '../common/ClientUtils';\nimport CardView from '../components/CardView';\n\nconst Card = styled(CardView)`\n  position: absolute;\n  top: calc(${ClientUtils.getStatusBarHeight()}px + 3.125rem);\n  left: 50%;\n  transform: translate(-50%,0);\n  min-height: 50vh;\n  width: 40rem;\n  max-width: 100%;\n  @media screen and (min-width: 100rem) {\n    width: 50rem;\n  }\n`;\n\nexport default Card;","import React from 'react';\nimport Card from './Card';\n\nexport default function TestPage() {\n  return (\n    <Card>\n      <p>test page</p>\n    </Card>\n  );\n}","import marked from 'marked';\nimport katex from 'katex';\n\nclass ConData {\n  constructor(arg1, arg2) {\n    this.__id = null;\n    this.__content = null\n    this.__html = null;\n    this.__title = null;\n    if (arg2) {\n      this.__initFromCon(arg1, arg2);\n    }else{\n      this.__parseFromJSON(arg1);\n    }\n  }\n  \n  __initFromCon(id, con) {\n    this.__id = id;\n    this.__content = con;\n    const r1 = /^(-{3,})\\n((\\w+): ([\\S\\s]*?)\\n)+\\1\\n\\n/.exec(con);\n    if (r1 != null && r1.length > 1) {\n      const lines = r1[0].split(\"\\n\");\n      const r2 = /^(\\w+): (['\"]?)([\\S\\s]*)\\2$/;\n      const map = new Map();\n      let item;\n      for (let i = 1; i < (lines.length - 3); i++) {\n        item = r2.exec(lines[i]);\n        if (item && item.length > 3) {\n          map.set(item[1], item[3]);\n        }\n      }\n      if (map.has(\"title\")) {\n        this.__title = map.get(\"title\");\n      }\n      this.__html = this.__process(con.substr(r1[0].length));\n    }else{\n      this.__html = this.__process(con);\n      const r = /<h1[\\s\\S]*>([\\s\\S]*)<\\/h1>/.exec(this.__html);\n      if (r != null && r.length > 1) {\n        this.__title = r[1];\n      }\n    }\n  }\n  \n  __parseFromJSON(data) {\n    if (typeof data === 'string') {\n      data = JSON.parse(data);\n    }\n    if (!('id' in data && 'con' in data && 'html' in data)) {\n      console.log(data);\n      throw new Error('invalid ConData json');\n    }\n    this.__id = data.id;\n    this.__content = data.con;\n    this.__html = data.html;\n    if (data.title) this.__title = data.title;\n  }\n\n  __process(source) {\n    const tokenizer = new marked.Tokenizer();\n    const originalCodespan = tokenizer.codespan;\n    tokenizer.codespan = function(src) {\n      const match = src.match(/(\\$+)([^$\\n]+?)\\1/);\n      if (match) {\n        return {\n          type: 'html',\n          raw: match[0],\n          text: katex.renderToString(match[2].trim(), {\n            displayMode: match[1] === '$$',\n            throwOnError: false\n          })\n        };\n      }\n      return originalCodespan.apply(this, arguments);\n    };\n    return marked(source, { tokenizer });\n  }\n\n  getState() {\n    const stateVals = {\n      id: this.__id,\n      con: this.__content,\n      html: this.__html,\n      title: this.__title\n    }\n    return stateVals;\n  }\n  toString() {\n    return JSON.stringify(this.getState());\n  }\n\n  getHtml() {\n    return this.__html;\n  }\n  getId() {\n    return this.__id;\n  }\n  getSource() {\n    return this.__content;\n  }\n  getTitle() {\n    return this.__title;\n  }\n\n  static parse(str) {\n    return new ConData(str);\n  }\n}\n\nexport default ConData;","import axios from 'axios';\nimport ConData from './ConData';\n\nclass ConLoader {\n  conDataCache = null;\n  //path = /.*\\//.exec(window.location.pathname) + 'content';\n  path = 'https://cdn.jsdelivr.net/gh/chettoy/my-note@gh-pages/content';\n\n  /*\n   * load a content by id\n   * callback: fun(statusCode, conData, isFromCache)\n   */\n  loadContent(id, callback) {\n    const key = `_id_${id}`;\n    this._checkCache();\n    if (this.conDataCache.has(key)) {\n      const cachedData = this.conDataCache.get(key);\n      if(cachedData !== null) {\n        if (callback) callback(200, cachedData, true);\n        return;\n      }\n    }\n    axios.get(`${this.path}/${id}.md`)\n      .then(response => {\n        const conData = new ConData(id, response.data);\n        this.conDataCache.set(key, conData);\n        if (callback) callback(response.status, conData, false);\n      })\n      .catch(error => {\n        if (!error.response) {\n          throw error;\n        }\n        if (error.response.status !== 404) {\n          console.log(`load con[id=${id}]: ${error}`);\n        }\n        if (callback) callback(error.response.status, null, false);\n      });\n  }\n\n  _loadItems(itemCallback) {\n    return new Promise((resolve, reject) => {\n      let itemId = 0;\n      const loadItem = () => {\n        this.loadContent(itemId, (status, data, isFromCache) => {\n          if (status === 200) {\n            itemCallback(status, data, isFromCache);\n            itemId++;\n            if (itemId > 10) {\n              reject(\"over 10 content\");\n            }else{\n              loadItem();\n            }\n          }else if (status === 404 || status === 0) {\n            resolve();\n          }else{\n            reject(status);\n          }\n        });\n      };\n      this.loadContent(\"header\", status => {\n        if (status === 200) loadItem();\n      });\n    });\n  }\n\n  reqUpdate(onNewConLoaded) {\n    return new Promise((resolve, reject) => {\n      this._loadItems((statusCode, conData, isFromCache) => {\n        if (!isFromCache) onNewConLoaded(conData, [...this.conDataCache.values()]);\n      }).then(() => {\n        console.log('content loaded');\n        this._saveCache();\n        resolve();\n      }).catch(reason => {\n        console.log('content load error: ' + reason);\n        reject(reason);\n      });\n    });\n  }\n\n  reqCache(callback) {\n    this._checkCache();\n    callback([...this.conDataCache.values()]);\n  }\n\n  _saveCache() {\n    if (this.conDataCache === null) return;\n    if (!window['sessionStorage']) return;\n    const cacheArr = [];\n    for (const [, val] of this.conDataCache) {\n      cacheArr.push(val.getState());\n    }\n    sessionStorage.setItem('con_cache', JSON.stringify(cacheArr));\n  }\n  \n  _checkCache() {\n    if (this.conDataCache !== null) return;\n    this.conDataCache = new Map();\n    if (!window['sessionStorage']) return;\n    const savedCache = sessionStorage.getItem('con_cache');\n    if (!savedCache) return;\n    const cacheArr = JSON.parse(savedCache);\n    cacheArr.forEach((val, i) => {\n      const conData = new ConData(val);\n      const key = `_id_${conData.getId()}`;\n      if (!this.conDataCache.has(key)) {\n        this.conDataCache.set(key, conData);\n      }\n    });\n  }\n}\n\nexport default ConLoader;","import styled from 'styled-components/macro';\nimport CardView from '../../components/CardView';\n\nconst ConCard = styled(CardView)`\n  width: 40rem;\n  max-width: 100%;\n  @media screen and (min-width: 100rem) {\n    width: 50rem;\n  }\n`;\n\nexport default ConCard;","import React from 'react';\nimport { Link, withRouter } from 'react-router-dom';\nimport PropTypes from 'prop-types';\nimport DOMPurify from 'dompurify';\nimport ConCard from './ConCard';\nimport ConData from './ConData';\n\nclass ConItem extends React.Component\n{\n  static propTypes = {\n    data: PropTypes.instanceOf(ConData).isRequired\n  }\n\n  render() {\n    const { data } = this.props;\n    const title = data.getTitle();\n    if (title) {\n      let text = DOMPurify.sanitize(data.getHtml(), {ALLOWED_TAGS: [], KEEP_CONTENT: true});\n      if (text.substr(0, title.length) === title) {\n        text = text.substr(title.length, text.length);\n      }\n      if (text.length > 100) {\n        text = `${text.substr(0, 100)}...`;\n      }\n      return (\n        <ConCard {...this.props}>\n          <Link className=\"con-preview post-title-link\"\n            to={`${this.props.match.url}id/${data.getId()}`}\n            onClick={this.onPreviewClick}>{title}</Link>\n          <p className=\"con-preview\">{text}</p>\n        </ConCard>\n      );\n    }else{\n      const clean = DOMPurify.sanitize(data.getHtml());\n      return <ConCard {...this.props} dangerouslySetInnerHTML={{__html: clean}} />;\n    }\n  }\n}\n\nexport default withRouter(ConItem);","import React from 'react';\nimport PropTypes from 'prop-types';\nimport ConLoader from './ConLoader';\nimport ConItem from './ConItem';\nimport Loading from '../../components/Loading';\n\nclass ConList extends React.Component {\n  static propTypes = {\n    conLoader: PropTypes.instanceOf(ConLoader).isRequired\n  }\n\n  constructor(props) {\n    super(props);\n    this.mounted = false;\n    this.state = {\n      conList: [],\n      loading: true\n    };\n  }\n\n  componentDidMount() {\n    this.mounted = true;\n    this.setState({loading: false});\n    const loader = this.props.conLoader;\n    //If you have just loaded a content, it will be displayed on top\n    loader.reqCache(list => {\n      if (this.mounted) this.setState({conList: list});\n    });\n    const prevUpdateTime = window['sessionStorage']?.getItem('conListUpdateTime') ?? 0;\n    console.log('lastUpdateTime: ' + prevUpdateTime);\n    if (Math.abs(Date.now() - prevUpdateTime) < 2 * 60 * 1000) return;\n    console.log('updating content...');\n    loader.reqUpdate((item, list) => {\n      if (this.mounted) this.setState({conList: list});\n    }).then(() => {\n      window['sessionStorage'] && sessionStorage.setItem('conListUpdateTime', Date.now());\n    });\n  }\n\n  componentWillUnmount() {\n    this.mounted = false;\n  }\n\n  render() {\n    return this.state.loading? <Loading />:\n      this.state.conList.map((conData, i) =>\n        <ConItem key={conData.getId()} data={conData} />);\n  }\n}\n\nexport default ConList;","import React from 'react';\nimport DOMPurify from 'dompurify';\nimport PropTypes from 'prop-types';\nimport ConLoader from './ConLoader';\nimport ConCard from './ConCard';\nimport Loading from '../../components/Loading';\n\nclass ConDetail extends React.Component {\n  static propTypes = {\n    conLoader: PropTypes.instanceOf(ConLoader).isRequired\n  }\n\n  constructor(props) {\n    super(props);\n    this.mounted = false;\n    this.state = {html: null};\n  }\n\n  componentDidMount() {\n    this.mounted = true;\n    const loader = this.props.conLoader;\n    loader.loadContent(this.props.match.params.id, (statusCode, conData, isFromCache) => {\n      if (statusCode !== 200 || !conData) {\n        if (this.mounted) this.setState({html: `<p>Failed to load (${statusCode})</p>`});\n        return;\n      }\n      if (this.mounted) {\n        this.setState({\n          html: DOMPurify.sanitize(conData.getHtml(), {\n            ADD_TAGS: ['semantics', 'annotation'] // for KaTeX mathMl\n          })\n        });\n      }\n      if (!isFromCache) loader._saveCache();\n    });\n  }\n\n  componentWillUnmount() {\n    this.mounted = false;\n  }\n\n  render() {\n    return this.state.con === null? <Loading />:\n      <ConCard dangerouslySetInnerHTML={{__html: this.state.html}} />;\n  }\n}\n\nexport default ConDetail;","import React from 'react';\nimport { matchPath, withRouter } from 'react-router';\nimport { Route, Switch } from 'react-router-dom';\nimport { TransitionGroup, CSSTransition } from 'react-transition-group';\nimport styled from 'styled-components/macro';\nimport Velocity from 'velocity-animate';\nimport Card from './Card';\nimport ConLoader from './ContentPage/ConLoader';\nimport ConList from './ContentPage/ConList';\nimport ConDetail from './ContentPage/ConDetail';\n\nimport 'katex/contrib/copy-tex/copy-tex.js';\nimport 'katex/contrib/copy-tex/copy-tex.css';\nimport 'katex/contrib/mhchem/mhchem.js';\n\nconst ConContainer = styled(Card)`\n  background: transparent;\n  box-shadow: none;\n  margin: 0;\n  padding: 0;\n  width: auto;\n  height: auto;\n  font-size: 1rem;\n  line-height: 1.5rem;\n  @media screen and (max-width:549px) {\n    padding: 0 0.375rem;\n  }\n  h1 {\n    font-size: 1.5rem;\n  }\n  a.con-preview {\n    color: #2196f3;\n    font-size: 1.5rem;\n  }\n  iframe, video, img {\n    max-width: 100%;\n    height: auto;\n  }\n  blockquote {\n    margin: 0;\n    padding: 0.3rem 0.5rem;\n    border-left: 0.25rem solid #0c0;\n    background: #f5f2f0;\n  }\n  pre {\n    overflow: auto;\n  }\n`;\n\nclass ContentPage extends React.Component {\n  constructor(props) {\n    super(props);\n    this.loader = new ConLoader();\n    this.viewRef = React.createRef();\n    this.routes = {\n      list: {name: 'list', path: '/'},\n      detail: {name: 'detail', path: '/id/:id'}\n    };\n    this.currentView = (({ pathname }) => {\n      if (matchPath(pathname, {path: this.routes.detail.path})) {\n        return this.routes.detail.name;\n      }else if (matchPath(pathname, {path: this.routes.list.path, exact: true})) {\n        return this.routes.list.name;\n      }else{\n        return '';\n      }\n    })(props.location);\n  }\n\n  getWrapperDOM() {\n    return this.viewRef.current.parentNode;\n  }\n\n  getTop(dom) {\n    const scrollTop = document.documentElement.scrollTop || window.pageYOffset || document.body.scrollTop;\n    return dom.parentNode.getBoundingClientRect().top + scrollTop;\n  }\n\n  saveScroll() {\n    const key = 'conPageScroll_' + this.currentView;\n    const cardWrapper = this.getWrapperDOM();\n    window.sessionStorage[key] = - cardWrapper.getBoundingClientRect().top;\n  }\n  \n  recoverScroll() {\n    const key = 'conPageScroll_' + this.currentView;\n    if (!(key in window.sessionStorage)) return;\n    const cardWrapper = this.getWrapperDOM();\n    Velocity(cardWrapper, 'scroll', {offset: window.sessionStorage[key]});\n  }\n\n  componentDidMount() {\n    this._scrollRestoration = window.history.scrollRestoration;\n    window.history.scrollRestoration = 'manual';\n    this.unlistenHistory = this.props.history.listen((location, action) => {\n      if (matchPath(location.pathname, {path: this.routes.detail.path})) {\n        this.saveScroll();\n        this.currentView = this.routes.detail.name;\n        Velocity(this.getWrapperDOM(), 'scroll');\n      }else if (matchPath(location.pathname, {path: this.routes.list.path, exact: true})) {\n        this.currentView = this.routes.list.name;\n        this.recoverScroll();\n      }\n    });\n    this.recoverScroll();\n  }\n\n  componentWillUnmount() {\n    this.saveScroll();\n    window.history.scrollRestoration = this._scrollRestoration;\n    this.unlistenHistory();\n  }\n\n  render() {\n    return (\n      <div ref={this.viewRef}>\n        <Route\n          render={({ location, match }) => (\n          <TransitionGroup>\n            <CSSTransition key={location.pathname} classNames='router' timeout={500}>\n              <ConContainer>\n                <Switch location={location}>\n                  <Route\n                    path={this.routes.list.path} exact\n                    render={(props) => <ConList {...props} conLoader={this.loader} />} />\n                  <Route\n                    path={this.routes.detail.path}\n                    render={(props) => <ConDetail {...props} conLoader={this.loader} />} />\n                  <Route\n                    render={() => {\n                      console.log(`ConPage: pathname=${location.pathname}, match.url=${match.url}`);\n                    }} />\n                </Switch>\n              </ConContainer>\n            </CSSTransition>\n          </TransitionGroup>\n        )} />\n      </div>\n    );\n  }\n}\n\nexport default withRouter(ContentPage);","import React from 'react';\nimport { Redirect, Route, Switch } from 'react-router-dom';\nimport { TransitionGroup, CSSTransition } from 'react-transition-group';\nimport TestPage from './TestPage';\nimport ContentPage from './ContentPage';\n\nconst getKey = location => {\n  const path = location.pathname;\n  if (path === '/' || path.startsWith('/id/')) {\n    return 'con';\n  }\n  return path;\n}\n\nclass CardRouter extends React.Component {\n  render() {\n    return (\n      <Route\n        render={({ location }) => (\n          <TransitionGroup className='CardWrapper'>\n            <CSSTransition key={getKey(location)} classNames='router' timeout={500}>\n              <Switch location={location}>\n                <Route exact path='/' render={ContentPage} />\n                <Route path='/id/' render={ContentPage} />\n                <Route exact path='/test' render={TestPage} />\n                <Route exact path='/404' render={() => <div>Not Found</div>} />\n                <Redirect from='*' to='/' />\n              </Switch>\n            </CSSTransition>\n          </TransitionGroup>\n        )}\n      />\n    );\n  }\n}\n\nexport default CardRouter;","const Theme = {\n  AppBackground: \"#282c34\",\n  CardColor: \"rgba(32,33,36,0.92)\",\n  TextColor: \"rgba(255,255,255,0.87)\",\n  FabColor: \"#ff4081\",\n  FabIconColor: \"white\",\n  FabMenuColor: \"#66ccff\",\n  MenuBackground: \"rgba(255,255,255,0.87)\",\n  MenuHeaderTextColor: \"white\",\n  MenuTextColor: \"rgba(0,0,0,0.87)\",\n  ItemActiveTextColor: \"#2196f3\",\n  ItemActiveColor: \"#ddd\",\n  StatusBarColor: \"#2196f3\",\n  ToolbarIconColor: \"white\",\n  TitleColor: \"white\"\n};\n\nexport default Theme;","const Theme = {\n  AppBackground: \"url('https://img.xjh.me/random_img.php?type=bg&ctype=nature&return=302'),#e0e0e0\",\n  CardColor: \"rgba(255,255,255,1.0)\",\n  TextColor: \"rgba(0,0,0,0.87)\",\n  FabColor: \"#ff4081\",\n  FabIconColor: \"white\",\n  FabMenuColor: \"#66ccff\",\n  MenuBackground: \"rgba(255,255,255,0.87)\",\n  MenuHeaderTextColor: \"white\",\n  MenuTextColor: \"rgba(0,0,0,0.87)\",\n  ItemActiveTextColor: \"#2196f3\",\n  ItemActiveColor: \"#ddd\",\n  StatusBarColor: \"#2196f3\",\n  ToolbarIconColor: \"black\",\n  TitleColor: \"white\"\n};\n\nexport default Theme;","import React from 'react';\nimport { Helmet } from 'react-helmet';\nimport { withRouter } from 'react-router-dom';\nimport styled, { ThemeProvider } from 'styled-components/macro';\nimport ClientUtils from './common/ClientUtils';\nimport MessageHandler from './common/MessageHandler';\nimport MyCommon from './common/MyCommon';\nimport SnackBar from './common/SnackBar';\nimport Toast from './common/SuperToast';\nimport Loading from './components/Loading';\nimport Framework from './components/Framework';\nimport Toolbar from './components/Toolbar';\nimport { Menu, MenuList } from './components/Menu';\nimport FloatActionButton from './components/FloatActionButton';\nimport Banner from './components/Banner';\nimport Live2dWidget from './components/live2d-widget';\nimport CardRouter from './cards/CardRouter';\nimport Dark from './themes/Dark';\nimport Light from './themes/Light';\nimport Config from './Config';\nimport './App.scss';\n\nconst MusicPlayer = React.lazy(() => import('./components/MusicPlayer'));\n\nconst toast = (text, during=Toast.LENGTH_SHORT) => {\n  Toast.makeText(null, text, during).show();\n};\n\nconst BackgroundCanvas = styled.canvas.attrs({className: 'bg'})`\n  background: ${props => props.theme.AppBackground};\n`;\nBackgroundCanvas.defaultProps = {theme: {AppBackground: '#e0e0e0'}};\n\n\nclass App extends React.Component {\n  view = null;\n  themeList = [Light, Dark];\n  loadSet = new Set(['app', 'bg']);\n\n  constructor(props) {\n    super(props);\n    try {\n      this.sessionStorageSupported = ('sessionStorage' in window && window['sessionStorage'] !== null);\n    } catch(e) {}\n    this.state = {\n      isLoading: true,\n      currentTheme: 0\n    };\n    MessageHandler.init({\n      context: this,\n      log: (tag, msg) => {\n        const text = `[${tag}] ${msg}`;\n        console.log(text);\n        Toast.makeText(this, text, Toast.LENGTH_LONG).show();\n      }\n    });\n  }\n\n  getTheme = () => this.themeList[this.state.currentTheme];\n\n  updateProgress = item => {\n    if (!this.loadSet.has(item)) return;\n    this.loadSet.delete(item);\n    const progress = window.NProgress; // imported in index.html\n    if (!progress) {\n      console.log('NProgress not found');\n      return;\n    }\n    if (this.loadSet.size > 0) {\n      progress.inc();\n    }else{\n      progress.done();\n    }\n  }\n\n  handleSearch = str => {\n    const r = /#([\\w\\-.]+)=(.+)/.exec(str);\n    if (r != null && r.length > 2) {\n      const key = r[1];\n      const value = r[2];\n      switch (key) {\n        case 'href':\n          if (!ClientUtils.open(value))\n            window.location.href = value;\n          break;\n        case 'id':\n          this.goTo('/id/' + value);\n          break;\n        default:\n          break;\n      }\n    }\n    toast('search ' + str);\n  }\n\n  goTo = path => {\n    if (path === this.props.location.pathname) return;\n    if (path === '/') {\n      this.props.history.goBack();\n    }else{\n      this.props.history.push(path);\n    }\n  }\n\n  render() {\n    return (\n      <>\n        <Helmet>\n          <meta name='google' content='notranslate' />\n          <title>mynote</title>\n        </Helmet>\n        <ThemeProvider theme={this.getTheme()}>\n          <Framework ref={instance => this.view = instance}>\n            <BackgroundCanvas />\n            <Toolbar statusBarHeight={ClientUtils.getStatusBarHeight()} onSearch={this.handleSearch} />\n            <Menu>\n              <React.Suspense fallback={<Loading />}>\n                {this.state.isLoading? null: <MusicPlayer />}\n              </React.Suspense>\n              <MenuList>\n                <li onClick={() => this.goTo('/')}>item1</li>\n                <li onClick={() => {\n                  SnackBar.make(null, 'test', -1)\n                    .setOnShowed(this.view.closeMenu)\n                    .show();\n                  setTimeout(this.view.closeMenu, 2000);\n                }}>item2</li>\n                <li onClick={() => {\n                  if (document.body.classList.contains(\"x\")) {\n                    document.body.classList.remove(\"x\");\n                  }else{\n                    document.body.classList.add(\"x\");\n                  }\n                }}>item3</li>\n                <li onClick={() => {\n                  if (this.state.currentTheme < this.themeList.length - 1) {\n                    this.setState({currentTheme: this.state.currentTheme + 1});\n                  }else{\n                    this.setState({currentTheme: 0});\n                  }\n                }}>item4</li>\n                {ClientUtils.isClient && <li onClick={() => ClientUtils.exit()}>Exit</li>}\n                <li onClick={() => this.view.closeMenu()}>close</li>\n              </MenuList>\n            </Menu>\n            <main className='content'>\n              <FloatActionButton>\n                <div onClick={() => toast('test')}>1</div>\n                <div onClick={() => this.goTo('/test')}>2</div>\n                <div>3</div>\n              </FloatActionButton>\n              <Banner />\n              {this.state.isLoading || <CardRouter />}\n            </main>\n          </Framework>\n        </ThemeProvider>\n      </>\n    );\n  }\n\n  componentDidMount() {\n    if (MyCommon.isSnap) return;\n    this.setState({isLoading: false});\n    this.updateProgress('app');\n    \n    //check background image load state\n    (() => {\n      const bgMatch = this.getTheme().AppBackground.match(/url\\((['\"])(.+)\\1\\)/);\n      if (!bgMatch) return;\n      const url = bgMatch[2];\n      const img = new Image();\n      img.src = url;\n      if (img.complete) {\n        this.updateProgress('bg');\n      }else{\n        img.onload = () => {\n          this.updateProgress('bg');\n        }\n      }\n    })();\n\n    //delete the pre-rendered style\n    ((styleTag = document.querySelectorAll('style[data-styled]')) => {\n      if (styleTag.length === 2 && styleTag[0].innerHTML && !styleTag[1].innerHTML)\n        styleTag[0].parentNode.removeChild(styleTag[0]);\n    })();\n\n    //init live2d\n    if (Config.loadLive2d) Live2dWidget.load();\n\n    //show welcome\n    const sessionStorageSupported = ('sessionStorage' in window && window['sessionStorage'] !== null);\n    if ((!sessionStorageSupported) || sessionStorage.show_welcome === undefined) {\n      setTimeout(() => {\n        if (sessionStorageSupported) {\n          sessionStorage.show_welcome = true;\n        }\n        SnackBar.make(this.view.conDOM, \"Welcome\", SnackBar.LENGTH_LONG).show();\n      }, 1500);\n    }\n  }\n}\n\nexport default withRouter(App);","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read http://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit http://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See http://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { HashRouter as Router } from 'react-router-dom';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nconst app = (\n  <Router><App /></Router>\n);\n\nconst rootElement = document.getElementById('root');\nif (rootElement.hasChildNodes()) {\n  ReactDOM.hydrate(app, rootElement);\n} else {\n  ReactDOM.render(app, rootElement);\n}\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: http://bit.ly/CRA-PWA\nserviceWorker.register();\n"],"sourceRoot":""}
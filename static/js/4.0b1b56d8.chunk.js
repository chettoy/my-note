(this["webpackJsonpmy-note"]=this["webpackJsonpmy-note"]||[]).push([[4],{270:function(e,t,n){},688:function(e,t,n){"use strict";n.r(t),n.d(t,"initWidget",(function(){return s})),n.d(t,"loadWidget",(function(){return i}));n(270);const a=window.Live2D,o=window.loadlive2d;function i(e){let t,{waifuPath:n,apiPath:i,cdnPath:s}=e,c=!1;function l(e){return Array.isArray(e)?e[Math.floor(Math.random()*e.length)]:e}"string"===typeof i&&(i.endsWith("/")||(i+="/")),"string"===typeof s&&(c=!0,s.endsWith("/")||(s+="/")),localStorage.removeItem("waifu-display"),sessionStorage.removeItem("waifu-text"),document.body.insertAdjacentHTML("beforeend","<div id='waifu'>\n      <div id='waifu-tips'></div>\n      <canvas id='live2d' width='500' height='500'></canvas>\n      <div id='waifu-tool'>\n        <span class='fa fa-lg fa-comment'></span>\n        <span class='fa fa-lg fa-paper-plane'></span>\n        <span class='fa fa-lg fa-user-circle'></span>\n        <span class='fa fa-lg fa-street-view'></span>\n        <span class='fa fa-lg fa-camera-retro'></span>\n        <span class='fa fa-lg fa-info-circle'></span>\n        <span class='fa fa-lg fa-times'></span>\n      </div>\n    </div>"),setTimeout((()=>{const e=document.getElementById("waifu");e.style.bottom=0,e.classList.add("fab")}),0);let d,r=0,u=!1,m=["\u597d\u4e45\u4e0d\u89c1\uff0c\u65e5\u5b50\u8fc7\u5f97\u597d\u5feb\u5462\u2026\u2026","\u55e8\uff5e\u5feb\u6765\u9017\u6211\u73a9\u5427\uff01"];function f(){fetch("https://v1.hitokoto.cn").then((e=>e.json())).then((e=>{let t="\u8fd9\u53e5\u4e00\u8a00\u6765\u81ea <span>\u300c".concat(e.from,"\u300d</span>\uff0c\u662f <span>").concat(e.creator,"</span> \u5728 hitokoto.cn \u6295\u7a3f\u7684\u3002");p(e.hitokoto,12e3,9),setTimeout((()=>{p(t,4e3,9)}),12e3)}))}function p(e,t,n){if(!e||sessionStorage.getItem("waifu-text")&&sessionStorage.getItem("waifu-text")>n)return;d&&(clearTimeout(d),d=null),e=l(e),sessionStorage.setItem("waifu-text",n);let a=document.getElementById("waifu-tips");a.innerHTML=e,a.classList.add("waifu-tips-active"),d=setTimeout((()=>{sessionStorage.removeItem("waifu-text"),a.classList.remove("waifu-tips-active")}),t)}async function w(){let e=await fetch("".concat(s,"model_list.json")),n=await e.json();t=n}async function g(e,n,a){if(localStorage.setItem("modelId",e),localStorage.setItem("modelTexturesId",n),p(a,4e3,10),c){t||await w();let n=l(t.models[e]);o("live2d","".concat(s,"model/").concat(n,"/index.json"))}else o("live2d","".concat(i,"get/?id=").concat(e,"-").concat(n)),console.log("Live2D \u6a21\u578b ".concat(e,"-").concat(n," \u52a0\u8f7d\u5b8c\u6210"))}async function h(){let e=localStorage.getItem("modelId"),n=localStorage.getItem("modelTexturesId");if(c){t||await w();let n=l(t.models[e]);o("live2d","".concat(s,"model/").concat(n,"/index.json")),p("\u6211\u7684\u65b0\u8863\u670d\u597d\u770b\u561b\uff1f",4e3,10)}else fetch("".concat(i,"rand_textures/?id=").concat(e,"-").concat(n)).then((e=>e.json())).then((t=>{1!==t.textures.id||1!==n&&0!==n?g(e,t.textures.id,"\u6211\u7684\u65b0\u8863\u670d\u597d\u770b\u561b\uff1f"):p("\u6211\u8fd8\u6ca1\u6709\u5176\u4ed6\u8863\u670d\u5462\uff01",4e3,10)}))}async function v(){let e=localStorage.getItem("modelId");if(c){t||await w();let n=++e>=t.models.length?0:e;g(n,0,t.messages[n])}else fetch("".concat(i,"switch/?id=").concat(e)).then((e=>e.json())).then((e=>{g(e.model.id,0,e.model.message)}))}return window.addEventListener("mousemove",(()=>u=!0)),window.addEventListener("keydown",(()=>u=!0)),setInterval((()=>{u?(r=0,u=!1):(r++,r%120===0?p(l(m),6e3,9):r%40===0&&f())}),1e3),function(){document.querySelector("#waifu-tool .fa-comment").addEventListener("click",f),document.querySelector("#waifu-tool .fa-paper-plane").addEventListener("click",(()=>{if(window.Asteroids){const e=window.Asteroids;window.ASTEROIDSPLAYERS||(window.ASTEROIDSPLAYERS=[]),window.ASTEROIDSPLAYERS.push(new e)}else{let e=document.createElement("script");e.src="https://cdn.jsdelivr.net/gh/GalaxyMimi/CDN/asteroids.js",document.head.appendChild(e)}})),document.querySelector("#waifu-tool .fa-user-circle").addEventListener("click",v),document.querySelector("#waifu-tool .fa-street-view").addEventListener("click",h),document.querySelector("#waifu-tool .fa-camera-retro").addEventListener("click",(()=>{p("\u7167\u597d\u4e86\u561b\uff0c\u662f\u4e0d\u662f\u5f88\u53ef\u7231\u5462\uff1f",6e3,9),a.captureName="photo.png",a.captureFrame=!0})),document.querySelector("#waifu-tool .fa-info-circle").addEventListener("click",(()=>{window.open("https://github.com/stevenjoezhang/live2d-widget")})),document.querySelector("#waifu-tool .fa-times").addEventListener("click",(()=>{localStorage.setItem("waifu-display",Date.now()),p("\u613f\u4f60\u6709\u4e00\u5929\u80fd\u4e0e\u91cd\u8981\u7684\u4eba\u91cd\u9022\u3002",2e3,11),document.getElementById("waifu").style.bottom="-500px",setTimeout((()=>{document.getElementById("waifu").style.display="none"}),3e3)}));let e=()=>{};console.log("%c",e),e.toString=()=>{p("\u54c8\u54c8\uff0c\u4f60\u6253\u5f00\u4e86\u63a7\u5236\u53f0\uff0c\u662f\u60f3\u8981\u770b\u770b\u6211\u7684\u5c0f\u79d8\u5bc6\u5417\uff1f",6e3,9)},window.addEventListener("copy",(()=>{p("\u4f60\u90fd\u590d\u5236\u4e86\u4e9b\u4ec0\u4e48\u5440\uff0c\u8f6c\u8f7d\u8981\u8bb0\u5f97\u52a0\u4e0a\u51fa\u5904\u54e6\uff01",6e3,9)})),window.addEventListener("visibilitychange",(()=>{document.hidden||p("\u54c7\uff0c\u4f60\u7ec8\u4e8e\u56de\u6765\u4e86\uff5e",6e3,9)}))}(),function(){let e;if("/"===window.location.pathname){let t=(new Date).getHours();e=t>5&&t<=7?"\u65e9\u4e0a\u597d\uff01\u4e00\u65e5\u4e4b\u8ba1\u5728\u4e8e\u6668\uff0c\u7f8e\u597d\u7684\u4e00\u5929\u5c31\u8981\u5f00\u59cb\u4e86\u3002":t>7&&t<=11?"\u4e0a\u5348\u597d\uff01\u5de5\u4f5c\u987a\u5229\u561b\uff0c\u4e0d\u8981\u4e45\u5750\uff0c\u591a\u8d77\u6765\u8d70\u52a8\u8d70\u52a8\u54e6\uff01":t>11&&t<=13?"\u4e2d\u5348\u4e86\uff0c\u5de5\u4f5c\u4e86\u4e00\u4e2a\u4e0a\u5348\uff0c\u73b0\u5728\u662f\u5348\u9910\u65f6\u95f4\uff01":t>13&&t<=17?"\u5348\u540e\u5f88\u5bb9\u6613\u72af\u56f0\u5462\uff0c\u4eca\u5929\u7684\u8fd0\u52a8\u76ee\u6807\u5b8c\u6210\u4e86\u5417\uff1f":t>17&&t<=19?"\u508d\u665a\u4e86\uff01\u7a97\u5916\u5915\u9633\u7684\u666f\u8272\u5f88\u7f8e\u4e3d\u5462\uff0c\u6700\u7f8e\u4e0d\u8fc7\u5915\u9633\u7ea2\uff5e":t>19&&t<=21?"\u665a\u4e0a\u597d\uff0c\u4eca\u5929\u8fc7\u5f97\u600e\u4e48\u6837\uff1f":t>21&&t<=23?["\u5df2\u7ecf\u8fd9\u4e48\u665a\u4e86\u5440\uff0c\u65e9\u70b9\u4f11\u606f\u5427\uff0c\u665a\u5b89\uff5e","\u6df1\u591c\u65f6\u8981\u7231\u62a4\u773c\u775b\u5440\uff01"]:"\u4f60\u662f\u591c\u732b\u5b50\u5440\uff1f\u8fd9\u4e48\u665a\u8fd8\u4e0d\u7761\u89c9\uff0c\u660e\u5929\u8d77\u7684\u6765\u561b\uff1f"}else if(""!==document.referrer){let t=new URL(document.referrer),n=t.hostname.split(".")[1];e=window.location.hostname===t.hostname?"\u6b22\u8fce\u9605\u8bfb<span>\u300c".concat(document.title.split(" - ")[0],"\u300d</span>"):"baidu"===n?"Hello\uff01\u6765\u81ea \u767e\u5ea6\u641c\u7d22 \u7684\u670b\u53cb<br>\u4f60\u662f\u641c\u7d22 <span>".concat(t.search.split("&wd=")[1].split("&")[0],"</span> \u627e\u5230\u7684\u6211\u5417\uff1f"):"so"===n?"Hello\uff01\u6765\u81ea 360\u641c\u7d22 \u7684\u670b\u53cb<br>\u4f60\u662f\u641c\u7d22 <span>".concat(t.search.split("&q=")[1].split("&")[0],"</span> \u627e\u5230\u7684\u6211\u5417\uff1f"):"google"===n?"Hello\uff01\u6765\u81ea \u8c37\u6b4c\u641c\u7d22 \u7684\u670b\u53cb<br>\u6b22\u8fce\u9605\u8bfb<span>\u300c".concat(document.title.split(" - ")[0],"\u300d</span>"):"Hello\uff01\u6765\u81ea <span>".concat(t.hostname,"</span> \u7684\u670b\u53cb")}else e="\u6b22\u8fce\u9605\u8bfb<span>\u300c".concat(document.title.split(" - ")[0],"\u300d</span>");p(e,7e3,8)}(),function(){let e=localStorage.getItem("modelId"),t=localStorage.getItem("modelTexturesId");null===e&&(e=1,t=53),g(e,t),fetch(n).then((e=>e.json())).then((e=>{e.mouseover.forEach((e=>{window.addEventListener("mouseover",(t=>{if(!t.target.matches(e.selector))return;let n=l(e.text);n=n.replace("{text}",t.target.innerText),p(n,4e3,8)}))})),e.click.forEach((e=>{window.addEventListener("click",(t=>{if(!t.target.matches(e.selector))return;let n=l(e.text);n=n.replace("{text}",t.target.innerText),p(n,4e3,8)}))})),e.seasons.forEach((e=>{let t=new Date,n=e.date.split("-")[0],a=e.date.split("-")[1]||n;if(n.split("/")[0]<=t.getMonth()+1&&t.getMonth()+1<=a.split("/")[0]&&n.split("/")[1]<=t.getDate()&&t.getDate()<=a.split("/")[1]){let n=l(e.text);n=n.replace("{year}",t.getFullYear()),m.push(n)}})),e.message.forEach((e=>{m.push(e.text)}))}))}(),{showMessage:p}}function s(e){return new Promise(((t,n)=>{document.body.insertAdjacentHTML("beforeend","<div id='waifu-toggle'>\n      <span>\u770b\u677f\u5a18</span>\n      </div>");const a=document.getElementById("waifu-toggle");a.addEventListener("click",(()=>{a.classList.remove("waifu-toggle-active"),a.getAttribute("first-time")?(t(i(e)),a.removeAttribute("first-time")):(localStorage.removeItem("waifu-display"),document.getElementById("waifu").style.display="",setTimeout((()=>{document.getElementById("waifu").style.bottom=0}),0))})),localStorage.getItem("waifu-display")&&Date.now()-localStorage.getItem("waifu-display")<=864e5?(a.setAttribute("first-time",!0),setTimeout((()=>{a.classList.add("waifu-toggle-active")}),0)):t(i(e))}))}console.log("\n  \u304f__,.\u30d8\u30fd.        /  ,\u30fc\uff64 \u3009\n           \uff3c ', !-\u2500\u2010-i  /  /\xb4\n           \uff0f\uff40\uff70'       L/\uff0f\uff40\u30fd\uff64\n         /   \uff0f,   /|   ,   ,       ',\n       \uff72   / /-\u2010/  \uff49  L_ \uff8a \u30fd!   i\n        \uff9a \uff8d 7\uff72\uff40\uff84   \uff9a'\uff67-\uff84\uff64!\u30cf|   |\n          !,/7 '0'     \xb40i\u30bd|    |\n          |.\u4ece\"    _     ,,,, / |./    |\n          \uff9a'| i\uff1e.\uff64,,__  _,.\u30a4 /   .i   |\n            \uff9a'| | / k_\uff17_/\uff9a'\u30fd,  \uff8a.  |\n              | |/i \u3008|/   i  ,.\uff8d |  i  |\n             .|/ /  \uff49\uff1a    \uff8d!    \uff3c  |\n              k\u30fd>\uff64\uff8a    _,.\uff8d\uff64    /\uff64!\n              !'\u3008//\uff40\uff34\xb4', \uff3c \uff40'7'\uff70r'\n              \uff9a'\u30fdL__|___i,___,\u30f3\uff9a|\u30ce\n                  \uff84-,/  |___./\n                  '\uff70'    !_,.:\n")}}]);
//# sourceMappingURL=4.0b1b56d8.chunk.js.map
{"version":3,"sources":["components/DrawerView.module.scss","components/Toolbar.module.scss","components/Menu.module.scss","components/FloatActionButton.module.scss","components/Banner.module.scss","common/MessageHandler.js","Config.js","components/Loading.module.scss","common/ClientUtils.js","common/SnackBar.js","common/SuperToast.js","components/Loading.js","common/MyCommon.js","components/Toolbar.js","components/Menu.js","components/DrawerView.js","components/FloatActionButton.js","components/Banner.js","components/live2d-widget/index.js","components/CardView.js","cards/Card.js","cards/TestPage.js","cards/ContentPage/ConData.js","cards/ContentPage/ConLoader.js","cards/ContentPage/ConCard.js","cards/ContentPage/ConItem.js","cards/ContentPage/ConList.js","cards/ContentPage/ConDetail.js","cards/ContentPage.js","cards/CardRouter.js","themes/Dark.js","themes/Light.js","App.js","serviceWorkerRegistration.js","index.js"],"names":["module","exports","MessageHandler","proxy","inited","tag","msg","log","changeTheme","isEnable","callback","toggleViewMode","Config","autoplay","loadLive2d","api","window","ClientUtils","exit","open","url","toggleMenu","isOpen","toggleOptionsMenu","getStatusBarHeight","devicePixelRatio","isClient","navigator","userAgent","indexOf","SnackBar","this","__during","__timer","__parent","document","body","__view","getDefaultView","_touchstart","_touchmove","_touchend","_onshowed","_ondismiss","during","func","view","text","childNodes","textContent","setTimeout","dismiss","clearTimeout","arg1","arg2","clearTimer","i","affectedFAB","length","obj","fab","bottom","Velocity","top","splice","querySelector","_remove","removeEventListener","parentNode","removeChild","getComputedStyle","getBoundingClientRect","left","documentElement","clientWidth","offsetHeight","appendChild","touchX","moveX","style","width","margin","addEventListener","e","parseInt","targetTouches","pageX","setTimer","onclick","opacity","fabs","querySelectorAll","Array","prototype","forEach","call","el","clientHeight","offsetWidth","moveUp","parseFloat","has","push","show","tmp","implementation","createHTMLDocument","innerHTML","children","setParent","setText","setDuring","LENGTH_SHORT","LENGTH_LONG","LENGTH_IMMEDIATE","SuperToast","_context","_duration","_view","_deadtime","_domPtr","context","duration","getContainerView","container","insertBefore","Date","now","_queue","_timer","_nextHandleTime","_handle","time","nextHandleTime","deadtime","setContext","setDuration","Loading","className","styles","LoadingView","React","Component","MyCommon","split","isSnap","c2s","className2s","ToolbarView","styled","div","attrs","props","toolbarAttach","statusBarHeight","MenuIcon","SearchIcon","theme","ToolbarIconColor","Title","TitleColor","SearchView","StatusBar","StatusBarColor","defaultProps","Toolbar","canvas","handleMenuClick","onMenuClick","handleSearchClick","state","atTop","setState","showSearch","handleSearch","preventDefault","target","value","onSearch","handleResize","resize","handleScroll","scrollTop","pageYOffset","menuIconHover","ToolbarCanvas","onClick","onMouseEnter","onMouseLeave","backgroundColor","path","mdiMenu","href","mdiMagnify","display","action","method","onSubmit","type","name","placeholder","autoFocus","autoComplete","x-webkit-speech","ref","c","is","init","ctx","height","loop","headerHeight","prevScroll","drawLoopLock","staticTime","delayTime","raf","requestAnimationFrame","webkitRequestAnimationFrame","mozRequestAnimationFrame","msRequestAnimationFrame","oRequestAnimationFrame","bind","getContext","rect","draw","drawLoop","fill","color","fillStyle","clearRect","fillRect","classList","contains","a","toFixed","scroll","animate","frame","setInterval","clearInterval","MrMenu","MenuBackground","menuHeader","MenuHeaderTextColor","MenuTextColor","ItemActiveTextColor","ItemActiveColor","menuFooter","copyright","Menu","element","getDOM","MenuContainer","MenuList","getItemList","Children","map","child","cloneElement","key","currentIndex","event","handleItemClick","index","currentTarget","getAttribute","Framework","menuDOM","spaceDOM","conDOM","bigScreen","menuPosX","menuTempOpen","_menuMoveMode","_menuMoving","preventScrollMode","ua","getChildren","_","dom","resizeEvent","windowWidth","windowHeight","console","menuWidth","moveBack","stepTo","prevTouchMenuPosX","menuTouchFromX","menuTouchMoveX","menuTouchPrevX","menuPrevLoopTime","menuDragSpeed","preventScroll","touchMoveLoop","targetPosX","handleTouchStart","touch","pageY","add","touching","beforeOpenMenu","handleTouchMove","handleTouchEnd","prevTouchMenuX","remove","Math","abs","targetPos","animateTo","isReach","afterCloseMenu","handleMouseMove","openMenu","onMouseLeaveMenu","closeMenu","posX","transform","arg3","_complete","prevPosX","distance","tween","easing","begin","progress","theDOM","percentComplete","remaining","startTime","tweenValue","stepPosX","complete","isMenuOpen","DrawerView","SpaceView","onTouchStart","menu","content","passive","FabWrapper","fabView","FabColor","iconWrapper","FabIconColor","fabMenu","FabMenuColor","FloatActionButton","fabChild","onClickHandler","nextState","delay","mdiClose","rotate","fabOffset","childOffset","fabRange","cos","PI","sin","Banner","loaded","BannerWrapper","BannerView","con","vh","innerHeight","setProperty","live2d_path","process","Live2dWidget","load","Promise","resolve","reject","createElement","rel","src","async","onload","onerror","head","then","loadWidget","waifuPath","apiPath","instance","showMessage","CardView","CardColor","TextColor","Card","TestPage","ConData","__id","__content","__html","__title","__initFromCon","__parseFromJSON","id","r1","exec","item","lines","r2","Map","set","get","__process","substr","r","data","JSON","parse","Error","html","title","source","tokenizer","marked","Tokenizer","originalCodespan","codespan","match","raw","katex","renderToString","trim","displayMode","throwOnError","apply","arguments","stringify","getState","str","ConLoader","conDataCache","location","pathname","_checkCache","cachedData","axios","response","conData","status","catch","error","itemCallback","itemId","loadItem","loadContent","isFromCache","onNewConLoaded","_loadItems","statusCode","values","_saveCache","reason","cacheArr","val","sessionStorage","setItem","savedCache","getItem","getId","ConCard","PreBlockBackground","TextEmColor","ConItem","getTitle","DOMPurify","sanitize","getHtml","ALLOWED_TAGS","KEEP_CONTENT","to","onPreviewClick","clean","dangerouslySetInnerHTML","withRouter","ConList","mounted","conList","loading","loader","conLoader","reqCache","list","prevUpdateTime","reqUpdate","ConDetail","params","ADD_TAGS","ConContainer","ContentPage","viewRef","createRef","routes","detail","currentView","matchPath","exact","current","cardWrapper","getWrapperDOM","offset","_scrollRestoration","history","scrollRestoration","unlistenHistory","listen","saveScroll","recoverScroll","nodeRef","render","TransitionGroup","CSSTransition","classNames","timeout","getKey","startsWith","CardRouter","from","Theme","AppBackground","MusicPlayer","lazy","toast","Toast","makeText","BackgroundCanvas","App","drawerView","themeList","Light","Dark","loadSet","Set","goTo","isLoading","isViewMode","currentTheme","delete","NProgress","size","inc","done","goBack","getTheme","Suspense","fallback","make","setOnShowed","updateProgress","bgMatch","img","Image","styleTag","showWelcome","sessionStorageSupported","undefined","show_welcome","isLocalhost","Boolean","hostname","registerValidSW","swUrl","config","serviceWorker","register","registration","onupdatefound","installingWorker","installing","onstatechange","controller","onUpdate","onSuccess","app","StrictMode","rootElement","getElementById","hasChildNodes","ReactDOM","hydrate","URL","origin","fetch","contentType","headers","ready","unregister","reload","checkValidServiceWorker","serviceWorkerRegistration"],"mappings":"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","file":"static/js/main.a9420d21.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"DrawerView\":\"DrawerView_DrawerView__BuZzI\",\"touching\":\"DrawerView_touching__1bSJ7\",\"menu\":\"DrawerView_menu__Mcwfx\",\"content\":\"DrawerView_content__1cqA8\",\"SpaceView\":\"DrawerView_SpaceView__1oVIm\",\"preventScroll\":\"DrawerView_preventScroll__p3Iir\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"toolbarShadow\":\"Toolbar_toolbarShadow__1_Sld\",\"ToolbarView\":\"Toolbar_ToolbarView__1S3YH Toolbar_toolbarShadow__1_Sld\",\"Title\":\"Toolbar_Title__2gZFt\",\"IconFather\":\"Toolbar_IconFather__1DCrv\",\"MenuIcon\":\"Toolbar_MenuIcon__3e613 Toolbar_IconFather__1DCrv\",\"SearchIcon\":\"Toolbar_SearchIcon__o2Nk3 Toolbar_IconFather__1DCrv\",\"SearchView\":\"Toolbar_SearchView__36OB8 Toolbar_toolbarShadow__1_Sld\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"MrMenu\":\"Menu_MrMenu__2xDpK\",\"MenuContainer\":\"Menu_MenuContainer__2OsOu\",\"menuHeader\":\"Menu_menuHeader__1E8mV\",\"menuFooter\":\"Menu_menuFooter__3F0rz\",\"copyright\":\"Menu_copyright__1CD6t\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"FabWrapper\":\"FloatActionButton_FabWrapper__1EGQW\",\"fabView\":\"FloatActionButton_fabView__zG0ei\",\"iconWrapper\":\"FloatActionButton_iconWrapper__2r1Q4\",\"fabMenu\":\"FloatActionButton_fabMenu__2AcsH\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"BannerWrapper\":\"Banner_BannerWrapper__1r_G9\",\"BannerView\":\"Banner_BannerView__3l_3J\",\"con\":\"Banner_con__3-4Vi\",\"bottom\":\"Banner_bottom__3dyyR\"};","class MessageHandler {\n  static init(proxy) {\n    MessageHandler.proxy = proxy;\n    MessageHandler.inited = true;\n  }\n  static log(tag, msg) {\n    MessageHandler.proxy.log(tag, msg);\n  }\n  static changeTheme() {\n    MessageHandler.proxy.changeTheme();\n  }\n  static toggleViewMode(isEnable, callback) {\n    MessageHandler.proxy.toggleViewMode(isEnable, callback);\n  }\n}\n\nexport default MessageHandler;","const Config = {\n  autoplay: false,\n  loadLive2d: true\n};\n\nexport default Config;","// extracted by mini-css-extract-plugin\nmodule.exports = {\"LoadingView\":\"Loading_LoadingView__1eCfI\",\"delayFadeIn\":\"Loading_delayFadeIn__3xTOi\",\"shine\":\"Loading_shine__3ouF6\",\"dotAnim\":\"Loading_dotAnim__31Ynl\"};","const api = window['mClientUtils'];\n\nclass ClientUtils {\n  static exit = () => api && api.exit('✓');\n  static open = (url) => api && api.open('✓', url);\n  static toggleMenu = (isOpen) => api && api.toggleOptionsMenu('✓', isOpen);\n  static getStatusBarHeight = () => api ? api.getStatusBarHeight('✓') / window.devicePixelRatio : 0;\n}\n\nClientUtils.isClient = navigator.userAgent.indexOf('; wv) ') !== -1 && api;\n\nexport default ClientUtils;","import Velocity from 'velocity-animate'\n\nclass SnackBar {\n  constructor() {\n    this.__during = 1500;\n    this.__timer = null;\n    this.__parent = document.body;\n    this.__view = SnackBar.getDefaultView();\n    this._touchstart = null;\n    this._touchmove = null;\n    this._touchend = null;\n    this._onshowed = null;\n    this._ondismiss = null;\n  }\n\n  static getDefaultView() {\n    let tmp = document.implementation.createHTMLDocument();\n    tmp.body.innerHTML = '<div id=\"SnackBar\" style=\"width:100%;height:3rem;position:fixed;left:0px;bottom:-3rem;z-index:200;background:rgba(244,67,102,0.9);color:white;font-size:1rem;\"><span style=\"line-height:3rem;margin-left:1.25rem;\"></span></div>';\n    return tmp.body.children[0];\n  }\n\n  setDuring(during) {\n    this.__during = during;\n    return this;\n  }\n\n  setOnShowed(func) {\n    this._onshowed = func;\n    return this;\n  }\n  setOnDismiss(func) {\n    this._ondismiss = func;\n    return this;\n  }\n\n  setParent(view) {\n    if (view) this.__parent = view;\n    return this;\n  }\n\n  setText(text) {\n    this.__view.childNodes[0].textContent = text;\n    return this;\n  }\n\n  setTimer(during) {\n    if (this.__during > 0) {\n      if (!during) {\n        during = this.__during;\n      }\n      this.__timer = setTimeout(() => {\n        this.dismiss();\n      }, during);\n    }\n  }\n\n  clearTimer() {\n    if (this.__timer) {\n      clearTimeout(this.__timer);\n      this.__timer = null;\n    }\n  }\n\n  /* dismiss([shouldRecoverFAB], [callbackFunc]) */\n  dismiss(arg1, arg2) {\n    this.clearTimer();\n    let callback;\n    if (!(arg1 === false)) {\n      for (let i = 0; i < SnackBar.affectedFAB.length; i++) {\n        const obj = SnackBar.affectedFAB[i];\n        const fab = obj.view;\n        if (obj.bottom !== 'auto') {\n          Velocity(fab, { bottom: obj.bottom }, \"fast\");\n        } else if (obj.top !== 'auto') {\n          Velocity(fab, { top: obj.top }, \"fast\");\n        }\n        SnackBar.affectedFAB.splice(i, 1);\n        i--;\n      }\n\n      if (!(arg1 === true)) {\n        callback = arg1;\n      }\n    }\n    if (arg2) callback = arg2;\n    const view = document.querySelector('#SnackBar');\n    if (view) {\n      const _remove = () => {\n        view.removeEventListener('touchstart', this._touchstart);\n        view.removeEventListener('touchmove', this._touchmove);\n        view.removeEventListener('touchend', this._touchend);\n        this._touchstart = null;\n        this._touchmove = null;\n        this._touchend = null;\n        view.parentNode.removeChild(view);\n        if (this._ondismiss) this._ondismiss();\n        if (callback) callback();\n      }\n      if (getComputedStyle(view)['display'] !== 'none' && view.getBoundingClientRect().left < document.documentElement.clientWidth) {\n        Velocity(view, { bottom: -view.offsetHeight + 'px' }, 'fast', _remove);\n      } else {\n        _remove();\n      }\n    }\n  }\n\n  show() {\n    if (document.querySelector('#SnackBar') !== null) {\n      this.dismiss(false, () => {\n        this.show();\n      });\n      return;\n    } else {\n      this.__parent.appendChild(this.__view);\n    }\n    const view = document.querySelector('#SnackBar');\n    if (document.documentElement.clientWidth > 800) {\n      view.style.width = '400px';\n      view.style.margin = '20px';\n    }\n    let left;\n    let touchX;\n    let moveX;\n    view.addEventListener('touchstart', this._touchstart = e => {\n      this.clearTimer();\n      left = parseInt(getComputedStyle(view)['left']);\n      touchX = e.targetTouches[0].pageX;\n      return false;\n    });\n    view.addEventListener('touchmove', this._touchmove = e => {\n      moveX = e.targetTouches[0].pageX;\n      if (moveX > touchX) {\n        view.style.left = (left + moveX - touchX) + 'px';\n      }\n      return false;\n    });\n    view.addEventListener('touchend', this._touchend = e => {\n      if (parseInt(getComputedStyle(view)['left']) > document.documentElement.clientWidth / 3) {\n        Velocity(view, { left: document.documentElement.clientWidth + 'px' }, () => {\n          this.dismiss();\n        });\n      } else {\n        Velocity(view, { left: 0 }, \"ease\");\n        if (this.__timer === null) {\n          this.setTimer(1500);\n        }\n      }\n      return false;\n    });\n    if (document.documentElement.clientWidth > 800 || !('ontouchstart' in window)) {\n      view.onclick = () => {\n        this.clearTimer();\n        Velocity(view, { opacity: 0 }, () => this.dismiss());\n      };\n    }\n    const fabs = document.querySelectorAll('.fab');\n    Array.prototype.forEach.call(fabs, function (el, i) {\n      if (getComputedStyle(el)['position'] === 'fixed' && document.documentElement.clientHeight - el.getBoundingClientRect().top - el.offsetHeight < view.offsetHeight && el.getBoundingClientRect().left < view.getBoundingClientRect().left + view.offsetWidth) {\n        const obj = {};\n        obj.view = el;\n        obj.top = getComputedStyle(el)['top'];\n        obj.bottom = getComputedStyle(el)['bottom'];\n        const moveUp = view.offsetHeight + parseFloat(getComputedStyle(view)['margin-bottom']);\n        if (obj.bottom !== 'auto') {\n          Velocity(el, { bottom: parseFloat(obj.bottom) + moveUp + 'px' });\n        } else if (obj.top !== 'auto') {\n          Velocity(el, { top: parseFloat(obj.top) - moveUp + 'px' });\n        } else {\n          Velocity(el, { bottom: moveUp + 'px' });\n        }\n        let has = false;\n        for (const i in SnackBar.affectedFAB) {\n          if (SnackBar.affectedFAB[i].view === obj.view) {\n            has = true;\n          }\n        }\n        if (!has) {\n          SnackBar.affectedFAB.push(obj);\n        }\n      }\n    });\n    if (typeof this._onshowed === 'function') {\n      Velocity(view, { bottom: 0 }, () => {\n        setTimeout(this._onshowed, 0);\n      });\n    } else {\n      Velocity(view, { bottom: 0 });\n    }\n    this.setTimer();\n  }\n\n  static make(view, text, during) {\n    return new SnackBar().setParent(view).setText(text).setDuring(during);\n  }\n}\n\nSnackBar.affectedFAB = [];\nSnackBar.LENGTH_SHORT = 1500;\nSnackBar.LENGTH_LONG = 3000;\nSnackBar.LENGTH_IMMEDIATE = -1;\n\nexport default SnackBar;","import Velocity from 'velocity-animate'\n\nclass SuperToast {\n  constructor() {\n    this._context = null;\n    this._duration = 1500;\n    this._view = SuperToast.getDefaultView();\n    this._deadtime = 0;\n    this._domPtr = null;\n  }\n\n  static getContainerView() {\n    let tmp = document.implementation.createHTMLDocument();\n    tmp.body.innerHTML = '<div id=\"SuperToast\" style=\"position:fixed;bottom:3rem;z-index:200;\"></div>';\n    return tmp.body.children[0];\n  }\n\n  static getDefaultView() {\n    let tmp = document.implementation.createHTMLDocument();\n    tmp.body.innerHTML = '<div style=\"opacity:0;background:rgba(244,67,102,0.9);color:white;font-size:1rem;\"></div>';\n    return tmp.body.children[0];\n  }\n\n  static _handle() {\n    const time = Date.now();\n    let nextHandleTime = 0;\n    for (let i = 0; i < SuperToast._queue.length; i++) {\n      const deadtime = SuperToast._queue[i]._deadtime;\n      if (time >= deadtime) {\n        const view = SuperToast._queue[i]._domPtr;\n        Velocity(view, { opacity: 0 }, () => {\n          const container = document.querySelector('#SuperToast');\n          container.removeChild(view);\n          if (container.children[0] === null) {\n            container.parentNode.removeChild(container);\n          }\n        });\n        SuperToast._queue.splice(i, 1);\n        i--;\n      } else {\n        if (deadtime < nextHandleTime || !nextHandleTime)\n          nextHandleTime = deadtime;\n      }\n    }\n    if (nextHandleTime !== 0) {\n      SuperToast._timer = setTimeout(SuperToast._handle, nextHandleTime - time);\n      SuperToast._nextHandleTime = nextHandleTime;\n    } else {\n      SuperToast._timer = null;\n      SuperToast._nextHandleTime = 0;\n    }\n  }\n\n  setContext(context) {\n    this._context = context;\n    return this;\n  }\n\n  setText(text) {\n    this._view.textContent = text;\n    return this;\n  }\n\n  setDuration(duration) {\n    this._duration = duration;\n    return this;\n  }\n\n  show() {\n    if (!document.querySelector('#SuperToast')) {\n      document.body.appendChild(SuperToast.getContainerView());\n    }\n    const container = document.querySelector('#SuperToast');\n    if (container.children[0]) {\n      container.insertBefore(this._view, container.children[0]);\n    } else {\n      container.appendChild(this._view);\n    }\n    this._deadtime = Date.now() + this._duration;\n    this._domPtr = container.children[0];\n    SuperToast._queue.push(this);\n    Velocity(this._domPtr, { opacity: 1 });\n    if (SuperToast._timer) {\n      if (this._deadtime < SuperToast._nextHandleTime) {\n        clearTimeout(SuperToast._timer)\n      } else {\n        return;\n      }\n    }\n    SuperToast._timer = setTimeout(SuperToast._handle, this._duration);\n    SuperToast._nextHandleTime = this._deadtime;\n  }\n\n  static makeText(context, text, duration) {\n    return new SuperToast().setContext(context).setText(text).setDuration(duration);\n  }\n}\n\nSuperToast._timer = null;\nSuperToast._queue = [];\nSuperToast._nextHandleTime = 0;\nSuperToast.LENGTH_SHORT = 1500;\nSuperToast.LENGTH_LONG = 3000;\n\nexport default SuperToast;","import React from 'react';\nimport styles from './Loading.module.scss';\n\nclass Loading extends React.Component {\n  render() {\n    return (\n      <div className={styles.LoadingView}>\n        <span></span><span></span><span></span>\n        <span>loading...</span>\n        <span></span><span></span><span></span>\n      </div>\n    )\n  }\n}\n\nexport default Loading;","class MyCommon {\n  static className2s(className) {\n    //return '.' + className.split(' ').join('.');\n    return '.' + className.split(' ')[0];\n  }\n}\n\nMyCommon.isSnap = navigator.userAgent === 'ReactSnap';\n\nexport default MyCommon;\nexport const c2s = MyCommon.className2s;","import React from 'react';\nimport styled from 'styled-components/macro';\nimport Icon from '@mdi/react';\nimport { mdiMenu, mdiMagnify } from '@mdi/js';\nimport { c2s } from '../common/MyCommon';\nimport MessageHandler from '../common/MessageHandler';\nimport styles from './Toolbar.module.scss';\n\nconst ToolbarView = styled.div.attrs({\n  className: styles.ToolbarView\n})`\n  position: ${props => props.toolbarAttach ? 'absolute' : 'fixed'};\n  top: ${props => props.statusBarHeight}px;\n  \n  ${c2s(styles.MenuIcon)},\n  ${c2s(styles.SearchIcon)} {\n    color: ${props => props.theme.ToolbarIconColor};\n  }\n  \n  ${c2s(styles.Title)} {\n    a { color: ${props => props.theme.TitleColor}; }\n  }\n  \n  ${c2s(styles.SearchView)} {\n    top: calc(${props => props.statusBarHeight}px + 3.125rem);\n    background: rgba(255,255,255,0.6);\n    input {\n      box-shadow: 0 0.125rem grey;\n    }\n    input:focus {\n      box-shadow: 0 0.125rem #FF4081;\n    }\n  }\n`;\n\nconst StatusBar = styled.div`\n  background: ${props => props.theme.StatusBarColor};\n  display: ${props => props.statusBarHeight ? 'block' : 'none'};\n  height: ${props => props.statusBarHeight}px;\n  width: 100%;\n  position: fixed;\n  top: 0;\n`;\n\nStatusBar.defaultProps = {\n  theme: { StatusBarColor: \"black\" }\n};\n\nToolbarView.defaultProps = {\n  theme: {\n    ToolbarIconColor: \"white\",\n    TitleColor: \"white\"\n  },\n  statusBarHeight: 0,\n  toolbarAttach: false\n};\n\nclass Toolbar extends React.Component {\n  canvas = null;\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      menuIconHover: false,\n      atTop: true,\n      showSearch: false\n    };\n    this.canvas = new ToolbarCanvas();\n  }\n\n  handleMenuClick = () => {\n    if (this.props.onMenuClick) {\n      this.props.onMenuClick();\n    }\n  }\n\n  handleSearchClick = () => {\n    if (this.state.atTop) {\n      MessageHandler.log(\"(｡>﹏<｡)\", \"看不见我看不见我~\");\n    }\n    this.setState({ showSearch: !this.state.showSearch });\n  }\n\n  handleSearch = e => {\n    e.preventDefault();\n    const text = e.target[0].value;\n    if (this.props.onSearch) {\n      this.props.onSearch(text);\n    }\n  }\n\n  render() {\n    return (\n      <ToolbarView\n        statusBarHeight={this.props.statusBarHeight}\n        toolbarAttach={this.props.toolbarAttach}>\n        <StatusBar statusBarHeight={this.props.statusBarHeight} />\n        <span className={styles.MenuIcon}\n          onClick={this.handleMenuClick}\n          onMouseEnter={() => this.setState({ menuIconHover: true })}\n          onMouseLeave={() => this.setState({ menuIconHover: false })}\n          style={{ backgroundColor: this.state.menuIconHover ? 'rgba(85,85,85,1)' : 'rgba(0,0,0,0)' }}>\n          <Icon path={mdiMenu} />\n        </span>\n        <span className={styles.Title}><a href=\".\">MyNote</a></span>\n        <span className={styles.SearchIcon}\n          onClick={this.handleSearchClick}\n          style={{ opacity: this.state.atTop && (!this.props.toolbarAttach) ? 0 : 1 }}>\n          <Icon path={mdiMagnify} />\n        </span>\n        <div className={styles.SearchView}\n          style={{ display: this.state.showSearch ? 'block' : 'none' }}>\n          <form action=\"#\" method=\"get\" onSubmit={this.handleSearch}>\n            <input type=\"search\" name=\"search\" placeholder=\"search...\" autoFocus={this.state.showSearch} autoComplete=\"off\" x-webkit-speech=\"true\" />\n          </form>\n        </div>\n        <canvas ref={c => this.canvas.is(c)}></canvas>\n      </ToolbarView>\n    );\n  }\n\n  componentDidMount() {\n    window.addEventListener(\"resize\", this.handleResize);\n    if (!this.props.toolbarAttach) {\n      window.addEventListener(\"scroll\", this.handleScroll);\n    }\n    this.canvas.init();\n    setTimeout(this.handleResize, 20);\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener(\"resize\", this.handleResize);\n    if (!this.props.toolbarAttach) {\n      window.removeEventListener(\"scroll\", this.handleScroll);\n    }\n  }\n\n  handleResize = () => {\n    this.canvas.resize();\n  }\n\n  handleScroll = () => {\n    const scrollTop = document.documentElement.scrollTop || window.pageYOffset || document.body.scrollTop;\n    if (this.state.atTop && scrollTop > 10) {\n      this.setState({ atTop: false });\n    } else if (scrollTop < 10 && !this.state.atTop) {\n      this.setState({ atTop: true });\n    }\n  }\n}\n\nclass ToolbarCanvas {\n  canvas = null;\n  ctx = null;\n  width = null;\n  height = null;\n  loop = null;\n\n  headerHeight = 0;\n  prevScroll = 0;\n  drawLoopLock = 0;\n  staticTime = 0;\n  delayTime = 0;\n\n  raf = (window.requestAnimationFrame || window.webkitRequestAnimationFrame || window.mozRequestAnimationFrame || window.msRequestAnimationFrame || window.oRequestAnimationFrame).bind(window);\n\n  is = canvas => {\n    this.canvas = canvas;\n  }\n\n  init = () => {\n    this.ctx = this.canvas.getContext(\"2d\");\n  }\n\n  resize = () => {\n    this.headerHeight = document.documentElement.clientHeight;\n    if (!this.canvas) return;\n    const rect = this.canvas.getBoundingClientRect();\n    this.width = rect.width;\n    this.height = rect.height;\n    this.canvas.width = this.width;\n    this.canvas.height = this.height;\n    this.draw();\n    if (this.drawLoopLock === 0) {\n      this.raf(this.drawLoop);\n      this.drawLoopLock = 1;\n    }\n  }\n\n  fill = (color) => {\n    this.ctx.fillStyle = color;\n    this.ctx.clearRect(0, 0, this.width, this.height);\n    this.ctx.fillRect(0, 0, this.width, this.height);\n  }\n\n  draw = () => {\n    if (document.body.classList.contains(\"x\")) {\n      this.fill('#000');\n    } else {\n      const scrollTop = this.scrollTop();\n      let a = 1.0;\n      if (this.headerHeight) {\n        a = scrollTop / this.headerHeight;\n        a = a.toFixed(2);\n        if (a > 1.0) a = 0.0;\n      }\n      this.fill(`rgba(69, 157, 245, ${a})`);\n    }\n  }\n\n  drawLoop = () => {\n    const scroll = this.scrollTop();\n    if (this.prevScroll === scroll) {\n      this.staticTime++;\n      if (this.staticTime === 100) {\n        //this.fill('transparent');\n      } else if (this.staticTime > 9999999) {\n        this.staticTime = 101;\n      }\n    } else {\n      this.staticTime = 0;\n      if ((this.prevScroll - this.headerHeight) * (scroll - this.headerHeight) < 0) {\n        this.delayTime = 60;\n      }\n      if (this.delayTime === 0) this.draw();\n      this.prevScroll = scroll;\n    }\n    if (this.delayTime > 0) {\n      this.delayTime--;\n      if (this.delayTime === 0) {\n        //this.draw(); //the first frame after delay\n        //draw it at next scrolling\n      }\n    }\n    this.raf(this.drawLoop);\n  }\n\n  animate = () => {\n    let frame = 0;\n    this.loop = setInterval(() => {\n      this.ctx.fillStyle = `rgba(${frame * 5}, ${frame * 5}, 255, 1.0)`;\n      this.ctx.fillRect(0, 0, this.width, this.height);\n      frame++;\n      if (frame === 40) {\n        clearInterval(this.loop);\n        this.draw();\n      }\n    }, 30);\n  }\n\n  scrollTop = () => {\n    return document.documentElement.scrollTop || window.pageYOffset || document.body.scrollTop;\n  }\n}\n\nexport default Toolbar;","import React from 'react';\nimport styled from 'styled-components/macro';\nimport { c2s } from '../common/MyCommon';\nimport styles from './Menu.module.scss';\n\nconst MrMenu = styled.div.attrs({\n  className: styles.MrMenu\n})`\n  background: ${props => props.theme.MenuBackground};\n  \n  ${c2s(styles.menuHeader)} span {\n    color: ${props => props.theme.MenuHeaderTextColor};\n  }\n  \n  ul li {\n    color: ${props => props.theme.MenuTextColor};\n  }\n  \n  ul li.active {\n    color: ${props => props.theme.ItemActiveTextColor};\n    background: ${props => props.theme.ItemActiveColor};\n  }\n  \n  ${c2s(styles.menuFooter)} {\n    a:link{color:rgba(0,0,0,0.54);}\n    a:visited{color:rgba(0,0,0,0.54);}\n    a:hover{color:#0a0;}\n    a:active{color:#0a0;}\n  }\n  \n  ${c2s(styles.copyright)} {\n    color: ${props => props.theme.MenuTextColor};\n  }\n`;\n\nMrMenu.defaultProps = {\n  theme: {\n    MenuBackground: \"rgba(255,255,255,0.87)\",\n    MenuHeaderTextColor: \"white\",\n    MenuTextColor: \"rgba(0,0,0,0.87)\",\n    ItemActiveTextColor: \"#2196f3\",\n    ItemActiveColor: \"#ddd\"\n  }\n};\n\nexport class Menu extends React.Component {\n  render() {\n    return (\n      <MrMenu\n        ref={element => {\n          if (this.props.getDOM)\n            this.props.getDOM(element);\n        }}>\n        <div className={styles.menuHeader}>\n          <span>menu</span>\n        </div>\n        <div className={styles.MenuContainer}>\n          {this.props.children}\n          <div className={styles.menuFooter}>\n            <span className={styles.copyright}>&copy; me</span>\n          </div>\n        </div>\n      </MrMenu>\n    )\n  }\n}\n\nexport class MenuList extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = { currentIndex: 0 };\n  }\n\n  getItemList = () => {\n    let i = 0;\n    return React.Children.map(this.props.children, child => {\n      if (!child) return null;\n      return React.cloneElement(child, {\n        key: i,\n        className: this.state.currentIndex === i ? 'active' : '',\n        onClick: event => {\n          this.handleItemClick(event);\n          if (child.props.onClick) child.props.onClick(event);\n        },\n        index: i++\n      });\n    });\n  }\n\n  handleItemClick = event => {\n    this.setState({\n      currentIndex: parseInt(event.currentTarget.getAttribute('index'))\n    });\n  }\n\n  render() {\n    return <ul>{this.getItemList()}</ul>;\n  }\n}\n\nexport default Menu;","import React from 'react';\nimport Velocity from 'velocity-animate';\nimport Toolbar from './Toolbar';\nimport Menu from './Menu';\nimport styles from './DrawerView.module.scss';\n\nclass Framework extends React.Component {\n  raf = (window.requestAnimationFrame || window.webkitRequestAnimationFrame || window.mozRequestAnimationFrame || window.msRequestAnimationFrame || window.oRequestAnimationFrame).bind(window);\n  menuDOM = null;\n  spaceDOM = null;\n  conDOM = null;\n  bigScreen = false;\n  menuPosX = -316;\n  menuTempOpen = false;\n  _menuMoveMode = true ? 'transform' : 'left';\n  _menuMoving = false;\n  preventScrollMode = (() => {\n    const ua = navigator.userAgent;\n    if (ua.indexOf('Gecko/') > -1 && ua.indexOf('Firefox/') > -1) {\n      return 'firefox'; //body{overflow:hidden} on mobile cause problem\n    }\n    return 'default';\n  })();\n\n  getChildren =\n    _ => React.Children.map(this.props.children, child => {\n      if (child.type === Toolbar) {\n        return React.cloneElement(child, {\n          onMenuClick: this.toggleMenu\n        });\n      }\n      if (child.type === Menu) {\n        return React.cloneElement(child, {\n          getDOM: dom => this.menuDOM = dom\n        });\n      }\n      if (child.props && child.props.className === 'content') {\n        return React.cloneElement(child, {\n          ref: dom => this.conDOM = dom\n        });\n      }\n      return child;\n    });\n\n  render() {\n    return (\n      <div className={styles.DrawerView}>\n        {this.getChildren()}\n        <div className={styles.SpaceView} ref={dom => this.spaceDOM = dom} onTouchStart={() => this.closeMenu()}></div>\n      </div>\n    )\n  }\n\n  componentDidMount() {\n    if (this._menuMoveMode === 'transform') {\n      this.menuDOM.style.transform = `translate3d(${this.menuPosX}px,0,0)`;\n    } else {\n      this.menuDOM.style.left = this.menuPosX + 'px';\n    }\n    this.menuDOM.classList.add(styles.menu);\n    this.conDOM.classList.add(styles.content);\n\n    window.addEventListener('resize', this.handleResize);\n    document.body.addEventListener('touchstart', this.handleTouchStart, {passive: this.preventScrollMode !== 'firefox'});\n    document.body.addEventListener('touchmove', this.handleTouchMove);\n    document.body.addEventListener('touchend', this.handleTouchEnd);\n    document.body.addEventListener('mousemove', this.handleMouseMove);\n    this.menuDOM.addEventListener('mouseleave', this.onMouseLeaveMenu);\n\n    setTimeout(this.handleResize, 20);\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener('resize', this.handleResize);\n    document.body.removeEventListener('touchstart', this.handleTouchStart);\n    document.body.removeEventListener('touchmove', this.handleTouchMove);\n    document.body.removeEventListener('touchend', this.handleTouchEnd);\n    document.body.removeEventListener('mousemove', this.handleMouseMove);\n    this.menuDOM.addEventListener('mouseleave', this.onMouseLeaveMenu);\n  }\n\n  handleResize = resizeEvent => {\n    const windowWidth = document.documentElement.clientWidth;\n    const windowHeight = document.documentElement.clientHeight;\n    console.log(`resize(${windowWidth}, ${windowHeight})`);\n    this.bigScreen = windowWidth > 550;\n    this.menuWidth = this.menuDOM.getBoundingClientRect().width;\n    if (!resizeEvent) { // if not called by resize event\n      //init view state\n      this.stepTo(-this.menuWidth);\n    } else {\n      //adjust view state\n      this.moveBack();\n    }\n  }\n\n  prevTouchMenuPosX = null;\n  menuTouchFromX = null;\n  menuTouchMoveX = null;\n  menuTouchPrevX = null;\n  menuPrevLoopTime = null;\n  menuDragSpeed = 0;\n  preventScroll = false;\n\n  touchMoveLoop = () => {\n    if (this.menuTouchFromX == null) return;\n    if (this.menuTouchMoveX == null) {\n      this.raf(this.touchMoveLoop);\n      return;\n    }\n\n    //move Menu\n    let targetPosX = this.prevTouchMenuPosX + this.menuTouchMoveX - this.menuTouchFromX;\n    if (targetPosX < -this.menuWidth) targetPosX = -this.menuWidth;\n    if (targetPosX > 0) targetPosX = 0;\n    this.stepTo(targetPosX);\n\n    //calc speed\n    const now = Date.now();\n    this.menuDragSpeed = (this.menuTouchMoveX - this.menuTouchPrevX) / (now - this.menuPrevLoopTime);\n    this.menuTouchPrevX = this.menuTouchMoveX;\n    this.menuPrevLoopTime = now;\n\n    this.raf(this.touchMoveLoop);\n  }\n\n  handleTouchStart = event => {\n    const touch = event.targetTouches[0];\n    this.prevTouchMenuPosX = this.menuPosX;\n    if (touch.pageX < this.prevTouchMenuPosX + this.menuWidth + 20 && touch.pageY > 50) {\n      if (touch.pageX > (this.prevTouchMenuPosX + this.menuWidth - 1)) {\n        event.preventDefault();\n      }\n      this.menuTouchFromX = touch.pageX;\n      this.menuTouchPrevX = this.menuTouchFromX;\n      this.menuDOM.classList.add(styles.touching);\n      this.spaceDOM.classList.add(styles.touching);\n      this.conDOM.classList.add(styles.touching);\n      this.beforeOpenMenu();\n      this.menuPrevLoopTime = Date.now();\n      this.raf(this.touchMoveLoop);\n    }\n  }\n\n  handleTouchMove = event => {\n    const touch = event.targetTouches[0];\n    if (this.menuTouchFromX != null) {\n      this.menuTouchMoveX = touch.pageX;\n    }\n  }\n\n  handleTouchEnd = event => {\n    if (this.menuTouchFromX != null) {\n      this.menuTouchFromX = null;\n      this.menuTouchMoveX = null;\n      this.menuTouchPrevX = null;\n      this.prevTouchMenuX = null;\n      this.menuDOM.classList.remove(styles.touching);\n      this.spaceDOM.classList.remove(styles.touching);\n      this.conDOM.classList.remove(styles.touching);\n      //console.log(\"drag speed: \" + this.menuDragSpeed);\n      if (Math.abs(this.menuDragSpeed) > 0.5) {\n        const targetPos = this.menuDragSpeed > 0 ? 0 : -this.menuWidth;\n        const duration = Math.abs((targetPos - this.menuPosX) / this.menuDragSpeed);\n        this.animateTo(targetPos, duration > 50 ? duration : 50, isReach => {\n          if (targetPos === -this.menuWidth && isReach)\n            this.afterCloseMenu();\n        });\n      } else {\n        this.moveBack();\n      }\n      this.menuPrevLoopTime = null;\n      this.menuDragSpeed = 0;\n    }\n  }\n\n  handleMouseMove = event => {\n    if (event.pageX === 0) {\n      if (this.menuPosX !== 0 && !this._menuMoving) {\n        this.openMenu();\n        this.menuTempOpen = true;\n      }\n    }\n  }\n\n  onMouseLeaveMenu = event => {\n    if (this.menuTempOpen && this._menuMoving !== 'close') {\n      this.closeMenu();\n      this.menuTempOpen = false;\n    }\n  }\n\n  /**\n   * arg1: posX from -this.menuWidth to 0\n   */\n  stepTo = posX => {\n    //const motionBlur = Math.abs(posX - this.menuPosX) * 0.2;\n    this.menuPosX = posX;\n    //document.body.style.setProperty('--m-motion-blur', (motionBlur > 5? motionBlur: 0) + 'px');\n    if (this._menuMoveMode === 'transform') {\n      this.menuDOM.style.transform = `translate3d(${posX}px,0,0)`;\n    } else {\n      this.menuDOM.style.left = posX + 'px';\n    }\n    this.spaceDOM.style.opacity = `${posX / this.menuWidth + 1}`;\n    if (this.bigScreen) {\n      this.conDOM.style.width = document.body.offsetWidth - (posX + this.menuWidth) + 1 + 'px';\n    }\n  }\n\n\n  /**\n   * animateTo(target[, duration][, callback])\n   * target: 'open', 'close' or position\n   */\n  animateTo = (target, arg2, arg3) => {\n    let duration = 300;\n    let callback = null;\n    if (typeof (arg2) === \"number\") duration = arg2;\n    if (typeof (arg2) === \"function\") callback = arg2;\n    if (typeof (arg3) === \"function\") callback = arg3;\n    const _complete = isReach => {\n      //document.body.style.setProperty('--m-motion-blur', '0px');\n      this._menuMoving = null;\n      if (callback) callback(isReach);\n    }\n    let posX;\n    if (target === 'open') {\n      posX = 0;\n    } else if (target === 'close') {\n      posX = -this.menuWidth;\n    } else {\n      posX = target;\n    }\n    const prevPosX = this.menuPosX;\n    const distance = posX - prevPosX;\n    this._menuMoving = target;\n    Velocity(this.spaceDOM, \"stop\", true);\n    Velocity(this.spaceDOM, {\n      tween: [0, 1]\n    }, {\n      duration,\n      easing: [0.4, 0.0, 0.2, 1], //FastOutSlowInInterpolator\n      begin: () => {\n        if (this.bigScreen) {\n          this.conDOM.style.width = document.body.offsetWidth - (posX + this.menuWidth) + 1 + 'px';\n        } else {\n          this.conDOM.style.width = '100%';\n        }\n      },\n      progress: (theDOM, percentComplete, remaining, startTime, tweenValue) => { //velocityjs v1\n        //progress: (elements, percentComplete, remaining, tweenValue, activeCall) => { //velocityjs v2\n        if (tweenValue === null) return;\n        const stepPosX = prevPosX + distance * (1 - tweenValue);\n        this.stepTo(stepPosX);\n        if (this.menuTouchFromX) {\n          Velocity(this.spaceDOM, \"stop\", true);\n          _complete(false);\n        }\n      },\n      complete: () => {\n        _complete(true);\n      }\n    });\n  }\n\n  moveBack = callback => {\n    if (this.menuPosX > -this.menuWidth * 1 / 2) {\n      this.openMenu(callback);\n    } else {\n      this.closeMenu(callback);\n    }\n  }\n\n  isMenuOpen = () => {\n    return this.menuPosX === 0;\n  }\n\n  beforeOpenMenu = () => {\n    if (this.bigScreen) return;\n    if (this.spaceDOM.style.display !== 'block') {\n      this.spaceDOM.style.display = 'block';\n    }\n    if (this.preventScrollMode !== 'firefox') {\n      const body = document.body;\n      if (!body.classList.contains(styles.preventScroll)) {\n        body.classList.add(styles.preventScroll);\n      }\n    }\n  }\n\n  afterCloseMenu = () => {\n    if (this.spaceDOM.style.display !== 'none') {\n      this.spaceDOM.style.display = 'none';\n    }\n    if (this.preventScrollMode !== 'firefox') {\n      const body = document.body;\n      if (body.classList.contains(styles.preventScroll)) {\n        body.classList.remove(styles.preventScroll);\n      }\n    }\n  }\n\n  openMenu = callback => {\n    this.beforeOpenMenu();\n    this.animateTo('open', callback);\n  }\n\n  closeMenu = callback => {\n    this.animateTo('close', isReach => {\n      if (isReach) this.afterCloseMenu();\n      if (callback) callback(isReach);\n    });\n  }\n\n  toggleMenu = () => {\n    if (this.isMenuOpen()) {\n      this.closeMenu();\n    } else {\n      this.openMenu();\n    }\n  }\n}\n\nexport default Framework;","import React from 'react';\nimport Icon from '@mdi/react';\nimport { mdiClose } from '@mdi/js';\nimport Velocity from 'velocity-animate';\nimport styled from 'styled-components/macro';\nimport { c2s } from '../common/MyCommon';\nimport styles from './FloatActionButton.module.scss';\n\nconst FabWrapper = styled.div.attrs({\n  className: styles.FabWrapper\n})`\n  ${c2s(styles.fabView)} {\n    background: ${props => props.theme.FabColor};\n  }\n  ${c2s(styles.iconWrapper)} svg {\n    fill: ${props => props.theme.FabIconColor};\n  }\n  ${c2s(styles.fabMenu)} div {\n    background: ${props => props.theme.FabMenuColor};\n   }\n`;\n\nFabWrapper.defaultProps = {\n  theme: {\n    FabColor: \"#FF4081\",\n    FabIconColor: \"white\",\n    FabMenuColor: \"#66ccff\"\n  }\n};\n\nclass FloatActionButton extends React.Component {\n  menuDOM = null;\n  fabChild = null;\n\n  constructor(props) {\n    super(props);\n    this.state = { isOpen: false };\n  }\n\n  onClickHandler = () => {\n    const nextState = !this.state.isOpen;\n    const delay = 200 / this.fabChild.length;\n    this.setState({ isOpen: nextState });\n    this.fabChild.forEach((child, i) => {\n      Velocity(child, \"stop\", true);\n      Velocity(child, nextState ? \"fadeIn\" : \"fadeOut\", { duration: 200, delay: delay * i });\n    });\n  }\n\n  render() {\n    return (\n      <FabWrapper className='fab'>\n        <div className={styles.fabView} onClick={this.onClickHandler}>\n          <div className={styles.iconWrapper}>\n            <Icon path={mdiClose} rotate={this.state.isOpen ? 360 : 315} />\n          </div>\n        </div>\n        <div className={styles.fabMenu} ref={el => this.menuDOM = el}>\n          {this.props.children}\n        </div>\n      </FabWrapper>\n    );\n  }\n\n  componentDidMount() {\n    // get DOM\n    const fab = this.menuDOM.parentNode;\n    const fabChild = [...this.menuDOM.childNodes];\n    this.fabChild = fabChild;\n    // recover offset (if already adjusted by server side)\n    this.menuDOM.style.left = 'auto';\n    this.menuDOM.style.top = 'auto';\n    fabChild.forEach((child, i) => {\n      child.style.left = 'auto';\n      child.style.top = 'auto';\n    });\n    // calc offset\n    const fabOffset = fab.getBoundingClientRect();\n    fabChild[0].style.display = \"block\"; //so we can get the offset\n    const childOffset = fabChild[0].getBoundingClientRect();\n    fabChild[0].style.display = \"none\";\n    this.menuDOM.style.left = (fabOffset.left + fab.offsetWidth / 2) - (childOffset.left + childOffset.width / 2) + \"px\";\n    this.menuDOM.style.top = (fabOffset.top + fab.offsetHeight / 2) - (childOffset.top + childOffset.height / 2) + fabOffset.height + \"px\";\n    const fabRange = 90 / (fabChild.length - 1);\n    const r = 1.2;\n    fabChild.forEach((child, i) => {\n      child.style.left = - Math.cos((fabRange * i) * Math.PI / 180) * fabOffset.width * r + \"px\";\n      child.style.top = - Math.sin((fabRange * i) * Math.PI / 180) * fabOffset.width * r + \"px\";\n    });\n  }\n}\n\nexport default FloatActionButton;","import React from 'react';\nimport Loading from './Loading';\nimport styles from './Banner.module.scss';\n\nclass Banner extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = { loaded: false };\n  }\n\n  render() {\n    return (\n      <div className={styles.BannerWrapper}>\n        <header className={styles.BannerView}>\n          <span className={styles.con}>\n            <span>...</span><br />\n            <i>under construction</i>\n          </span>\n          <span className={styles.bottom}>\n            {this.state.loaded || <Loading />}\n          </span>\n        </header>\n      </div>\n    );\n  }\n\n  componentDidMount() {\n    window.addEventListener('resize', () => {\n      let vh = window.innerHeight * 0.01;\n      document.documentElement.style.setProperty('--vh', `${vh}px`);\n    });\n    this.setState({ loaded: true });\n  }\n}\n\nexport default Banner;","//const live2d_path = 'https://cdn.jsdelivr.net/gh/stevenjoezhang/live2d-widget@latest/';\nconst live2d_path = process.env.PUBLIC_URL + '/live2d-widget/';\n\nfunction loadExternalResource(url, type) {\n  return new Promise((resolve, reject) => {\n    let tag;\n    if (type === 'css') {\n      tag = document.createElement('link');\n      tag.rel = 'stylesheet';\n      tag.href = url;\n    } else if (type === 'js') {\n      tag = document.createElement('script');\n      tag.src = url;\n    }\n    if (tag) {\n      tag.async = false;\n      tag.onload = () => resolve(url);\n      tag.onerror = () => reject(url);\n      document.head.appendChild(tag);\n    }\n  });\n}\n\nclass Live2dWidget {\n  static proxy = null;\n  static load = () => loadExternalResource(live2d_path + 'live2d.min.js', 'js')\n    .then(() => import('./waifu-tips'))\n    .then(({ loadWidget }) => loadWidget({\n      waifuPath: live2d_path + 'waifu-tips.json',\n      apiPath: 'https://live2d.fghrsh.net/api/',\n      //cdnPath: 'https://cdn.jsdelivr.net/gh/fghrsh/live2d_api/'\n    }))\n    .then(instance => {\n      Live2dWidget.proxy = instance;\n    });\n  // initWidget 第一个参数为 waifu-tips.json 的路径，第二个参数为 API 地址\n  // API 后端可自行搭建，参考 https://github.com/fghrsh/live2d_api\n  // 初始化看板娘会自动加载指定目录下的 waifu-tips.json\n\n  static showMessage = msg => { // the widget may be hid\n    Live2dWidget.proxy.showMessage(msg, 5000, 8);\n  }\n}\n\nexport default Live2dWidget;","import styled from 'styled-components/macro';\n\nconst CardView = styled.div`\n  background: ${props => props.theme.CardColor};\n  color: ${props => props.theme.TextColor};\n  box-shadow: 0 0.2rem 0.2rem rgba(0,0,0,0.54);\n  padding: 0.625rem 1rem;\n  margin: 1rem auto;\n  box-sizing: border-box;\n`;\n\nCardView.defaultProps = {\n  theme: {\n    CardColor: \"white\",\n    TextColor: \"black\"\n  }\n};\n\nexport default CardView;","import styled from 'styled-components/macro';\nimport ClientUtils from '../common/ClientUtils';\nimport CardView from '../components/CardView';\n\nconst Card = styled(CardView)`\n  position: absolute;\n  top: calc(${ClientUtils.getStatusBarHeight()}px + 3.125rem);\n  left: 50%;\n  transform: translate(-50%,0);\n  min-height: 50vh;\n  width: 40rem;\n  max-width: 100%;\n  @media screen and (min-width: 100rem) {\n    width: 50rem;\n  }\n`;\n\nexport default Card;","import React from 'react';\nimport Card from './Card';\n\nexport default function TestPage() {\n  return (\n    <Card>\n      <p>test page</p>\n    </Card>\n  );\n}","import marked from 'marked';\nimport katex from 'katex';\n\nclass ConData {\n  constructor(arg1, arg2) {\n    this.__id = null;\n    this.__content = null\n    this.__html = null;\n    this.__title = null;\n    if (arg2) {\n      this.__initFromCon(arg1, arg2);\n    } else {\n      this.__parseFromJSON(arg1);\n    }\n  }\n\n  __initFromCon(id, con) {\n    this.__id = id;\n    this.__content = con;\n    const r1 = /^(-{3,})\\n((\\w+): ([\\S\\s]*?)\\n)+\\1\\n\\n/.exec(con);\n    if (r1 != null && r1.length > 1) {\n      const lines = r1[0].split(\"\\n\");\n      const r2 = /^(\\w+): (['\"]?)([\\S\\s]*)\\2$/;\n      const map = new Map();\n      let item;\n      for (let i = 1; i < (lines.length - 3); i++) {\n        item = r2.exec(lines[i]);\n        if (item && item.length > 3) {\n          map.set(item[1], item[3]);\n        }\n      }\n      if (map.has(\"title\")) {\n        this.__title = map.get(\"title\");\n      }\n      this.__html = this.__process(con.substr(r1[0].length));\n    } else {\n      this.__html = this.__process(con);\n      const r = /^\\s*<h([1-3])[\\s\\S]*>([\\s\\S]*)<\\/h\\1>/.exec(this.__html);\n      if (r != null && r.length > 2) {\n        this.__title = r[2];\n      }\n    }\n  }\n\n  __parseFromJSON(data) {\n    if (typeof data === 'string') {\n      data = JSON.parse(data);\n    }\n    if (!('id' in data && 'con' in data && 'html' in data)) {\n      console.log(data);\n      throw new Error('invalid ConData json');\n    }\n    this.__id = data.id;\n    this.__content = data.con;\n    this.__html = data.html;\n    if (data.title) this.__title = data.title;\n  }\n\n  __process(source) {\n    const tokenizer = new marked.Tokenizer();\n    const originalCodespan = tokenizer.codespan;\n    tokenizer.codespan = function (src) {\n      const match = src.match(/(\\$+)([^$\\n]+?)\\1/);\n      if (match) {\n        return {\n          type: 'html',\n          raw: match[0],\n          text: katex.renderToString(match[2].trim(), {\n            displayMode: match[1] === '$$',\n            throwOnError: false\n          })\n        };\n      }\n      return originalCodespan.apply(this, arguments);\n    };\n    return marked(source, { tokenizer });\n  }\n\n  getState() {\n    const stateVals = {\n      id: this.__id,\n      con: this.__content,\n      html: this.__html,\n      title: this.__title\n    }\n    return stateVals;\n  }\n  toString() {\n    return JSON.stringify(this.getState());\n  }\n\n  getHtml() {\n    return this.__html;\n  }\n  getId() {\n    return this.__id;\n  }\n  getSource() {\n    return this.__content;\n  }\n  getTitle() {\n    return this.__title;\n  }\n\n  static parse(str) {\n    return new ConData(str);\n  }\n}\n\nexport default ConData;","import axios from 'axios';\nimport ConData from './ConData';\n\nclass ConLoader {\n  conDataCache = null;\n  path = /.*\\//.exec(window.location.pathname) + 'content';\n  //path = 'https://cdn.jsdelivr.net/gh/chettoy/my-note@gh-pages/content';\n\n  /*\n   * load a content by id\n   * callback: fun(statusCode, conData, isFromCache)\n   */\n  loadContent(id, callback) {\n    const key = `_id_${id}`;\n    this._checkCache();\n    if (this.conDataCache.has(key)) {\n      const cachedData = this.conDataCache.get(key);\n      if (cachedData !== null) {\n        if (callback) callback(200, cachedData, true);\n        return;\n      }\n    }\n    axios.get(`${this.path}/${id}.md`)\n      .then(response => {\n        const conData = new ConData(id, response.data);\n        this.conDataCache.set(key, conData);\n        if (callback) callback(response.status, conData, false);\n      })\n      .catch(error => {\n        if (!error.response) {\n          throw error;\n        }\n        if (error.response.status !== 404) {\n          console.log(`load con[id=${id}]: ${error}`);\n        }\n        if (callback) callback(error.response.status, null, false);\n      });\n  }\n\n  _loadItems(itemCallback) {\n    return new Promise((resolve, reject) => {\n      let itemId = 0;\n      const loadItem = () => {\n        this.loadContent(itemId, (status, data, isFromCache) => {\n          if (status === 200) {\n            itemCallback(status, data, isFromCache);\n            itemId++;\n            if (itemId > 10) {\n              reject(\"over 10 content\");\n            } else {\n              loadItem();\n            }\n          } else if (status === 404 || status === 0) {\n            resolve();\n          } else {\n            reject(status);\n          }\n        });\n      };\n      this.loadContent(\"header\", status => {\n        if (status === 200) loadItem();\n      });\n    });\n  }\n\n  reqUpdate(onNewConLoaded) {\n    return new Promise((resolve, reject) => {\n      this._loadItems((statusCode, conData, isFromCache) => {\n        if (!isFromCache) onNewConLoaded(conData, [...this.conDataCache.values()]);\n      }).then(() => {\n        console.log('content loaded');\n        this._saveCache();\n        resolve();\n      }).catch(reason => {\n        console.log('content load error: ' + reason);\n        reject(reason);\n      });\n    });\n  }\n\n  reqCache(callback) {\n    this._checkCache();\n    callback([...this.conDataCache.values()]);\n  }\n\n  _saveCache() {\n    if (this.conDataCache === null) return;\n    if (!window['sessionStorage']) return;\n    const cacheArr = [];\n    for (const [, val] of this.conDataCache) {\n      cacheArr.push(val.getState());\n    }\n    sessionStorage.setItem('con_cache', JSON.stringify(cacheArr));\n  }\n\n  _checkCache() {\n    if (this.conDataCache !== null) return;\n    this.conDataCache = new Map();\n    if (!window['sessionStorage']) return;\n    const savedCache = sessionStorage.getItem('con_cache');\n    if (!savedCache) return;\n    const cacheArr = JSON.parse(savedCache);\n    cacheArr.forEach((val, i) => {\n      const conData = new ConData(val);\n      const key = `_id_${conData.getId()}`;\n      if (!this.conDataCache.has(key)) {\n        this.conDataCache.set(key, conData);\n      }\n    });\n  }\n}\n\nexport default ConLoader;","import styled from 'styled-components/macro';\nimport CardView from '../../components/CardView';\n\nconst ConCard = styled(CardView).attrs({className: 'typo'})`\n  font-size: 1rem;\n  line-height: 1.5em;\n  \n  a.post-title-link {\n    color: #2196f3;\n    border-bottom-color: #2196f3;\n    margin: 1rem 0;\n    display: inline-block;\n  }\n  \n  p {\n    white-space: pre-line;\n  }\n  \n  pre {\n    background: ${props => props.theme.PreBlockBackground};\n    overflow: auto;\n  }\n  \n  strong, b,\n  h1, h2, h3, h4, h5, h6,\n  em, legend, caption {\n    color: ${props => props.theme.TextEmColor};\n  }\n  \n  width: 40rem;\n  max-width: 100%;\n  \n  @media screen and (min-width: 90rem) {\n    width: 50rem;\n  }\n  @media screen and (min-width: 120rem) {\n    width: 70rem;\n  }\n`;\n\nConCard.defaultProps = {\n  theme: {\n    PreBlockBackground: \"#f8f8f8\",\n    TextEmColor: \"#000\"\n  }\n};\n\nexport default ConCard;","import React from 'react';\nimport { Link, withRouter } from 'react-router-dom';\nimport PropTypes from 'prop-types';\nimport DOMPurify from 'dompurify';\nimport ConCard from './ConCard';\nimport ConData from './ConData';\n\nclass ConItem extends React.Component {\n  static propTypes = {\n    data: PropTypes.instanceOf(ConData).isRequired\n  }\n\n  render() {\n    const { data } = this.props;\n    const title = data.getTitle();\n    if (title) {\n      let text = DOMPurify.sanitize(data.getHtml(), { ALLOWED_TAGS: [], KEEP_CONTENT: true });\n      if (text.substr(0, title.length) === title) {\n        text = text.substr(title.length, text.length).trim();\n      }\n      if (text.length > 100) {\n        text = `${text.substr(0, 100)}...`;\n      }\n      return (\n        <ConCard {...this.props}>\n          <Link className=\"con-preview post-title-link\"\n            to={`${this.props.match.url}id/${data.getId()}`}\n            onClick={this.onPreviewClick}>{title}</Link>\n          <p className=\"con-preview\">{text}</p>\n        </ConCard>\n      );\n    } else {\n      const clean = DOMPurify.sanitize(data.getHtml());\n      return <ConCard {...this.props} dangerouslySetInnerHTML={{ __html: clean }} />;\n    }\n  }\n}\n\nexport default withRouter(ConItem);","import React from 'react';\nimport PropTypes from 'prop-types';\nimport ConLoader from './ConLoader';\nimport ConItem from './ConItem';\nimport Loading from '../../components/Loading';\n\nclass ConList extends React.Component {\n  static propTypes = {\n    conLoader: PropTypes.instanceOf(ConLoader).isRequired\n  }\n\n  constructor(props) {\n    super(props);\n    this.mounted = false;\n    this.state = {\n      conList: [],\n      loading: true\n    };\n  }\n\n  componentDidMount() {\n    this.mounted = true;\n    this.setState({ loading: false });\n    const loader = this.props.conLoader;\n    //If you have just loaded a content, it will be displayed on top\n    loader.reqCache(list => {\n      if (this.mounted) this.setState({ conList: list });\n    });\n    const prevUpdateTime = window['sessionStorage']?.getItem('conListUpdateTime') ?? 0;\n    console.log('lastUpdateTime: ' + prevUpdateTime);\n    if (Math.abs(Date.now() - prevUpdateTime) < 2 * 60 * 1000) return;\n    console.log('updating content...');\n    loader.reqUpdate((item, list) => {\n      if (this.mounted) this.setState({ conList: list });\n    }).then(() => {\n      window['sessionStorage'] && sessionStorage.setItem('conListUpdateTime', Date.now());\n    });\n  }\n\n  componentWillUnmount() {\n    this.mounted = false;\n  }\n\n  render() {\n    return this.state.loading ? <Loading /> :\n      this.state.conList.map((conData, i) =>\n        <ConItem key={conData.getId()} data={conData} />);\n  }\n}\n\nexport default ConList;","import React from 'react';\nimport DOMPurify from 'dompurify';\nimport PropTypes from 'prop-types';\nimport ConLoader from './ConLoader';\nimport ConCard from './ConCard';\nimport Loading from '../../components/Loading';\n\nclass ConDetail extends React.Component {\n  static propTypes = {\n    conLoader: PropTypes.instanceOf(ConLoader).isRequired\n  }\n\n  constructor(props) {\n    super(props);\n    this.mounted = false;\n    this.state = { html: null };\n  }\n\n  componentDidMount() {\n    this.mounted = true;\n    const loader = this.props.conLoader;\n    loader.loadContent(this.props.match.params.id, (statusCode, conData, isFromCache) => {\n      if (statusCode !== 200 || !conData) {\n        if (this.mounted) this.setState({ html: `<p>Failed to load (${statusCode})</p>` });\n        return;\n      }\n      if (this.mounted) {\n        this.setState({\n          html: DOMPurify.sanitize(conData.getHtml(), {\n            ADD_TAGS: ['semantics', 'annotation'] // for KaTeX mathMl\n          })\n        });\n      }\n      if (!isFromCache) loader._saveCache();\n    });\n  }\n\n  componentWillUnmount() {\n    this.mounted = false;\n  }\n\n  render() {\n    return this.state.con === null ? <Loading /> :\n      <ConCard dangerouslySetInnerHTML={{ __html: this.state.html }} />;\n  }\n}\n\nexport default ConDetail;","import React from 'react';\nimport { matchPath, withRouter } from 'react-router';\nimport { Route, Switch } from 'react-router-dom';\nimport { TransitionGroup, CSSTransition } from 'react-transition-group';\nimport styled from 'styled-components/macro';\nimport Velocity from 'velocity-animate';\nimport Card from './Card';\nimport ConLoader from './ContentPage/ConLoader';\nimport ConList from './ContentPage/ConList';\nimport ConDetail from './ContentPage/ConDetail';\n\nimport 'katex/contrib/copy-tex/copy-tex.js';\nimport 'katex/contrib/copy-tex/copy-tex.css';\nimport 'katex/contrib/mhchem/mhchem.js';\n\nconst ConContainer = styled(Card)`\n  background: transparent;\n  box-shadow: none;\n  margin: 0;\n  padding: 0;\n  width: auto;\n  height: auto;\n  @media screen and (max-width:549px) {\n    padding: 0 0.375rem;\n  }\n`;\n\nclass ContentPage extends React.Component {\n  constructor(props) {\n    super(props);\n    this.loader = new ConLoader();\n    this.viewRef = React.createRef();\n    this.routes = {\n      list: { name: 'list', path: '/' },\n      detail: { name: 'detail', path: '/id/:id' }\n    };\n    this.currentView = (({ pathname }) => {\n      if (matchPath(pathname, { path: this.routes.detail.path })) {\n        return this.routes.detail.name;\n      } else if (matchPath(pathname, { path: this.routes.list.path, exact: true })) {\n        return this.routes.list.name;\n      } else {\n        return '';\n      }\n    })(props.location);\n  }\n\n  getWrapperDOM() {\n    return this.viewRef.current.parentNode;\n  }\n\n  getTop(dom) {\n    const scrollTop = document.documentElement.scrollTop || window.pageYOffset || document.body.scrollTop;\n    return dom.parentNode.getBoundingClientRect().top + scrollTop;\n  }\n\n  saveScroll() {\n    const key = 'conPageScroll_' + this.currentView;\n    const cardWrapper = this.getWrapperDOM();\n    window.sessionStorage[key] = - cardWrapper.getBoundingClientRect().top;\n  }\n\n  recoverScroll() {\n    const key = 'conPageScroll_' + this.currentView;\n    if (!(key in window.sessionStorage)) return;\n    const cardWrapper = this.getWrapperDOM();\n    Velocity(cardWrapper, 'scroll', { offset: window.sessionStorage[key] });\n  }\n\n  componentDidMount() {\n    this._scrollRestoration = window.history.scrollRestoration;\n    window.history.scrollRestoration = 'manual';\n    this.unlistenHistory = this.props.history.listen((location, action) => {\n      if (matchPath(location.pathname, { path: this.routes.detail.path })) {\n        this.saveScroll();\n        this.currentView = this.routes.detail.name;\n        Velocity(this.getWrapperDOM(), 'scroll');\n      } else if (matchPath(location.pathname, { path: this.routes.list.path, exact: true })) {\n        this.currentView = this.routes.list.name;\n        this.recoverScroll();\n      }\n    });\n    this.recoverScroll();\n  }\n\n  componentWillUnmount() {\n    this.saveScroll();\n    window.history.scrollRestoration = this._scrollRestoration;\n    this.unlistenHistory();\n  }\n\n  render() {\n    const nodeRef = React.createRef();\n    return (\n      <div ref={this.viewRef}>\n        <Route\n          render={({ location, match }) => (\n            <TransitionGroup>\n              <CSSTransition key={location.pathname} nodeRef={nodeRef} classNames='router' timeout={500}>\n                <ConContainer ref={nodeRef}>\n                  <Switch location={location}>\n                    <Route\n                      path={this.routes.list.path} exact\n                      render={(props) => <ConList {...props} conLoader={this.loader} />} />\n                    <Route\n                      path={this.routes.detail.path}\n                      render={(props) => <ConDetail {...props} conLoader={this.loader} />} />\n                    <Route\n                      render={() => {\n                        console.log(`ConPage: pathname=${location.pathname}, match.url=${match.url}`);\n                      }} />\n                  </Switch>\n                </ConContainer>\n              </CSSTransition>\n            </TransitionGroup>\n          )} />\n      </div>\n    );\n  }\n}\n\nexport default withRouter(ContentPage);","import React from 'react';\nimport { Redirect, Route, Switch } from 'react-router-dom';\nimport { TransitionGroup, CSSTransition } from 'react-transition-group';\nimport TestPage from './TestPage';\nimport ContentPage from './ContentPage';\n\nconst getKey = location => {\n  const path = location.pathname;\n  if (path === '/' || path.startsWith('/id/')) {\n    return 'con';\n  }\n  return path;\n}\n\nclass CardRouter extends React.Component {\n  render() {\n    const nodeRef = React.createRef();\n    return (\n      <Route\n        render={({ location }) => (\n          <TransitionGroup className='CardWrapper'>\n            <CSSTransition key={getKey(location)} nodeRef={nodeRef} classNames='router' timeout={500}>\n              <div ref={nodeRef}>\n                <Switch location={location}>\n                  <Route exact path='/' render={ContentPage} />\n                  <Route path='/id/' render={ContentPage} />\n                  <Route exact path='/test' render={TestPage} />\n                  <Route exact path='/404' render={() => <div>Not Found</div>} />\n                  <Redirect from='*' to='/' />\n                </Switch>\n              </div>\n            </CSSTransition>\n          </TransitionGroup>\n        )}\n      />\n    );\n  }\n}\n\nexport default CardRouter;","const Theme = {\n  AppBackground: \"#282c34\",\n  CardColor: \"rgba(32,33,36,0.92)\",\n  TextColor: \"rgba(255,255,255,0.87)\",\n  TextEmColor: \"#fff\",\n  FabColor: \"#ff4081\",\n  FabIconColor: \"white\",\n  FabMenuColor: \"#66ccff\",\n  MenuBackground: \"rgba(255,255,255,0.87)\",\n  MenuHeaderTextColor: \"white\",\n  MenuTextColor: \"rgba(0,0,0,0.87)\",\n  ItemActiveTextColor: \"#2196f3\",\n  ItemActiveColor: \"#ddd\",\n  PreBlockBackground: \"transparent\",\n  StatusBarColor: \"#2196f3\",\n  ToolbarIconColor: \"white\",\n  TitleColor: \"white\"\n};\n\nexport default Theme;","const Theme = {\n  AppBackground: \"url('https://img.xjh.me/random_img.php?type=bg&ctype=nature&return=302'),#e0e0e0\",\n  CardColor: \"rgba(255,255,255,1.0)\",\n  TextColor: \"rgba(0,0,0,0.87)\",\n  TextEmColor: \"#000\",\n  FabColor: \"#ff4081\",\n  FabIconColor: \"white\",\n  FabMenuColor: \"#66ccff\",\n  MenuBackground: \"rgba(255,255,255,0.87)\",\n  MenuHeaderTextColor: \"white\",\n  MenuTextColor: \"rgba(0,0,0,0.87)\",\n  ItemActiveTextColor: \"#2196f3\",\n  ItemActiveColor: \"#ddd\",\n  PreBlockBackground: \"#f8f8f8\",\n  StatusBarColor: \"#2196f3\",\n  ToolbarIconColor: \"black\",\n  TitleColor: \"white\"\n};\n\nexport default Theme;","import React from 'react';\nimport { withRouter } from 'react-router-dom';\nimport styled, { ThemeProvider } from 'styled-components/macro';\nimport ClientUtils from './common/ClientUtils';\nimport MessageHandler from './common/MessageHandler';\nimport SnackBar from './common/SnackBar';\nimport Toast from './common/SuperToast';\nimport Loading from './components/Loading';\nimport DrawerView from './components/DrawerView';\nimport Toolbar from './components/Toolbar';\nimport { Menu, MenuList } from './components/Menu';\nimport FloatActionButton from './components/FloatActionButton';\nimport Banner from './components/Banner';\nimport Live2dWidget from './components/live2d-widget';\nimport CardRouter from './cards/CardRouter';\nimport Dark from './themes/Dark';\nimport Light from './themes/Light';\nimport Config from './Config';\nimport './App.scss';\n\nconst MusicPlayer = React.lazy(() => import('./components/MusicPlayer'));\n\nconst toast = (text, during = Toast.LENGTH_SHORT) => {\n  Toast.makeText(null, text, during).show();\n};\n\nconst BackgroundCanvas = styled.canvas.attrs({ className: 'bg' })`\n  background: ${props => props.theme.AppBackground};\n`;\nBackgroundCanvas.defaultProps = { theme: { AppBackground: '#e0e0e0' } };\n\n\nclass App extends React.Component {\n  drawerView = null;\n  themeList = [Light, Dark];\n  loadSet = new Set(['app', 'bg']);\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      isLoading: true,\n      isViewMode: false,\n      currentTheme: 0\n    };\n    MessageHandler.init({\n      context: this,\n      log: (tag, msg) => {\n        const text = `[${tag}] ${msg}`;\n        console.log(text);\n        Toast.makeText(this, text, Toast.LENGTH_LONG).show();\n      },\n      changeTheme: () => {\n        this.changeTheme();\n      },\n      toggleViewMode: (isEnable, callback) => {\n        if (isEnable === true || isEnable === false) {\n          this.setState({isViewMode: isEnable}, callback);\n        }\n      }\n    });\n  }\n\n  handleSearch = str => {\n    const r = /#([\\w\\-.]+)=(.+)/.exec(str);\n    if (r != null && r.length > 2) {\n      const key = r[1];\n      const value = r[2];\n      switch (key) {\n        case 'href':\n          if (!ClientUtils.open(value))\n            window.location.href = value;\n          break;\n        case 'id':\n          this.goTo('/id/' + value);\n          break;\n        default:\n          break;\n      }\n    }\n    toast('search ' + str);\n  }\n\n  getTheme() {\n    return this.themeList[this.state.currentTheme];\n  }\n\n  changeTheme() {\n    if (this.state.currentTheme < this.themeList.length - 1) {\n      this.setState({ currentTheme: this.state.currentTheme + 1 });\n    } else {\n      this.setState({ currentTheme: 0 });\n    }\n  }\n\n  updateProgress(item) {\n    if (!this.loadSet.has(item)) return;\n    this.loadSet.delete(item);\n    const progress = window.NProgress; // imported in index.html\n    if (!progress) {\n      console.log('NProgress not found');\n      return;\n    }\n    if (this.loadSet.size > 0) {\n      progress.inc();\n    } else {\n      progress.done();\n    }\n  }\n\n  goTo(path) {\n    if (path === this.props.location.pathname) return;\n    if (path === '/') {\n      this.props.history.goBack();\n    } else {\n      this.props.history.push(path);\n    }\n  }\n\n  render() {\n    return (\n      <ThemeProvider theme={this.getTheme()}>\n        <DrawerView ref={instance => this.drawerView = instance}>\n          <BackgroundCanvas />\n          <Toolbar\n            statusBarHeight={ClientUtils.getStatusBarHeight()}\n            toolbarAttach={this.state.isViewMode}\n            onSearch={this.handleSearch} />\n          <Menu>\n            <React.Suspense fallback={<Loading />}>\n              {this.state.isLoading ? null : <MusicPlayer />}\n            </React.Suspense>\n            <MenuList>\n              <li onClick={() => this.goTo('/')}>item1</li>\n              <li onClick={() => {\n                SnackBar.make(null, 'test', -1)\n                  .setOnShowed(this.drawerView.closeMenu)\n                  .show();\n                setTimeout(this.drawerView.closeMenu, 2000);\n              }}>item2</li>\n              <li onClick={() => {\n                if (document.body.classList.contains(\"x\")) {\n                  document.body.classList.remove(\"x\");\n                } else {\n                  document.body.classList.add(\"x\");\n                }\n              }}>item3</li>\n              <li onClick={() => this.changeTheme()}>item4</li>\n              {ClientUtils.isClient && <li onClick={() => ClientUtils.exit()}>Exit</li>}\n              <li onClick={() => this.drawerView.closeMenu()}>close</li>\n            </MenuList>\n          </Menu>\n          <main className='content'>\n            <FloatActionButton>\n              <div onClick={() => toast('test')}>1</div>\n              <div onClick={() => this.goTo('/test')}>2</div>\n              <div>3</div>\n            </FloatActionButton>\n            {this.state.isViewMode || <Banner />}\n            {this.state.isLoading || <CardRouter />}\n          </main>\n        </DrawerView>\n      </ThemeProvider>\n    );\n  }\n\n  componentDidMount() {\n    this.setState({ isLoading: false });\n    this.updateProgress('app');\n\n    //check background image load state\n    (() => {\n      const bgMatch = this.getTheme().AppBackground.match(/url\\((['\"])(.+)\\1\\)/);\n      if (!bgMatch) return;\n      const url = bgMatch[2];\n      const img = new Image();\n      img.src = url;\n      if (img.complete) {\n        this.updateProgress('bg');\n      } else {\n        img.onload = () => {\n          this.updateProgress('bg');\n        }\n      }\n    })();\n\n    //delete the pre-rendered style\n    ((styleTag = document.querySelectorAll('style[data-styled]')) => {\n      if (styleTag.length === 2 && styleTag[0].innerHTML && !styleTag[1].innerHTML)\n        styleTag[0].parentNode.removeChild(styleTag[0]);\n    })();\n\n    const showWelcome = () => {\n      const sessionStorageSupported = ('sessionStorage' in window && window['sessionStorage'] !== null);\n      if ((!sessionStorageSupported) || sessionStorage.show_welcome === undefined) {\n        setTimeout(() => {\n          if (sessionStorageSupported) {\n            sessionStorage.show_welcome = true;\n          }\n          SnackBar.make(this.drawerView.conDOM, \"Welcome\", SnackBar.LENGTH_LONG).show();\n        }, 1500);\n      }\n    };\n\n    if (Config.loadLive2d) {\n      Live2dWidget.load().then(() => {\n        setTimeout(showWelcome, 1000);\n      });\n    } else {\n      showWelcome();\n    }\n  }\n}\n\nexport default withRouter(App);","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read http://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n  // [::1] is the IPv6 localhost address.\n  window.location.hostname === '[::1]' ||\n  // 127.0.0.1/8 is considered localhost for IPv4.\n  window.location.hostname.match(\n    /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n  )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n            'worker. To learn more, visit http://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                'tabs for this page are closed. See http://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { HashRouter as Router } from 'react-router-dom';\nimport App from './App';\nimport * as serviceWorkerRegistration from './serviceWorkerRegistration';\n\nconst app = (\n  <React.StrictMode>\n    <Router>\n      <App />\n    </Router>\n  </React.StrictMode>\n);\n\nconst rootElement = document.getElementById('root');\nif (rootElement.hasChildNodes()) {\n  ReactDOM.hydrate(app, rootElement);\n} else {\n  ReactDOM.render(app, rootElement);\n  \n  //use concurrent mode\n  //ReactDOM.unstable_createRoot(rootElement).render(app);\n}\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: http://bit.ly/CRA-PWA\nserviceWorkerRegistration.register();\n"],"sourceRoot":""}
{"version":3,"sources":["components/DrawerView.module.scss","components/Toolbar.module.scss","components/Menu.module.scss","components/FloatActionButton.module.scss","components/Banner.module.scss","common/MessageHandler.js","Config.js","components/Loading.module.scss","components/CardView.module.scss","common/MyCommon.js","common/ClientUtils.js","common/SnackBar.js","common/SuperToast.js","components/Loading.js","components/Toolbar.js","components/Menu.js","components/DrawerView.js","components/FloatActionButton.js","components/Banner.js","components/live2d-widget/index.js","components/CardView.js","cards/PageCard.js","cards/TestPage.js","cards/RedirectPage.js","cards/ContentPage/ConData.js","cards/ContentPage/ConLoader.js","cards/ContentPage/ConCard.js","cards/ContentPage/ConItem.js","cards/ContentPage/ConList.js","cards/ContentPage/ConDetail.js","cards/ContentPage.js","cards/SettingsPage.js","cards/Dashboard/Dashboard.js","cards/NotePage/NoteList.js","cards/NotePage/Editor.js","cards/Timeline/Timeline.js","cards/CardRouter.js","themes/Dark.js","themes/Light.js","App.js","serviceWorkerRegistration.js","index.js"],"names":["module","exports","MessageHandler","proxy","inited","tag","msg","log","changeTheme","path","goTo","isEnable","callback","toggleViewMode","Config","autoplay","loadLive2d","MyCommon","className","split","isSnap","navigator","userAgent","c2s","className2s","withRouter","Child","props","location","useLocation","navigate","useNavigate","params","useParams","LocationListener","React","useEffect","listenFunc","api","window","ClientUtils","exit","open","url","toggleMenu","isOpen","toggleOptionsMenu","getStatusBarHeight","devicePixelRatio","isClient","indexOf","SnackBar","constructor","this","__during","__timer","__parent","document","body","__view","getDefaultView","_touchstart","_touchmove","_touchend","_onshowed","_ondismiss","tmp","implementation","createHTMLDocument","innerHTML","children","setDuring","during","setOnShowed","func","setOnDismiss","setParent","view","setText","text","childNodes","textContent","setTimer","setTimeout","dismiss","clearTimer","clearTimeout","arg1","arg2","i","affectedFAB","length","obj","fab","bottom","Velocity","top","splice","querySelector","_remove","removeEventListener","parentNode","removeChild","getComputedStyle","getBoundingClientRect","left","documentElement","clientWidth","offsetHeight","show","appendChild","touchX","moveX","style","width","margin","addEventListener","e","parseInt","targetTouches","pageX","onclick","opacity","fabs","querySelectorAll","Array","prototype","forEach","call","el","clientHeight","offsetWidth","moveUp","parseFloat","has","push","LENGTH_SHORT","LENGTH_LONG","LENGTH_IMMEDIATE","SuperToast","_context","_duration","_view","_deadtime","_domPtr","time","Date","now","nextHandleTime","_queue","deadtime","container","_timer","_handle","_nextHandleTime","setContext","context","setDuration","duration","getContainerView","insertBefore","Loading","Component","render","styles","LoadingView","ToolbarView","styled","div","attrs","toolbarAttach","statusBarHeight","MenuIcon","SearchIcon","theme","ToolbarIconColor","Title","TitleColor","SearchView","StatusBar","StatusBarColor","defaultProps","Toolbar","super","canvas","handleMenuClick","onMenuClick","handleSearchClick","state","atTop","setState","showSearch","handleSearch","preventDefault","target","value","onSearch","handleResize","resize","handleScroll","scrollTop","pageYOffset","menuIconHover","ToolbarCanvas","intl","onClick","onMouseEnter","onMouseLeave","backgroundColor","mdiMenu","href","mdiMagnify","display","action","method","onSubmit","type","name","placeholder","formatMessage","id","defaultMessage","description","autoFocus","autoComplete","ref","c","is","componentDidMount","init","componentWillUnmount","ctx","height","loop","headerHeight","prevScroll","drawLoopLock","staticTime","delayTime","raf","requestAnimationFrame","webkitRequestAnimationFrame","mozRequestAnimationFrame","msRequestAnimationFrame","oRequestAnimationFrame","bind","getContext","rect","draw","drawLoop","fill","color","fillStyle","clearRect","fillRect","classList","contains","a","toFixed","scroll","animate","frame","setInterval","clearInterval","injectIntl","MrMenu","MenuBackground","menuHeader","MenuHeaderTextColor","MenuTextColor","ItemActiveTextColor","ItemActiveColor","menuFooter","copyright","Menu","element","getDOM","MenuContainer","MenuList","getItemList","Children","map","child","cloneElement","key","currentIndex","event","handleItemClick","index","currentTarget","getAttribute","Framework","menuDOM","spaceDOM","conDOM","bigScreen","menuPosX","menuTempOpen","_menuMoveMode","_menuMoving","preventScrollMode","ua","getChildren","_","dom","resizeEvent","windowWidth","windowHeight","console","menuWidth","moveBack","stepTo","prevTouchMenuPosX","menuTouchFromX","menuTouchMoveX","menuTouchPrevX","menuPrevLoopTime","menuDragSpeed","preventScroll","touchMoveLoop","targetPosX","handleTouchStart","touch","pageY","add","touching","beforeOpenMenu","handleTouchMove","handleTouchEnd","prevTouchMenuX","remove","Math","abs","targetPos","animateTo","isReach","afterCloseMenu","handleMouseMove","openMenu","onMouseLeaveMenu","closeMenu","posX","transform","arg3","_complete","prevPosX","distance","tween","easing","begin","progress","theDOM","percentComplete","remaining","startTime","tweenValue","stepPosX","complete","isMenuOpen","DrawerView","SpaceView","onTouchStart","menu","content","passive","FabWrapper","fabView","FabColor","iconWrapper","FabIconColor","fabMenu","FabMenuColor","FloatActionButton","fabChild","onClickHandler","nextState","delay","mdiClose","rotate","fabOffset","childOffset","fabRange","cos","PI","sin","Banner","loaded","BannerWrapper","BannerView","con","vh","innerHeight","setProperty","live2d_path","process","Live2dWidget","load","loadExternalResource","Promise","resolve","reject","createElement","rel","src","async","onload","onerror","head","then","loadWidget","waifuPath","apiPath","instance","showMessage","CardView","CardColor","TextColor","PageCard","TestPage","RedirectPage","to","ConData","__id","__content","__html","__title","__initFromCon","__parseFromJSON","r1","exec","lines","r2","Map","item","set","get","__process","substr","r","data","JSON","parse","Error","html","title","source","tokenizer","marked","Tokenizer","originalCodespan","codespan","match","raw","katex","renderToString","trim","displayMode","throwOnError","apply","arguments","getState","toString","stringify","getHtml","getId","getSource","getTitle","str","ConLoader","conDataCache","pathname","loadContent","_checkCache","cachedData","axios","response","conData","status","catch","error","_loadItems","itemCallback","itemId","loadItem","isFromCache","reqUpdate","onNewConLoaded","statusCode","values","_saveCache","reason","reqCache","cacheArr","val","sessionStorage","setItem","savedCache","getItem","ConCard","PreBlockBackground","TextEmColor","ConItem","onPreviewClick","previewClickCallback","DOMPurify","sanitize","ALLOWED_TAGS","KEEP_CONTENT","substring","clean","dangerouslySetInnerHTML","ConList","mounted","conList","loading","loader","conLoader","list","prevUpdateTime","onSaveState","onClickItem","ConDetail","conId","setHtml","useState","ADD_TAGS","memo","ConContainer","ContentPage","onLocationChanged","currentView","matchCurrentLocation","currentLocation","routes","detail","getWrapperDOM","recoverScroll","viewRef","createRef","matchPath","current","getTop","saveScroll","cardWrapper","offset","_scrollRestoration","history","scrollRestoration","nodeRef","renderLocation","renderView","renderPathname","TransitionGroup","component","CSSTransition","classNames","timeout","SettingsPage","Dashboard","float","NoteListPage","notes","MarkdownEditor","lazy","EditorComponent","Suspense","fallback","dark","isDark","defaultValue","withTheme","Timeline","CardRouter","startsWith","NoteList","Editor","Theme","AppBackground","MusicPlayer","toast","Toast","makeText","BackgroundCanvas","NProgressManager","loadSet","Set","getNProgress","nprogress","NProgress","newToLoad","isStarted","start","delete","size","inc","done","App","drawerView","themeList","Light","Dark","isLoading","isViewMode","currentLocale","currentTheme","localeMessages","en","EnglishMessages","getTheme","changeLocale","messages","mod","default","locale","defaultLocale","make","matchBgUrl","img","Image","styleTag","language","browserLanguage","toLowerCase","showWelcome","sessionStorageSupported","undefined","show_welcome","isLocalhost","Boolean","hostname","registerValidSW","swUrl","config","serviceWorker","register","registration","onupdatefound","installingWorker","installing","onstatechange","controller","onUpdate","onSuccess","app","StrictMode","rootElement","getElementById","hasChildNodes","ReactDOM","hydrate","URL","origin","fetch","contentType","headers","ready","unregister","reload","checkValidServiceWorker","serviceWorkerRegistration"],"mappings":"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","file":"static/js/main.204b0f22.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"DrawerView\":\"DrawerView_DrawerView__BuZzI\",\"touching\":\"DrawerView_touching__1bSJ7\",\"menu\":\"DrawerView_menu__Mcwfx\",\"content\":\"DrawerView_content__1cqA8\",\"SpaceView\":\"DrawerView_SpaceView__1oVIm\",\"preventScroll\":\"DrawerView_preventScroll__p3Iir\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"toolbarShadow\":\"Toolbar_toolbarShadow__1_Sld\",\"ToolbarView\":\"Toolbar_ToolbarView__1S3YH Toolbar_toolbarShadow__1_Sld\",\"Title\":\"Toolbar_Title__2gZFt\",\"IconFather\":\"Toolbar_IconFather__1DCrv\",\"MenuIcon\":\"Toolbar_MenuIcon__3e613 Toolbar_IconFather__1DCrv\",\"SearchIcon\":\"Toolbar_SearchIcon__o2Nk3 Toolbar_IconFather__1DCrv\",\"SearchView\":\"Toolbar_SearchView__36OB8 Toolbar_toolbarShadow__1_Sld\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"MrMenu\":\"Menu_MrMenu__2xDpK\",\"MenuContainer\":\"Menu_MenuContainer__2OsOu\",\"menuHeader\":\"Menu_menuHeader__1E8mV\",\"menuFooter\":\"Menu_menuFooter__3F0rz\",\"copyright\":\"Menu_copyright__1CD6t\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"FabWrapper\":\"FloatActionButton_FabWrapper__1EGQW\",\"fabView\":\"FloatActionButton_fabView__zG0ei\",\"iconWrapper\":\"FloatActionButton_iconWrapper__2r1Q4\",\"fabMenu\":\"FloatActionButton_fabMenu__2AcsH\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"BannerWrapper\":\"Banner_BannerWrapper__1r_G9\",\"BannerView\":\"Banner_BannerView__3l_3J\",\"con\":\"Banner_con__3-4Vi\",\"bottom\":\"Banner_bottom__3dyyR\"};","class MessageHandler {\n  static init(proxy) {\n    MessageHandler.proxy = proxy;\n    MessageHandler.inited = true;\n  }\n  static log(tag, msg) {\n    MessageHandler.proxy.log(tag, msg);\n  }\n  static changeTheme() {\n    MessageHandler.proxy.changeTheme();\n  }\n  static goTo(path) {\n    MessageHandler.proxy.goTo(path);\n  }\n  static toggleViewMode(isEnable, callback) {\n    MessageHandler.proxy.toggleViewMode(isEnable, callback);\n  }\n}\n\nexport default MessageHandler;","const Config = {\n  autoplay: false,\n  loadLive2d: true\n};\n\nexport default Config;","// extracted by mini-css-extract-plugin\nmodule.exports = {\"LoadingView\":\"Loading_LoadingView__1eCfI\",\"delayFadeIn\":\"Loading_delayFadeIn__3xTOi\",\"shine\":\"Loading_shine__3ouF6\",\"dotAnim\":\"Loading_dotAnim__31Ynl\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"CardView\":\"CardView_CardView__5c3Bv\"};","import React from 'react';\nimport { useLocation, useNavigate, useParams } from 'react-router';\n\nclass MyCommon {\n  static className2s(className) {\n    //return '.' + className.split(' ').join('.');\n    return '.' + className.split(' ')[0];\n  }\n}\n\nMyCommon.isSnap = navigator.userAgent === 'ReactSnap';\n\nexport default MyCommon;\nexport const c2s = MyCommon.className2s;\n\nexport function withRouter(Child) {\n  return (props) => {\n    const location = useLocation();\n    const navigate = useNavigate();\n    const params = useParams();\n    return <Child {...props} navigate={navigate} location={location} params={params} />;\n  }\n}\n\nexport function LocationListener(props) {\n  const location = useLocation();\n\n  React.useEffect(() => {\n    props.listenFunc(location);\n  }, [location, props]);\n\n  return null;\n};","const api = window['mClientUtils'];\n\nclass ClientUtils {\n  static exit = () => api && api.exit('✓');\n  static open = (url) => api && api.open('✓', url);\n  static toggleMenu = (isOpen) => api && api.toggleOptionsMenu('✓', isOpen);\n  static getStatusBarHeight = () => api ? api.getStatusBarHeight('✓') / window.devicePixelRatio : 0;\n}\n\nClientUtils.isClient = navigator.userAgent.indexOf('; wv) ') !== -1 && api;\n\nexport default ClientUtils;","import Velocity from 'velocity-animate'\n\nclass SnackBar {\n  constructor() {\n    this.__during = 1500;\n    this.__timer = null;\n    this.__parent = document.body;\n    this.__view = SnackBar.getDefaultView();\n    this._touchstart = null;\n    this._touchmove = null;\n    this._touchend = null;\n    this._onshowed = null;\n    this._ondismiss = null;\n  }\n\n  static getDefaultView() {\n    let tmp = document.implementation.createHTMLDocument();\n    tmp.body.innerHTML = '<div id=\"SnackBar\" style=\"width:100%;height:3rem;position:fixed;left:0px;bottom:-3rem;z-index:200;background:rgba(244,67,102,0.9);color:white;font-size:1rem;\"><span style=\"line-height:3rem;margin-left:1.25rem;\"></span></div>';\n    return tmp.body.children[0];\n  }\n\n  setDuring(during) {\n    this.__during = during;\n    return this;\n  }\n\n  setOnShowed(func) {\n    this._onshowed = func;\n    return this;\n  }\n  setOnDismiss(func) {\n    this._ondismiss = func;\n    return this;\n  }\n\n  setParent(view) {\n    if (view) this.__parent = view;\n    return this;\n  }\n\n  setText(text) {\n    this.__view.childNodes[0].textContent = text;\n    return this;\n  }\n\n  setTimer(during) {\n    if (this.__during > 0) {\n      if (!during) {\n        during = this.__during;\n      }\n      this.__timer = setTimeout(() => {\n        this.dismiss();\n      }, during);\n    }\n  }\n\n  clearTimer() {\n    if (this.__timer) {\n      clearTimeout(this.__timer);\n      this.__timer = null;\n    }\n  }\n\n  /* dismiss([shouldRecoverFAB], [callbackFunc]) */\n  dismiss(arg1, arg2) {\n    this.clearTimer();\n    let callback;\n    if (!(arg1 === false)) {\n      for (let i = 0; i < SnackBar.affectedFAB.length; i++) {\n        const obj = SnackBar.affectedFAB[i];\n        const fab = obj.view;\n        if (obj.bottom !== 'auto') {\n          Velocity(fab, { bottom: obj.bottom }, \"fast\");\n        } else if (obj.top !== 'auto') {\n          Velocity(fab, { top: obj.top }, \"fast\");\n        }\n        SnackBar.affectedFAB.splice(i, 1);\n        i--;\n      }\n\n      if (!(arg1 === true)) {\n        callback = arg1;\n      }\n    }\n    if (arg2) callback = arg2;\n    const view = document.querySelector('#SnackBar');\n    if (view) {\n      const _remove = () => {\n        view.removeEventListener('touchstart', this._touchstart);\n        view.removeEventListener('touchmove', this._touchmove);\n        view.removeEventListener('touchend', this._touchend);\n        this._touchstart = null;\n        this._touchmove = null;\n        this._touchend = null;\n        view.parentNode.removeChild(view);\n        if (this._ondismiss) this._ondismiss();\n        if (callback) callback();\n      }\n      if (getComputedStyle(view)['display'] !== 'none' && view.getBoundingClientRect().left < document.documentElement.clientWidth) {\n        Velocity(view, { bottom: -view.offsetHeight + 'px' }, 'fast', _remove);\n      } else {\n        _remove();\n      }\n    }\n  }\n\n  show() {\n    if (document.querySelector('#SnackBar') !== null) {\n      this.dismiss(false, () => {\n        this.show();\n      });\n      return;\n    } else {\n      this.__parent.appendChild(this.__view);\n    }\n    const view = document.querySelector('#SnackBar');\n    if (document.documentElement.clientWidth > 800) {\n      view.style.width = '400px';\n      view.style.margin = '20px';\n    }\n    let left;\n    let touchX;\n    let moveX;\n    view.addEventListener('touchstart', this._touchstart = e => {\n      this.clearTimer();\n      left = parseInt(getComputedStyle(view)['left']);\n      touchX = e.targetTouches[0].pageX;\n      return false;\n    });\n    view.addEventListener('touchmove', this._touchmove = e => {\n      moveX = e.targetTouches[0].pageX;\n      if (moveX > touchX) {\n        view.style.left = (left + moveX - touchX) + 'px';\n      }\n      return false;\n    });\n    view.addEventListener('touchend', this._touchend = e => {\n      if (parseInt(getComputedStyle(view)['left']) > document.documentElement.clientWidth / 3) {\n        Velocity(view, { left: document.documentElement.clientWidth + 'px' }, () => {\n          this.dismiss();\n        });\n      } else {\n        Velocity(view, { left: 0 }, \"ease\");\n        if (this.__timer === null) {\n          this.setTimer(1500);\n        }\n      }\n      return false;\n    });\n    if (document.documentElement.clientWidth > 800 || !('ontouchstart' in window)) {\n      view.onclick = () => {\n        this.clearTimer();\n        Velocity(view, { opacity: 0 }, () => this.dismiss());\n      };\n    }\n    const fabs = document.querySelectorAll('.fab');\n    Array.prototype.forEach.call(fabs, function (el, i) {\n      if (getComputedStyle(el)['position'] === 'fixed' && document.documentElement.clientHeight - el.getBoundingClientRect().top - el.offsetHeight < view.offsetHeight && el.getBoundingClientRect().left < view.getBoundingClientRect().left + view.offsetWidth) {\n        const obj = {};\n        obj.view = el;\n        obj.top = getComputedStyle(el)['top'];\n        obj.bottom = getComputedStyle(el)['bottom'];\n        const moveUp = view.offsetHeight + parseFloat(getComputedStyle(view)['margin-bottom']);\n        if (obj.bottom !== 'auto') {\n          Velocity(el, { bottom: parseFloat(obj.bottom) + moveUp + 'px' });\n        } else if (obj.top !== 'auto') {\n          Velocity(el, { top: parseFloat(obj.top) - moveUp + 'px' });\n        } else {\n          Velocity(el, { bottom: moveUp + 'px' });\n        }\n        let has = false;\n        for (const i in SnackBar.affectedFAB) {\n          if (SnackBar.affectedFAB[i].view === obj.view) {\n            has = true;\n          }\n        }\n        if (!has) {\n          SnackBar.affectedFAB.push(obj);\n        }\n      }\n    });\n    if (typeof this._onshowed === 'function') {\n      Velocity(view, { bottom: 0 }, () => {\n        setTimeout(this._onshowed, 0);\n      });\n    } else {\n      Velocity(view, { bottom: 0 });\n    }\n    this.setTimer();\n  }\n\n  static make(view, text, during) {\n    return new SnackBar().setParent(view).setText(text).setDuring(during);\n  }\n}\n\nSnackBar.affectedFAB = [];\nSnackBar.LENGTH_SHORT = 1500;\nSnackBar.LENGTH_LONG = 3000;\nSnackBar.LENGTH_IMMEDIATE = -1;\n\nexport default SnackBar;","import Velocity from 'velocity-animate'\n\nclass SuperToast {\n  constructor() {\n    this._context = null;\n    this._duration = 1500;\n    this._view = SuperToast.getDefaultView();\n    this._deadtime = 0;\n    this._domPtr = null;\n  }\n\n  static getContainerView() {\n    let tmp = document.implementation.createHTMLDocument();\n    tmp.body.innerHTML = '<div id=\"SuperToast\" style=\"position:fixed;bottom:3rem;z-index:200;\"></div>';\n    return tmp.body.children[0];\n  }\n\n  static getDefaultView() {\n    let tmp = document.implementation.createHTMLDocument();\n    tmp.body.innerHTML = '<div style=\"opacity:0;background:rgba(244,67,102,0.9);color:white;font-size:1rem;\"></div>';\n    return tmp.body.children[0];\n  }\n\n  static _handle() {\n    const time = Date.now();\n    let nextHandleTime = 0;\n    for (let i = 0; i < SuperToast._queue.length; i++) {\n      const deadtime = SuperToast._queue[i]._deadtime;\n      if (time >= deadtime) {\n        const view = SuperToast._queue[i]._domPtr;\n        Velocity(view, { opacity: 0 }, () => {\n          const container = document.querySelector('#SuperToast');\n          container.removeChild(view);\n          if (container.children[0] === null) {\n            container.parentNode.removeChild(container);\n          }\n        });\n        SuperToast._queue.splice(i, 1);\n        i--;\n      } else {\n        if (deadtime < nextHandleTime || !nextHandleTime)\n          nextHandleTime = deadtime;\n      }\n    }\n    if (nextHandleTime !== 0) {\n      SuperToast._timer = setTimeout(SuperToast._handle, nextHandleTime - time);\n      SuperToast._nextHandleTime = nextHandleTime;\n    } else {\n      SuperToast._timer = null;\n      SuperToast._nextHandleTime = 0;\n    }\n  }\n\n  setContext(context) {\n    this._context = context;\n    return this;\n  }\n\n  setText(text) {\n    this._view.textContent = text;\n    return this;\n  }\n\n  setDuration(duration) {\n    this._duration = duration;\n    return this;\n  }\n\n  show() {\n    if (!document.querySelector('#SuperToast')) {\n      document.body.appendChild(SuperToast.getContainerView());\n    }\n    const container = document.querySelector('#SuperToast');\n    if (container.children[0]) {\n      container.insertBefore(this._view, container.children[0]);\n    } else {\n      container.appendChild(this._view);\n    }\n    this._deadtime = Date.now() + this._duration;\n    this._domPtr = container.children[0];\n    SuperToast._queue.push(this);\n    Velocity(this._domPtr, { opacity: 1 });\n    if (SuperToast._timer) {\n      if (this._deadtime < SuperToast._nextHandleTime) {\n        clearTimeout(SuperToast._timer)\n      } else {\n        return;\n      }\n    }\n    SuperToast._timer = setTimeout(SuperToast._handle, this._duration);\n    SuperToast._nextHandleTime = this._deadtime;\n  }\n\n  static makeText(context, text, duration) {\n    return new SuperToast().setContext(context).setText(text).setDuration(duration);\n  }\n}\n\nSuperToast._timer = null;\nSuperToast._queue = [];\nSuperToast._nextHandleTime = 0;\nSuperToast.LENGTH_SHORT = 1500;\nSuperToast.LENGTH_LONG = 3000;\n\nexport default SuperToast;","import React from 'react';\nimport styles from './Loading.module.scss';\n\nclass Loading extends React.Component {\n  render() {\n    return (\n      <div className={styles.LoadingView}>\n        <span></span><span></span><span></span>\n        <span>loading...</span>\n        <span></span><span></span><span></span>\n      </div>\n    )\n  }\n}\n\nexport default Loading;","import React from 'react';\nimport { injectIntl } from 'react-intl'\nimport styled from 'styled-components/macro';\nimport Icon from '@mdi/react';\nimport { mdiMenu, mdiMagnify } from '@mdi/js';\nimport { c2s } from '../common/MyCommon';\nimport MessageHandler from '../common/MessageHandler';\nimport styles from './Toolbar.module.scss';\n\nconst ToolbarView = styled.div.attrs({\n  className: styles.ToolbarView\n})`\n  position: ${props => props.toolbarAttach ? 'absolute' : 'fixed'};\n  top: ${props => props.statusBarHeight}px;\n  \n  ${c2s(styles.MenuIcon)},\n  ${c2s(styles.SearchIcon)} {\n    color: ${props => props.theme.ToolbarIconColor};\n  }\n  \n  ${c2s(styles.Title)} {\n    a { color: ${props => props.theme.TitleColor}; }\n  }\n  \n  ${c2s(styles.SearchView)} {\n    top: calc(${props => props.statusBarHeight}px + 3.125rem);\n    background: rgba(255,255,255,0.6);\n    input {\n      box-shadow: 0 0.125rem grey;\n    }\n    input:focus {\n      box-shadow: 0 0.125rem #FF4081;\n    }\n  }\n`;\n\nconst StatusBar = styled.div`\n  background: ${props => props.theme.StatusBarColor};\n  display: ${props => props.statusBarHeight ? 'block' : 'none'};\n  height: ${props => props.statusBarHeight}px;\n  width: 100%;\n  position: fixed;\n  top: 0;\n`;\n\nStatusBar.defaultProps = {\n  theme: { StatusBarColor: \"black\" }\n};\n\nToolbarView.defaultProps = {\n  theme: {\n    ToolbarIconColor: \"white\",\n    TitleColor: \"white\"\n  },\n  statusBarHeight: 0,\n  toolbarAttach: false\n};\n\nclass Toolbar extends React.Component {\n  canvas = null;\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      menuIconHover: false,\n      atTop: true,\n      showSearch: false\n    };\n    this.canvas = new ToolbarCanvas();\n  }\n\n  handleMenuClick = () => {\n    if (this.props.onMenuClick) {\n      this.props.onMenuClick();\n    }\n  }\n\n  handleSearchClick = () => {\n    if (this.state.atTop) {\n      MessageHandler.log(\"(｡>﹏<｡)\", \"看不见我看不见我~\");\n    }\n    this.setState({ showSearch: !this.state.showSearch });\n  }\n\n  handleSearch = e => {\n    e.preventDefault();\n    const text = e.target[0].value;\n    if (this.props.onSearch) {\n      this.props.onSearch(text);\n    }\n  }\n\n  render() {\n    const { intl } = this.props;\n    return (\n      <ToolbarView\n        statusBarHeight={this.props.statusBarHeight}\n        toolbarAttach={this.props.toolbarAttach}>\n        <StatusBar statusBarHeight={this.props.statusBarHeight} />\n        <span className={styles.MenuIcon}\n          onClick={this.handleMenuClick}\n          onMouseEnter={() => this.setState({ menuIconHover: true })}\n          onMouseLeave={() => this.setState({ menuIconHover: false })}\n          style={{ backgroundColor: this.state.menuIconHover ? 'rgba(85,85,85,1)' : 'rgba(0,0,0,0)' }}>\n          <Icon path={mdiMenu} />\n        </span>\n        <span className={styles.Title}><a href=\".\">MyNote</a></span>\n        <span className={styles.SearchIcon}\n          onClick={this.handleSearchClick}\n          style={{ opacity: this.state.atTop && (!this.props.toolbarAttach) ? 0 : 1 }}>\n          <Icon path={mdiMagnify} />\n        </span>\n        <div className={styles.SearchView}\n          style={{ display: this.state.showSearch ? 'block' : 'none' }}>\n          <form action=\"#\" method=\"get\" onSubmit={this.handleSearch}>\n            <input type=\"search\" name=\"search\" placeholder={intl.formatMessage({\n              id: 'app.toolbar.search-placeholder',\n              defaultMessage: 'search...',\n              description: 'placeholder text',\n            })} autoFocus={this.state.showSearch} autoComplete=\"off\" x-webkit-speech=\"true\" />\n          </form>\n        </div>\n        <canvas ref={c => this.canvas.is(c)}></canvas>\n      </ToolbarView>\n    );\n  }\n\n  componentDidMount() {\n    window.addEventListener(\"resize\", this.handleResize);\n    if (!this.props.toolbarAttach) {\n      window.addEventListener(\"scroll\", this.handleScroll);\n    }\n    this.canvas.init();\n    setTimeout(this.handleResize, 20);\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener(\"resize\", this.handleResize);\n    if (!this.props.toolbarAttach) {\n      window.removeEventListener(\"scroll\", this.handleScroll);\n    }\n  }\n\n  handleResize = () => {\n    this.canvas.resize();\n  }\n\n  handleScroll = () => {\n    const scrollTop = document.documentElement.scrollTop || window.pageYOffset || document.body.scrollTop;\n    if (this.state.atTop && scrollTop > 10) {\n      this.setState({ atTop: false });\n    } else if (scrollTop < 10 && !this.state.atTop) {\n      this.setState({ atTop: true });\n    }\n  }\n}\n\nclass ToolbarCanvas {\n  canvas = null;\n  ctx = null;\n  width = null;\n  height = null;\n  loop = null;\n\n  headerHeight = 0;\n  prevScroll = 0;\n  drawLoopLock = 0;\n  staticTime = 0;\n  delayTime = 0;\n\n  raf = (window.requestAnimationFrame || window.webkitRequestAnimationFrame || window.mozRequestAnimationFrame || window.msRequestAnimationFrame || window.oRequestAnimationFrame).bind(window);\n\n  is = canvas => {\n    this.canvas = canvas;\n  }\n\n  init = () => {\n    this.ctx = this.canvas.getContext(\"2d\");\n  }\n\n  resize = () => {\n    this.headerHeight = document.documentElement.clientHeight;\n    if (!this.canvas) return;\n    const rect = this.canvas.getBoundingClientRect();\n    this.width = rect.width;\n    this.height = rect.height;\n    this.canvas.width = this.width;\n    this.canvas.height = this.height;\n    this.draw();\n    if (this.drawLoopLock === 0) {\n      this.raf(this.drawLoop);\n      this.drawLoopLock = 1;\n    }\n  }\n\n  fill = (color) => {\n    this.ctx.fillStyle = color;\n    this.ctx.clearRect(0, 0, this.width, this.height);\n    this.ctx.fillRect(0, 0, this.width, this.height);\n  }\n\n  draw = () => {\n    if (document.body.classList.contains(\"x\")) {\n      this.fill('#000');\n    } else {\n      const scrollTop = this.scrollTop();\n      let a = 1.0;\n      if (this.headerHeight) {\n        a = scrollTop / this.headerHeight;\n        a = a.toFixed(2);\n        if (a > 1.0) a = 0.0;\n      }\n      this.fill(`rgba(69, 157, 245, ${a})`);\n    }\n  }\n\n  drawLoop = () => {\n    const scroll = this.scrollTop();\n    if (this.prevScroll === scroll) {\n      this.staticTime++;\n      if (this.staticTime === 100) {\n        //this.fill('transparent');\n      } else if (this.staticTime > 9999999) {\n        this.staticTime = 101;\n      }\n    } else {\n      this.staticTime = 0;\n      if ((this.prevScroll - this.headerHeight) * (scroll - this.headerHeight) < 0) {\n        this.delayTime = 60;\n      }\n      if (this.delayTime === 0) this.draw();\n      this.prevScroll = scroll;\n    }\n    if (this.delayTime > 0) {\n      this.delayTime--;\n      if (this.delayTime === 0) {\n        //this.draw(); //the first frame after delay\n        //draw it at next scrolling\n      }\n    }\n    this.raf(this.drawLoop);\n  }\n\n  animate = () => {\n    let frame = 0;\n    this.loop = setInterval(() => {\n      this.ctx.fillStyle = `rgba(${frame * 5}, ${frame * 5}, 255, 1.0)`;\n      this.ctx.fillRect(0, 0, this.width, this.height);\n      frame++;\n      if (frame === 40) {\n        clearInterval(this.loop);\n        this.draw();\n      }\n    }, 30);\n  }\n\n  scrollTop = () => {\n    return document.documentElement.scrollTop || window.pageYOffset || document.body.scrollTop;\n  }\n}\n\nexport default injectIntl(Toolbar);","import React from 'react';\nimport styled from 'styled-components/macro';\nimport { c2s } from '../common/MyCommon';\nimport styles from './Menu.module.scss';\n\nconst MrMenu = styled.div.attrs({\n  className: styles.MrMenu\n})`\n  background: ${props => props.theme.MenuBackground};\n  \n  ${c2s(styles.menuHeader)} span {\n    color: ${props => props.theme.MenuHeaderTextColor};\n  }\n  \n  ul li {\n    color: ${props => props.theme.MenuTextColor};\n  }\n  \n  ul li.active {\n    color: ${props => props.theme.ItemActiveTextColor};\n    background: ${props => props.theme.ItemActiveColor};\n  }\n  \n  ${c2s(styles.menuFooter)} {\n    a:link{color:rgba(0,0,0,0.54);}\n    a:visited{color:rgba(0,0,0,0.54);}\n    a:hover{color:#0a0;}\n    a:active{color:#0a0;}\n  }\n  \n  ${c2s(styles.copyright)} {\n    color: ${props => props.theme.MenuTextColor};\n  }\n`;\n\nMrMenu.defaultProps = {\n  theme: {\n    MenuBackground: \"rgba(255,255,255,0.87)\",\n    MenuHeaderTextColor: \"white\",\n    MenuTextColor: \"rgba(0,0,0,0.87)\",\n    ItemActiveTextColor: \"#2196f3\",\n    ItemActiveColor: \"#ddd\"\n  }\n};\n\nexport class Menu extends React.Component {\n  render() {\n    return (\n      <MrMenu\n        ref={element => {\n          if (this.props.getDOM)\n            this.props.getDOM(element);\n        }}>\n        <div className={styles.menuHeader}>\n          <span>menu</span>\n        </div>\n        <div className={styles.MenuContainer}>\n          {this.props.children}\n          <div className={styles.menuFooter}>\n            <span className={styles.copyright}>&copy; me</span>\n          </div>\n        </div>\n      </MrMenu>\n    )\n  }\n}\n\nexport class MenuList extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = { currentIndex: 0 };\n  }\n\n  getItemList = () => {\n    let i = 0;\n    return React.Children.map(this.props.children, child => {\n      if (!child) return null;\n      return React.cloneElement(child, {\n        key: i,\n        className: this.state.currentIndex === i ? 'active' : '',\n        onClick: event => {\n          this.handleItemClick(event);\n          if (child.props.onClick) child.props.onClick(event);\n        },\n        index: i++\n      });\n    });\n  }\n\n  handleItemClick = event => {\n    this.setState({\n      currentIndex: parseInt(event.currentTarget.getAttribute('index'))\n    });\n  }\n\n  render() {\n    return <ul>{this.getItemList()}</ul>;\n  }\n}\n\nexport default Menu;","import React from 'react';\nimport Velocity from 'velocity-animate';\nimport Toolbar from './Toolbar';\nimport Menu from './Menu';\nimport styles from './DrawerView.module.scss';\n\nclass Framework extends React.Component {\n  raf = (window.requestAnimationFrame || window.webkitRequestAnimationFrame || window.mozRequestAnimationFrame || window.msRequestAnimationFrame || window.oRequestAnimationFrame).bind(window);\n  menuDOM = null;\n  spaceDOM = null;\n  conDOM = null;\n  bigScreen = false;\n  menuPosX = -316;\n  menuTempOpen = false;\n  _menuMoveMode = true ? 'transform' : 'left';\n  _menuMoving = false;\n  preventScrollMode = (() => {\n    const ua = navigator.userAgent;\n    if (ua.indexOf('Gecko/') > -1 && ua.indexOf('Firefox/') > -1) {\n      return 'firefox'; //body{overflow:hidden} on mobile cause problem\n    }\n    return 'default';\n  })();\n\n  getChildren =\n    _ => React.Children.map(this.props.children, child => {\n      if (child.type === Toolbar) {\n        return React.cloneElement(child, {\n          onMenuClick: this.toggleMenu\n        });\n      }\n      if (child.type === Menu) {\n        return React.cloneElement(child, {\n          getDOM: dom => this.menuDOM = dom\n        });\n      }\n      if (child.props && child.props.className === 'content') {\n        return React.cloneElement(child, {\n          ref: dom => this.conDOM = dom\n        });\n      }\n      return child;\n    });\n\n  render() {\n    return (\n      <div className={styles.DrawerView}>\n        {this.getChildren()}\n        <div className={styles.SpaceView} ref={dom => this.spaceDOM = dom} onTouchStart={() => this.closeMenu()}></div>\n      </div>\n    )\n  }\n\n  componentDidMount() {\n    if (this._menuMoveMode === 'transform') {\n      this.menuDOM.style.transform = `translate3d(${this.menuPosX}px,0,0)`;\n    } else {\n      this.menuDOM.style.left = this.menuPosX + 'px';\n    }\n    this.menuDOM.classList.add(styles.menu);\n    this.conDOM.classList.add(styles.content);\n\n    window.addEventListener('resize', this.handleResize);\n    document.body.addEventListener('touchstart', this.handleTouchStart, {passive: this.preventScrollMode !== 'firefox'});\n    document.body.addEventListener('touchmove', this.handleTouchMove);\n    document.body.addEventListener('touchend', this.handleTouchEnd);\n    document.body.addEventListener('mousemove', this.handleMouseMove);\n    this.menuDOM.addEventListener('mouseleave', this.onMouseLeaveMenu);\n\n    setTimeout(this.handleResize, 20);\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener('resize', this.handleResize);\n    document.body.removeEventListener('touchstart', this.handleTouchStart);\n    document.body.removeEventListener('touchmove', this.handleTouchMove);\n    document.body.removeEventListener('touchend', this.handleTouchEnd);\n    document.body.removeEventListener('mousemove', this.handleMouseMove);\n    this.menuDOM.addEventListener('mouseleave', this.onMouseLeaveMenu);\n  }\n\n  handleResize = resizeEvent => {\n    const windowWidth = document.documentElement.clientWidth;\n    const windowHeight = document.documentElement.clientHeight;\n    console.log(`resize(${windowWidth}, ${windowHeight})`);\n    this.bigScreen = windowWidth > 550;\n    this.menuWidth = this.menuDOM.getBoundingClientRect().width;\n    if (!resizeEvent) { // if not called by resize event\n      //init view state\n      this.stepTo(-this.menuWidth);\n    } else {\n      //adjust view state\n      this.moveBack();\n    }\n  }\n\n  prevTouchMenuPosX = null;\n  menuTouchFromX = null;\n  menuTouchMoveX = null;\n  menuTouchPrevX = null;\n  menuPrevLoopTime = null;\n  menuDragSpeed = 0;\n  preventScroll = false;\n\n  touchMoveLoop = () => {\n    if (this.menuTouchFromX == null) return;\n    if (this.menuTouchMoveX == null) {\n      this.raf(this.touchMoveLoop);\n      return;\n    }\n\n    //move Menu\n    let targetPosX = this.prevTouchMenuPosX + this.menuTouchMoveX - this.menuTouchFromX;\n    if (targetPosX < -this.menuWidth) targetPosX = -this.menuWidth;\n    if (targetPosX > 0) targetPosX = 0;\n    this.stepTo(targetPosX);\n\n    //calc speed\n    const now = Date.now();\n    this.menuDragSpeed = (this.menuTouchMoveX - this.menuTouchPrevX) / (now - this.menuPrevLoopTime);\n    this.menuTouchPrevX = this.menuTouchMoveX;\n    this.menuPrevLoopTime = now;\n\n    this.raf(this.touchMoveLoop);\n  }\n\n  handleTouchStart = event => {\n    const touch = event.targetTouches[0];\n    this.prevTouchMenuPosX = this.menuPosX;\n    if (touch.pageX < this.prevTouchMenuPosX + this.menuWidth + 20 && touch.pageY > 50) {\n      if (touch.pageX > (this.prevTouchMenuPosX + this.menuWidth - 1)) {\n        event.preventDefault();\n      }\n      this.menuTouchFromX = touch.pageX;\n      this.menuTouchPrevX = this.menuTouchFromX;\n      this.menuDOM.classList.add(styles.touching);\n      this.spaceDOM.classList.add(styles.touching);\n      this.conDOM.classList.add(styles.touching);\n      this.beforeOpenMenu();\n      this.menuPrevLoopTime = Date.now();\n      this.raf(this.touchMoveLoop);\n    }\n  }\n\n  handleTouchMove = event => {\n    const touch = event.targetTouches[0];\n    if (this.menuTouchFromX != null) {\n      this.menuTouchMoveX = touch.pageX;\n    }\n  }\n\n  handleTouchEnd = event => {\n    if (this.menuTouchFromX != null) {\n      this.menuTouchFromX = null;\n      this.menuTouchMoveX = null;\n      this.menuTouchPrevX = null;\n      this.prevTouchMenuX = null;\n      this.menuDOM.classList.remove(styles.touching);\n      this.spaceDOM.classList.remove(styles.touching);\n      this.conDOM.classList.remove(styles.touching);\n      //console.log(\"drag speed: \" + this.menuDragSpeed);\n      if (Math.abs(this.menuDragSpeed) > 0.5) {\n        const targetPos = this.menuDragSpeed > 0 ? 0 : -this.menuWidth;\n        const duration = Math.abs((targetPos - this.menuPosX) / this.menuDragSpeed);\n        this.animateTo(targetPos, duration > 50 ? duration : 50, isReach => {\n          if (targetPos === -this.menuWidth && isReach)\n            this.afterCloseMenu();\n        });\n      } else {\n        this.moveBack();\n      }\n      this.menuPrevLoopTime = null;\n      this.menuDragSpeed = 0;\n    }\n  }\n\n  handleMouseMove = event => {\n    if (event.pageX === 0) {\n      if (this.menuPosX !== 0 && !this._menuMoving) {\n        this.openMenu();\n        this.menuTempOpen = true;\n      }\n    }\n  }\n\n  onMouseLeaveMenu = event => {\n    if (this.menuTempOpen && this._menuMoving !== 'close') {\n      this.closeMenu();\n      this.menuTempOpen = false;\n    }\n  }\n\n  /**\n   * arg1: posX from -this.menuWidth to 0\n   */\n  stepTo = posX => {\n    //const motionBlur = Math.abs(posX - this.menuPosX) * 0.2;\n    this.menuPosX = posX;\n    //document.body.style.setProperty('--m-motion-blur', (motionBlur > 5? motionBlur: 0) + 'px');\n    if (this._menuMoveMode === 'transform') {\n      this.menuDOM.style.transform = `translate3d(${posX}px,0,0)`;\n    } else {\n      this.menuDOM.style.left = posX + 'px';\n    }\n    this.spaceDOM.style.opacity = `${posX / this.menuWidth + 1}`;\n    if (this.bigScreen) {\n      this.conDOM.style.width = document.body.offsetWidth - (posX + this.menuWidth) + 1 + 'px';\n    }\n  }\n\n\n  /**\n   * animateTo(target[, duration][, callback])\n   * target: 'open', 'close' or position\n   */\n  animateTo = (target, arg2, arg3) => {\n    let duration = 300;\n    let callback = null;\n    if (typeof (arg2) === \"number\") duration = arg2;\n    if (typeof (arg2) === \"function\") callback = arg2;\n    if (typeof (arg3) === \"function\") callback = arg3;\n    const _complete = isReach => {\n      //document.body.style.setProperty('--m-motion-blur', '0px');\n      this._menuMoving = null;\n      if (callback) callback(isReach);\n    }\n    let posX;\n    if (target === 'open') {\n      posX = 0;\n    } else if (target === 'close') {\n      posX = -this.menuWidth;\n    } else {\n      posX = target;\n    }\n    const prevPosX = this.menuPosX;\n    const distance = posX - prevPosX;\n    this._menuMoving = target;\n    Velocity(this.spaceDOM, \"stop\", true);\n    Velocity(this.spaceDOM, {\n      tween: [0, 1]\n    }, {\n      duration,\n      easing: [0.4, 0.0, 0.2, 1], //FastOutSlowInInterpolator\n      begin: () => {\n        if (this.bigScreen) {\n          this.conDOM.style.width = document.body.offsetWidth - (posX + this.menuWidth) + 1 + 'px';\n        } else {\n          this.conDOM.style.width = '100%';\n        }\n      },\n      progress: (theDOM, percentComplete, remaining, startTime, tweenValue) => { //velocityjs v1\n        //progress: (elements, percentComplete, remaining, tweenValue, activeCall) => { //velocityjs v2\n        if (tweenValue === null) return;\n        const stepPosX = prevPosX + distance * (1 - tweenValue);\n        this.stepTo(stepPosX);\n        if (this.menuTouchFromX) {\n          Velocity(this.spaceDOM, \"stop\", true);\n          _complete(false);\n        }\n      },\n      complete: () => {\n        _complete(true);\n      }\n    });\n  }\n\n  moveBack = callback => {\n    if (this.menuPosX > -this.menuWidth * 1 / 2) {\n      this.openMenu(callback);\n    } else {\n      this.closeMenu(callback);\n    }\n  }\n\n  isMenuOpen = () => {\n    return this.menuPosX === 0;\n  }\n\n  beforeOpenMenu = () => {\n    if (this.bigScreen) return;\n    if (this.spaceDOM.style.display !== 'block') {\n      this.spaceDOM.style.display = 'block';\n    }\n    if (this.preventScrollMode !== 'firefox') {\n      const body = document.body;\n      if (!body.classList.contains(styles.preventScroll)) {\n        body.classList.add(styles.preventScroll);\n      }\n    }\n  }\n\n  afterCloseMenu = () => {\n    if (this.spaceDOM.style.display !== 'none') {\n      this.spaceDOM.style.display = 'none';\n    }\n    if (this.preventScrollMode !== 'firefox') {\n      const body = document.body;\n      if (body.classList.contains(styles.preventScroll)) {\n        body.classList.remove(styles.preventScroll);\n      }\n    }\n  }\n\n  openMenu = callback => {\n    this.beforeOpenMenu();\n    this.animateTo('open', callback);\n  }\n\n  closeMenu = callback => {\n    this.animateTo('close', isReach => {\n      if (isReach) this.afterCloseMenu();\n      if (callback) callback(isReach);\n    });\n  }\n\n  toggleMenu = () => {\n    if (this.isMenuOpen()) {\n      this.closeMenu();\n    } else {\n      this.openMenu();\n    }\n  }\n}\n\nexport default Framework;","import React from 'react';\nimport Icon from '@mdi/react';\nimport { mdiClose } from '@mdi/js';\nimport Velocity from 'velocity-animate';\nimport styled from 'styled-components/macro';\nimport { c2s } from '../common/MyCommon';\nimport styles from './FloatActionButton.module.scss';\n\nconst FabWrapper = styled.div.attrs({\n  className: styles.FabWrapper\n})`\n  ${c2s(styles.fabView)} {\n    background: ${props => props.theme.FabColor};\n  }\n  ${c2s(styles.iconWrapper)} svg {\n    fill: ${props => props.theme.FabIconColor};\n  }\n  ${c2s(styles.fabMenu)} div {\n    background: ${props => props.theme.FabMenuColor};\n   }\n`;\n\nFabWrapper.defaultProps = {\n  theme: {\n    FabColor: \"#FF4081\",\n    FabIconColor: \"white\",\n    FabMenuColor: \"#66ccff\"\n  }\n};\n\nclass FloatActionButton extends React.Component {\n  menuDOM = null;\n  fabChild = null;\n\n  constructor(props) {\n    super(props);\n    this.state = { isOpen: false };\n  }\n\n  onClickHandler = () => {\n    const nextState = !this.state.isOpen;\n    const delay = 200 / this.fabChild.length;\n    this.setState({ isOpen: nextState });\n    this.fabChild.forEach((child, i) => {\n      Velocity(child, \"stop\", true);\n      Velocity(child, nextState ? \"fadeIn\" : \"fadeOut\", { duration: 200, delay: delay * i });\n    });\n  }\n\n  render() {\n    return (\n      <FabWrapper className='fab'>\n        <div className={styles.fabView} onClick={this.onClickHandler}>\n          <div className={styles.iconWrapper}>\n            <Icon path={mdiClose} rotate={this.state.isOpen ? 360 : 315} />\n          </div>\n        </div>\n        <div className={styles.fabMenu} ref={el => this.menuDOM = el}>\n          {this.props.children}\n        </div>\n      </FabWrapper>\n    );\n  }\n\n  componentDidMount() {\n    // get DOM\n    const fab = this.menuDOM.parentNode;\n    const fabChild = [...this.menuDOM.childNodes];\n    this.fabChild = fabChild;\n    // recover offset (if already adjusted by server side)\n    this.menuDOM.style.left = 'auto';\n    this.menuDOM.style.top = 'auto';\n    fabChild.forEach((child, i) => {\n      child.style.left = 'auto';\n      child.style.top = 'auto';\n    });\n    // calc offset\n    const fabOffset = fab.getBoundingClientRect();\n    fabChild[0].style.display = \"block\"; //so we can get the offset\n    const childOffset = fabChild[0].getBoundingClientRect();\n    fabChild[0].style.display = \"none\";\n    this.menuDOM.style.left = (fabOffset.left + fab.offsetWidth / 2) - (childOffset.left + childOffset.width / 2) + \"px\";\n    this.menuDOM.style.top = (fabOffset.top + fab.offsetHeight / 2) - (childOffset.top + childOffset.height / 2) + fabOffset.height + \"px\";\n    const fabRange = 90 / (fabChild.length - 1);\n    const r = 1.2;\n    fabChild.forEach((child, i) => {\n      child.style.left = - Math.cos((fabRange * i) * Math.PI / 180) * fabOffset.width * r + \"px\";\n      child.style.top = - Math.sin((fabRange * i) * Math.PI / 180) * fabOffset.width * r + \"px\";\n    });\n  }\n}\n\nexport default FloatActionButton;","import React from 'react';\nimport Loading from './Loading';\nimport styles from './Banner.module.scss';\n\nclass Banner extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = { loaded: false };\n  }\n\n  render() {\n    return (\n      <div className={styles.BannerWrapper}>\n        <header className={styles.BannerView}>\n          <span className={styles.con}>\n            <span>...</span><br />\n            <i>under construction</i>\n          </span>\n          <span className={styles.bottom}>\n            {this.state.loaded || <Loading />}\n          </span>\n        </header>\n      </div>\n    );\n  }\n\n  componentDidMount() {\n    window.addEventListener('resize', () => {\n      let vh = window.innerHeight * 0.01;\n      document.documentElement.style.setProperty('--vh', `${vh}px`);\n    });\n    this.setState({ loaded: true });\n  }\n}\n\nexport default Banner;","//const live2d_path = 'https://cdn.jsdelivr.net/gh/stevenjoezhang/live2d-widget@latest/';\nconst live2d_path = process.env.PUBLIC_URL + '/live2d-widget/';\n\nfunction loadExternalResource(url, type) {\n  return new Promise((resolve, reject) => {\n    let tag;\n    if (type === 'css') {\n      tag = document.createElement('link');\n      tag.rel = 'stylesheet';\n      tag.href = url;\n    } else if (type === 'js') {\n      tag = document.createElement('script');\n      tag.src = url;\n    }\n    if (tag) {\n      tag.async = false;\n      tag.onload = () => resolve(url);\n      tag.onerror = () => reject(url);\n      document.head.appendChild(tag);\n    }\n  });\n}\n\nclass Live2dWidget {\n  static proxy = null;\n  static load = () => loadExternalResource(live2d_path + 'live2d.min.js', 'js')\n    .then(() => import('./waifu-tips'))\n    .then(({ loadWidget }) => loadWidget({\n      waifuPath: live2d_path + 'waifu-tips.json',\n      apiPath: 'https://live2d.fghrsh.net/api/',\n      //cdnPath: 'https://cdn.jsdelivr.net/gh/fghrsh/live2d_api/'\n    }))\n    .then(instance => {\n      Live2dWidget.proxy = instance;\n    });\n  // initWidget 第一个参数为 waifu-tips.json 的路径，第二个参数为 API 地址\n  // API 后端可自行搭建，参考 https://github.com/fghrsh/live2d_api\n  // 初始化看板娘会自动加载指定目录下的 waifu-tips.json\n\n  static showMessage = msg => { // the widget may be hid\n    Live2dWidget.proxy.showMessage(msg, 5000, 8);\n  }\n}\n\nexport default Live2dWidget;","import styled from 'styled-components/macro';\nimport styles from './CardView.module.scss';\n\nconst CardView = styled.div.attrs({\n  className: styles.CardView\n})`\n  background: ${props => props.theme.CardColor};\n  color: ${props => props.theme.TextColor};\n`;\n\nCardView.defaultProps = {\n  theme: {\n    CardColor: \"white\",\n    TextColor: \"black\"\n  }\n};\n\nexport default CardView;","import styled from 'styled-components/macro';\nimport ClientUtils from '../common/ClientUtils';\nimport CardView from '../components/CardView';\n\nconst PageCard = styled(CardView)`\n  position: absolute;\n  top: calc(${ClientUtils.getStatusBarHeight()}px + 3.125rem);\n  left: 50%;\n  transform: translate(-50%,0);\n  min-height: 50vh;\n  width: 40rem;\n  max-width: 100%;\n  @media screen and (min-width: 100rem) {\n    width: 50rem;\n  }\n`;\n\nexport default PageCard;","import React from 'react';\nimport Card from './PageCard';\n\nexport default function TestPage() {\n  console.log('Test Page');\n  return (\n    <Card>\n      <p>test page</p>\n    </Card>\n  );\n}","import React from 'react';\nimport { useNavigate } from 'react-router';\nimport Card from './PageCard';\n\nexport default function RedirectPage(props) {\n    const navigate = useNavigate();\n\n    React.useEffect(() => {\n        setTimeout(() => {\n            navigate(props.to);\n        }, 200);\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, []);\n\n    return (\n        <Card>\n            <p>Redirecting to \"{props.to}\".</p>\n        </Card>\n    );\n}","import { marked } from 'marked';\nimport katex from 'katex';\n\nclass ConData {\n  constructor(arg1, arg2) {\n    this.__id = null;\n    this.__content = null\n    this.__html = null;\n    this.__title = null;\n    if (arg2) {\n      this.__initFromCon(arg1, arg2);\n    } else {\n      this.__parseFromJSON(arg1);\n    }\n  }\n\n  __initFromCon(id, con) {\n    this.__id = id;\n    this.__content = con;\n    const r1 = /^(-{3,})\\n((\\w+): ([\\S\\s]*?)\\n)+\\1\\n\\n/.exec(con);\n    if (r1 != null && r1.length > 1) {\n      const lines = r1[0].split(\"\\n\");\n      const r2 = /^(\\w+): (['\"]?)([\\S\\s]*)\\2$/;\n      const map = new Map();\n      let item;\n      for (let i = 1; i < (lines.length - 3); i++) {\n        item = r2.exec(lines[i]);\n        if (item && item.length > 3) {\n          map.set(item[1], item[3]);\n        }\n      }\n      if (map.has(\"title\")) {\n        this.__title = map.get(\"title\");\n      }\n      this.__html = this.__process(con.substr(r1[0].length));\n    } else {\n      this.__html = this.__process(con);\n      const r = /^\\s*<h([1-3])[\\s\\S]*>([\\s\\S]*)<\\/h\\1>/.exec(this.__html);\n      if (r != null && r.length > 2) {\n        this.__title = r[2];\n      }\n    }\n  }\n\n  __parseFromJSON(data) {\n    if (typeof data === 'string') {\n      data = JSON.parse(data);\n    }\n    if (!('id' in data && 'con' in data && 'html' in data)) {\n      console.log(data);\n      throw new Error('invalid ConData json');\n    }\n    this.__id = data.id;\n    this.__content = data.con;\n    this.__html = data.html;\n    if (data.title) this.__title = data.title;\n  }\n\n  __process(source) {\n    const tokenizer = new marked.Tokenizer();\n    const originalCodespan = tokenizer.codespan;\n    tokenizer.codespan = function (src) {\n      const match = src.match(/(\\$+)([^$\\n]+?)\\1/);\n      if (match) {\n        return {\n          type: 'html',\n          raw: match[0],\n          text: katex.renderToString(match[2].trim(), {\n            displayMode: match[1] === '$$',\n            throwOnError: false\n          })\n        };\n      }\n      return originalCodespan.apply(this, arguments);\n    };\n    return marked(source, { tokenizer });\n  }\n\n  getState() {\n    const stateVals = {\n      id: this.__id,\n      con: this.__content,\n      html: this.__html,\n      title: this.__title\n    }\n    return stateVals;\n  }\n  toString() {\n    return JSON.stringify(this.getState());\n  }\n\n  getHtml() {\n    return this.__html;\n  }\n  getId() {\n    return this.__id;\n  }\n  getSource() {\n    return this.__content;\n  }\n  getTitle() {\n    return this.__title;\n  }\n\n  static parse(str) {\n    return new ConData(str);\n  }\n}\n\nexport default ConData;","import axios from 'axios';\nimport ConData from './ConData';\n\nclass ConLoader {\n  conDataCache = null;\n  path = /.*\\//.exec(window.location.pathname) + 'content';\n  //path = 'https://cdn.jsdelivr.net/gh/chettoy/my-note@gh-pages/content';\n\n  /*\n   * load a content by id\n   * callback: fun(statusCode, conData, isFromCache)\n   */\n  loadContent(id, callback) {\n    const key = `_id_${id}`;\n    this._checkCache();\n    if (this.conDataCache.has(key)) {\n      const cachedData = this.conDataCache.get(key);\n      if (cachedData !== null) {\n        if (callback) callback(200, cachedData, true);\n        return;\n      }\n    }\n    axios.get(`${this.path}/${id}.md`)\n      .then(response => {\n        const conData = new ConData(id, response.data);\n        this.conDataCache.set(key, conData);\n        if (callback) callback(response.status, conData, false);\n      })\n      .catch(error => {\n        if (!error.response) {\n          throw error;\n        }\n        if (error.response.status !== 404) {\n          console.log(`load con[id=${id}]: ${error}`);\n        }\n        if (callback) callback(error.response.status, null, false);\n      });\n  }\n\n  _loadItems(itemCallback) {\n    return new Promise((resolve, reject) => {\n      let itemId = 0;\n      const loadItem = () => {\n        this.loadContent(itemId, (status, data, isFromCache) => {\n          if (status === 200) {\n            itemCallback(status, data, isFromCache);\n            itemId++;\n            if (itemId > 10) {\n              reject(\"over 10 content\");\n            } else {\n              loadItem();\n            }\n          } else if (status === 404 || status === 0) {\n            resolve();\n          } else {\n            reject(status);\n          }\n        });\n      };\n      this.loadContent(\"header\", status => {\n        if (status === 200) loadItem();\n      });\n    });\n  }\n\n  reqUpdate(onNewConLoaded) {\n    return new Promise((resolve, reject) => {\n      this._loadItems((statusCode, conData, isFromCache) => {\n        if (!isFromCache) onNewConLoaded(conData, [...this.conDataCache.values()]);\n      }).then(() => {\n        console.log('content loaded');\n        this._saveCache();\n        resolve();\n      }).catch(reason => {\n        console.log('content load error: ' + reason);\n        reject(reason);\n      });\n    });\n  }\n\n  reqCache(callback) {\n    this._checkCache();\n    callback([...this.conDataCache.values()]);\n  }\n\n  _saveCache() {\n    if (this.conDataCache === null) return;\n    if (!window['sessionStorage']) return;\n    const cacheArr = [];\n    for (const [, val] of this.conDataCache) {\n      cacheArr.push(val.getState());\n    }\n    sessionStorage.setItem('con_cache', JSON.stringify(cacheArr));\n  }\n\n  _checkCache() {\n    if (this.conDataCache !== null) return;\n    this.conDataCache = new Map();\n    if (!window['sessionStorage']) return;\n    const savedCache = sessionStorage.getItem('con_cache');\n    if (!savedCache) return;\n    const cacheArr = JSON.parse(savedCache);\n    cacheArr.forEach((val, i) => {\n      const conData = new ConData(val);\n      const key = `_id_${conData.getId()}`;\n      if (!this.conDataCache.has(key)) {\n        this.conDataCache.set(key, conData);\n      }\n    });\n  }\n}\n\nexport default ConLoader;","import styled from 'styled-components/macro';\nimport CardView from '../../components/CardView';\n\nconst ConCard = styled(CardView).attrs({className: 'typo'})`\n  font-size: 1rem;\n  line-height: 1.5em;\n  \n  a.post-title-link {\n    color: #2196f3;\n    border-bottom-color: #2196f3;\n    margin: 1rem 0;\n    display: inline-block;\n  }\n  \n  p {\n    white-space: pre-line;\n  }\n  \n  pre {\n    background: ${props => props.theme.PreBlockBackground};\n    overflow: auto;\n  }\n  \n  strong, b,\n  h1, h2, h3, h4, h5, h6,\n  em, legend, caption {\n    color: ${props => props.theme.TextEmColor};\n  }\n  \n  width: 40rem;\n  max-width: 100%;\n  \n  @media screen and (min-width: 90rem) {\n    width: 50rem;\n  }\n  @media screen and (min-width: 120rem) {\n    width: 70rem;\n  }\n`;\n\nConCard.defaultProps = {\n  theme: {\n    PreBlockBackground: \"#f8f8f8\",\n    TextEmColor: \"#000\"\n  }\n};\n\nexport default ConCard;","import React from 'react';\nimport { Link } from 'react-router-dom';\nimport PropTypes from 'prop-types';\nimport DOMPurify from 'dompurify';\nimport { withRouter } from '../../common/MyCommon';\nimport ConCard from './ConCard';\nimport ConData from './ConData';\n\nclass ConItem extends React.Component {\n  static propTypes = {\n    data: PropTypes.instanceOf(ConData).isRequired\n  }\n\n  onPreviewClick = () => {\n    if (this.props.previewClickCallback) this.props.previewClickCallback();\n  }\n\n  render() {\n    const { data } = this.props;\n    const title = data.getTitle();\n    if (title) {\n      let text = DOMPurify.sanitize(data.getHtml(), { ALLOWED_TAGS: [], KEEP_CONTENT: true });\n      if (text.substring(0, title.length) === title) {\n        text = text.substring(title.length, title.length + text.length).trim();\n      }\n      if (text.length > 100) {\n        text = `${text.substring(0, 100)}...`;\n      }\n      return (\n        <ConCard {...this.props}>\n          <Link className=\"con-preview post-title-link\"\n            to={`id/${data.getId()}`}\n            onClick={this.onPreviewClick}>{title}</Link>\n          <p className=\"con-preview\">{text}</p>\n        </ConCard>\n      );\n    } else {\n      const clean = DOMPurify.sanitize(data.getHtml());\n      return <ConCard {...this.props} dangerouslySetInnerHTML={{ __html: clean }} />;\n    }\n  }\n}\n\nexport default withRouter(ConItem);","import React from 'react';\nimport PropTypes from 'prop-types';\nimport ConLoader from './ConLoader';\nimport ConItem from './ConItem';\nimport Loading from '../../components/Loading';\n\nclass ConList extends React.Component {\n  static propTypes = {\n    conLoader: PropTypes.instanceOf(ConLoader).isRequired\n  }\n\n  constructor(props) {\n    super(props);\n    this.mounted = false;\n    this.state = {\n      conList: [],\n      loading: true\n    };\n  }\n\n  componentDidMount() {\n    this.mounted = true;\n    this.setState({ loading: false });\n    const loader = this.props.conLoader;\n    //If you have just loaded a content, it will be displayed on top\n    loader.reqCache(list => {\n      if (this.mounted) this.setState({ conList: list });\n    });\n    const prevUpdateTime = window['sessionStorage']?.getItem('conListUpdateTime') ?? 0;\n    console.log('lastUpdateTime: ' + prevUpdateTime);\n    if (Math.abs(Date.now() - prevUpdateTime) < 2 * 60 * 1000) return;\n    console.log('updating content...');\n    loader.reqUpdate((item, list) => {\n      if (this.mounted) this.setState({ conList: list });\n    }).then(() => {\n      window['sessionStorage'] && sessionStorage.setItem('conListUpdateTime', Date.now());\n    });\n  }\n\n  componentWillUnmount() {\n    this.mounted = false;\n    if (this.props.onSaveState)\n      this.props.onSaveState();\n  }\n\n  render() {\n    return this.state.loading ? <Loading /> :\n      this.state.conList.map((conData, i) =>\n        <ConItem\n          key={conData.getId()}\n          data={conData}\n          previewClickCallback={() => {\n            if (this.props.onClickItem)\n              this.props.onClickItem(conData.getId());\n          }}\n        />);\n  }\n}\n\nexport default ConList;","import React, { useState, useEffect } from 'react';\nimport DOMPurify from 'dompurify';\nimport PropTypes from 'prop-types';\nimport ConLoader from './ConLoader';\nimport ConCard from './ConCard';\nimport Loading from '../../components/Loading';\n\nfunction ConDetail(props) {\n  const conId = props.conId;\n  const loader = props.conLoader;\n  const [html, setHtml] = useState(null);\n\n  useEffect(() => {\n    loader.loadContent(conId, (statusCode, conData, isFromCache) => {\n      if (statusCode !== 200 || !conData) {\n        setHtml(`<p>Failed to load (${statusCode})</p>`);\n        return;\n      }\n      setHtml(\n        DOMPurify.sanitize(conData.getHtml(), {\n          ADD_TAGS: ['semantics', 'annotation'] // for KaTeX mathMl\n        })\n      );\n      if (!isFromCache) loader._saveCache();\n    });\n    return () => {\n\n    };\n  }, [conId, loader]);\n\n  return html === null ? <Loading /> :\n    <ConCard dangerouslySetInnerHTML={{ __html: html }} />;\n}\n\nConDetail.propTypes = {\n  conLoader: PropTypes.instanceOf(ConLoader).isRequired\n};\n\nexport default React.memo(ConDetail);","import React from 'react';\nimport { matchPath } from 'react-router';\nimport { TransitionGroup, CSSTransition } from 'react-transition-group';\nimport styled from 'styled-components/macro';\nimport Velocity from 'velocity-animate';\nimport { withRouter, LocationListener } from '../common/MyCommon';\nimport PageCard from './PageCard';\nimport ConLoader from './ContentPage/ConLoader';\nimport ConList from './ContentPage/ConList';\nimport ConDetail from './ContentPage/ConDetail';\n\nimport 'katex/contrib/copy-tex/copy-tex.js';\nimport 'katex/contrib/copy-tex/copy-tex.css';\nimport 'katex/contrib/mhchem/mhchem.js';\n\nconst ConContainer = styled(PageCard)`\n  background: transparent;\n  box-shadow: none;\n  margin: 0;\n  padding: 0;\n  width: auto;\n  height: auto;\n  @media screen and (max-width:549px) {\n    padding: 0 0.375rem;\n  }\n`;\n\nclass ContentPage extends React.Component {\n  constructor(props) {\n    super(props);\n    this.loader = new ConLoader();\n    this.viewRef = React.createRef();\n    this.routes = {\n      list: { name: 'list', path: '/' },\n      detail: { name: 'detail', path: '/id/:id' }\n    };\n    this.matchCurrentLocation = ({ pathname }) => {\n      if (matchPath(this.routes.detail.path, pathname)) {\n        return this.routes.detail.name;\n      } else if (matchPath(this.routes.list.path, pathname)) {\n        return this.routes.list.name;\n      } else {\n        return '';\n      }\n    };\n    this.currentView = this.matchCurrentLocation(props.location);\n    this.currentLocation = props.location;\n  }\n\n  getWrapperDOM() {\n    return this.viewRef.current.parentNode;\n  }\n\n  getTop(dom) {\n    const scrollTop = document.documentElement.scrollTop || window.pageYOffset || document.body.scrollTop;\n    return dom.parentNode.getBoundingClientRect().top + scrollTop;\n  }\n\n  saveScroll() {\n    const key = 'conPageScroll_' + this.currentView;\n    const cardWrapper = this.getWrapperDOM();\n    window.sessionStorage[key] = - cardWrapper.getBoundingClientRect().top;\n  }\n\n  recoverScroll() {\n    const key = 'conPageScroll_' + this.currentView;\n    if (!(key in window.sessionStorage)) return;\n    const cardWrapper = this.getWrapperDOM();\n    Velocity(cardWrapper, 'scroll', { offset: window.sessionStorage[key] });\n  }\n\n  componentDidMount() {\n    this._scrollRestoration = window.history.scrollRestoration;\n    window.history.scrollRestoration = 'manual';\n    this.recoverScroll();\n  }\n\n  componentWillUnmount() {\n    window.history.scrollRestoration = this._scrollRestoration;\n  }\n\n  onLocationChanged = (location) => {\n    this.currentView = this.matchCurrentLocation(location);\n    this.currentLocation = location;\n    if (this.currentView === this.routes.detail.name) {\n      Velocity(this.getWrapperDOM(), 'scroll');\n    } else if (this.currentView === this.routes.list.name) {\n      this.recoverScroll();\n    } else {\n      Velocity(this.getWrapperDOM(), 'scroll', { duration: 500 });\n    }\n  }\n\n  render() {\n    const nodeRef = React.createRef();\n\n    let renderLocation = this.props.location;\n    let renderView = this.matchCurrentLocation(renderLocation);\n\n    // when routing to other page\n    if (renderLocation !== this.currentLocation && renderView === '') {\n      // keep renderLocation unchanged\n      renderLocation = this.currentLocation;\n      renderView = this.matchCurrentLocation(renderLocation);\n      // save scroll state\n      this.saveScroll();\n    }\n\n    const renderPathname = renderLocation.pathname;\n\n    return (\n      <div ref={this.viewRef}>\n        <LocationListener listenFunc={this.onLocationChanged} />\n        <TransitionGroup component={null}>\n          <CSSTransition key={renderPathname} nodeRef={nodeRef} classNames='router' timeout={500}>\n            <ConContainer ref={nodeRef}>\n\n              {this.routes.list.name === renderView &&\n                <ConList {...this.props}\n                  conLoader={this.loader}\n                  onClickItem={() => this.saveScroll()} />}\n              {this.routes.detail.name === renderView &&\n                <ConDetail {...this.props}\n                  conLoader={this.loader}\n                  conId={matchPath(this.routes.detail.path, renderPathname).params.id} />}\n\n            </ConContainer>\n          </CSSTransition>\n        </TransitionGroup>\n      </div>\n    );\n  }\n}\n\nexport default withRouter(ContentPage);","import React from 'react';\nimport Card from './PageCard';\n\nexport default function SettingsPage() {\n  return (\n    <Card>\n      <p>settings page</p>\n    </Card>\n  );\n}","import React from 'react';\nimport Card from '../PageCard';\n\nexport default function Dashboard() {\n  return (\n    <Card>\n      <h2>Dashboard</h2>\n      <span style={{float: 'right'}}><i>test</i></span>\n      <hr />\n      \n      <span>something..</span>\n    </Card>\n  );\n}","import React from 'react';\nimport Card from '../PageCard';\n\nclass NoteListPage extends React.Component {\n    constructor(props) {\n        super(props);\n        this.notes = [];\n    }\n\n    render() {\n        return (\n            <Card>\n                <span>note list</span>\n                <hr />\n\n                <span>todo..</span>\n            </Card>\n        );\n    }\n}\n\nexport default NoteListPage;","import React from 'react';\nimport { withTheme } from 'styled-components/macro';\nimport Card from '../PageCard';\nimport Loading from '../../components/Loading';\n\nconst MarkdownEditor = React.lazy(() => import('rich-markdown-editor'));\n\nclass EditorComponent extends React.Component {\n    render() {\n        return (\n            <Card>\n                <React.Suspense fallback={<Loading />}>\n                    <MarkdownEditor\n                        dark={this.props.theme.isDark}\n                        defaultValue=\"Hello world!\"\n                    />\n                </React.Suspense>\n            </Card>\n        );\n    }\n}\n\nexport default withTheme(EditorComponent);","import React from 'react';\nimport Card from '../PageCard';\n\nclass Timeline extends React.Component {\n    render() {\n        return (\n            <Card>\n                <span>timeline</span>\n                <hr />\n\n                <span>todo..</span>\n            </Card>\n        );\n    }\n}\n\nexport default Timeline;","import React from 'react';\nimport { useLocation } from 'react-router';\nimport { Route, Routes } from 'react-router-dom';\nimport { TransitionGroup, CSSTransition } from 'react-transition-group';\nimport TestPage from './TestPage';\nimport RedirectPage from './RedirectPage';\nimport ContentPage from './ContentPage';\nimport SettingsPage from './SettingsPage';\nimport Dashboard from './Dashboard/Dashboard';\nimport NoteList from './NotePage/NoteList';\nimport Editor from './NotePage/Editor';\nimport Timeline from './Timeline/Timeline';\n\nconst getKey = pathname => {\n  if (pathname === '/' || pathname.startsWith('/id/')) {\n    return 'con';\n  }\n  return pathname;\n}\n\nfunction CardRouter() {\n  const nodeRef = React.createRef();\n  const renderLocation = useLocation();\n  const key = getKey(renderLocation.pathname);\n\n  return (\n    <TransitionGroup className='CardWrapper'>\n      <CSSTransition key={key} nodeRef={nodeRef} classNames='router' timeout={500}>\n        <div ref={nodeRef}>\n          <Routes location={renderLocation}>\n            <Route path='/' element={<ContentPage />} />\n            <Route path='/id/:id' element={<ContentPage />} />\n            <Route path='/dash' element={<Dashboard />} />\n            <Route path='/settings' element={<SettingsPage />} />\n            <Route path='/notebook' element={<NoteList />} />\n            <Route path='/editor' element={<Editor />} />\n            <Route path='/timeline' element={<Timeline />} />\n            <Route path='/test' element={<TestPage />} />\n            <Route path='/404' element={<div>Not Found</div>} />\n            <Route path='*' element={<RedirectPage to='/' />} />\n          </Routes>\n        </div>\n      </CSSTransition>\n    </TransitionGroup>\n  );\n}\n\nexport default React.memo(CardRouter);","const Theme = {\n  isDark: true,\n  AppBackground: \"#282c34\",\n  CardColor: \"rgba(32,33,36,0.92)\",\n  TextColor: \"rgba(255,255,255,0.87)\",\n  TextEmColor: \"#fff\",\n  FabColor: \"#ff4081\",\n  FabIconColor: \"white\",\n  FabMenuColor: \"#66ccff\",\n  MenuBackground: \"rgba(255,255,255,0.87)\",\n  MenuHeaderTextColor: \"white\",\n  MenuTextColor: \"rgba(0,0,0,0.87)\",\n  ItemActiveTextColor: \"#2196f3\",\n  ItemActiveColor: \"#ddd\",\n  PreBlockBackground: \"transparent\",\n  StatusBarColor: \"#2196f3\",\n  ToolbarIconColor: \"white\",\n  TitleColor: \"white\"\n};\n\nexport default Theme;","const Theme = {\n  isDark: false,\n  AppBackground: \"url('https://img.xjh.me/random_img.php?type=bg&ctype=nature&return=302'),#e0e0e0\",\n  CardColor: \"rgba(255,255,255,1.0)\",\n  TextColor: \"rgba(0,0,0,0.87)\",\n  TextEmColor: \"#000\",\n  FabColor: \"#ff4081\",\n  FabIconColor: \"white\",\n  FabMenuColor: \"#66ccff\",\n  MenuBackground: \"rgba(255,255,255,0.87)\",\n  MenuHeaderTextColor: \"white\",\n  MenuTextColor: \"rgba(0,0,0,0.87)\",\n  ItemActiveTextColor: \"#2196f3\",\n  ItemActiveColor: \"#ddd\",\n  PreBlockBackground: \"#f8f8f8\",\n  StatusBarColor: \"#2196f3\",\n  ToolbarIconColor: \"black\",\n  TitleColor: \"white\"\n};\n\nexport default Theme;","import React from 'react';\nimport { IntlProvider, FormattedMessage } from 'react-intl';\nimport styled, { ThemeProvider } from 'styled-components/macro';\nimport { withRouter } from './common/MyCommon';\nimport ClientUtils from './common/ClientUtils';\nimport MessageHandler from './common/MessageHandler';\nimport SnackBar from './common/SnackBar';\nimport Toast from './common/SuperToast';\nimport Loading from './components/Loading';\nimport DrawerView from './components/DrawerView';\nimport Toolbar from './components/Toolbar';\nimport { Menu, MenuList } from './components/Menu';\nimport FloatActionButton from './components/FloatActionButton';\nimport Banner from './components/Banner';\nimport Live2dWidget from './components/live2d-widget';\nimport CardRouter from './cards/CardRouter';\nimport EnglishMessages from './lang/compiled/en.json';\nimport Dark from './themes/Dark';\nimport Light from './themes/Light';\nimport Config from './Config';\nimport './App.scss';\n\nconst MusicPlayer = React.lazy(() => import('./components/MusicPlayer'));\n\nconst toast = (text, during = Toast.LENGTH_SHORT) => {\n  Toast.makeText(null, text, during).show();\n};\n\nconst BackgroundCanvas = styled.canvas.attrs({ className: 'bg' })`\n  background: ${props => props.theme.AppBackground};\n`;\nBackgroundCanvas.defaultProps = { theme: { AppBackground: '#e0e0e0' } };\n\n\nclass NProgressManager {\n  constructor() {\n    this.loadSet = new Set();\n  }\n\n  getNProgress() {\n    const nprogress = window.NProgress; // imported in index.html\n    if (!nprogress) {\n      console.log('NProgress not found');\n      return undefined;\n    }\n    return nprogress;\n  }\n\n  newToLoad(item) {\n    if (this.loadSet.has(item)) return;\n    this.loadSet.add(item);\n    const progress = this.getNProgress();\n    if (!progress.isStarted()) {\n      progress.start();\n    }\n  }\n\n  loaded(item) {\n    if (!this.loadSet.has(item)) return;\n    this.loadSet.delete(item);\n    const progress = this.getNProgress();\n    if (this.loadSet.size > 0) {\n      progress.inc();\n    } else {\n      progress.done();\n    }\n  }\n}\n\nclass App extends React.Component {\n  constructor(props) {\n    super(props);\n    this.drawerView = null;\n    this.themeList = [Light, Dark];\n    this.progress = new NProgressManager();\n    this.progress.newToLoad('app');\n    this.progress.newToLoad('background');\n    this.state = {\n      isLoading: true,\n      isViewMode: false,\n      currentLocale: 'en',\n      currentTheme: 0,\n      localeMessages: { en: EnglishMessages },\n    };\n    MessageHandler.init({\n      context: this,\n      log: (tag, msg) => {\n        const text = `[${tag}] ${msg}`;\n        console.log(text);\n        Toast.makeText(this, text, Toast.LENGTH_LONG).show();\n      },\n      changeTheme: () => {\n        this.changeTheme();\n      },\n      goTo: path => {\n        this.goTo(path);\n      },\n      toggleViewMode: (isEnable, callback) => {\n        if (isEnable === true || isEnable === false) {\n          this.setState({ isViewMode: isEnable }, callback);\n        }\n      }\n    });\n  }\n\n  handleSearch = str => {\n    const r = /#([\\w\\-.]+)=(.+)/.exec(str);\n    if (r != null && r.length > 2) {\n      const key = r[1];\n      const value = r[2];\n      switch (key) {\n        case 'href':\n          if (!ClientUtils.open(value))\n            window.location.href = value;\n          break;\n        case 'id':\n          this.goTo('/id/' + value);\n          break;\n        default:\n          break;\n      }\n    }\n    toast('search ' + str);\n  }\n\n  getTheme() {\n    return this.themeList[this.state.currentTheme];\n  }\n\n  changeLocale() {\n    if (this.state.currentLocale === 'en') {\n      const messages = this.state.localeMessages;\n      if (!messages['zh']) {\n        this.progress.newToLoad('lang-zh');\n        import('./lang/compiled/zh.json').then(mod => {\n          this.progress.loaded('lang-zh');\n          messages['zh'] = mod.default;\n          this.setState({ currentLocale: 'zh', localeMessages: messages });\n        });\n      } else {\n        this.setState({ currentLocale: 'zh' });\n      }\n    } else {\n      this.setState({ currentLocale: 'en' });\n    }\n  }\n\n  changeTheme() {\n    if (this.state.currentTheme < this.themeList.length - 1) {\n      this.setState({ currentTheme: this.state.currentTheme + 1 });\n    } else {\n      this.setState({ currentTheme: 0 });\n    }\n  }\n\n\n\n  goTo(path) {\n    if (path === this.props.location.pathname) return;\n    if (path === '/') {\n      this.props.navigate(-1);\n    } else {\n      this.props.navigate(path);\n    }\n  }\n\n  render() {\n    return (\n      <IntlProvider\n        locale={this.state.currentLocale}\n        defaultLocale=\"en\"\n        messages={this.state.localeMessages[this.state.currentLocale]}>\n        <ThemeProvider theme={this.getTheme()}>\n          <DrawerView ref={instance => this.drawerView = instance}>\n            <BackgroundCanvas />\n            <Toolbar\n              statusBarHeight={ClientUtils.getStatusBarHeight()}\n              toolbarAttach={this.state.isViewMode}\n              onSearch={this.handleSearch} />\n\n            <Menu>\n              <React.Suspense fallback={<Loading />}>\n                {this.state.isLoading ? null : <MusicPlayer />}\n              </React.Suspense>\n              <MenuList>\n\n                <li onClick={() => this.goTo('/')}>\n                  <FormattedMessage id=\"app.menu-item.1\"\n                    defaultMessage=\"home\"\n                    description=\"menu item1\" />\n                </li>\n\n                <li onClick={() => {\n                  SnackBar.make(null, 'test', -1)\n                    .setOnShowed(this.drawerView.closeMenu)\n                    .show();\n                  setTimeout(this.drawerView.closeMenu, 2000);\n                }}>\n                  <FormattedMessage id=\"app.menu-item.2\"\n                    defaultMessage=\"item2\"\n                    description=\"menu item2\" />\n                </li>\n\n                <li onClick={() => {\n                  if (document.body.classList.contains(\"x\")) {\n                    document.body.classList.remove(\"x\");\n                  } else {\n                    document.body.classList.add(\"x\");\n                  }\n                }}>\n                  <FormattedMessage id=\"app.menu-item.3\"\n                    defaultMessage=\"item3\"\n                    description=\"menu item3\" />\n                </li>\n\n                <li onClick={() => this.changeTheme()}>\n                  <FormattedMessage id=\"app.menu-item.theme\"\n                    defaultMessage=\"theme\"\n                    description=\"menu item theme\" />\n                </li>\n\n                <li onClick={() => this.changeLocale()}>\n                  <FormattedMessage id=\"app.menu-item.locale\"\n                    defaultMessage=\"locale\"\n                    description=\"menu item locale\" />\n                </li>\n\n                {ClientUtils.isClient &&\n                  <li onClick={() => ClientUtils.exit()}>\n                    <FormattedMessage id=\"app.menu-item.exit\"\n                      defaultMessage=\"exit\"\n                      description=\"menu item exit\" />\n                  </li>\n                }\n\n                <li onClick={() => this.drawerView.closeMenu()}>\n                  <FormattedMessage id=\"app.menu-item.close\"\n                    defaultMessage=\"close\"\n                    description=\"menu item close\" />\n                </li>\n\n              </MenuList>\n            </Menu>\n\n            <main className='content'>\n              <FloatActionButton>\n                <div onClick={() => toast('test')}>1</div>\n                <div onClick={() => this.goTo('/test')}>2</div>\n                <div onClick={() => this.setState({ isViewMode: !this.state.isViewMode })}>3</div>\n              </FloatActionButton>\n              {this.state.isViewMode || <Banner />}\n              {this.state.isLoading || <CardRouter />}\n            </main>\n\n          </DrawerView>\n        </ThemeProvider>\n      </IntlProvider>\n    );\n  }\n\n  componentDidMount() {\n    this.setState({ isLoading: false });\n    this.progress.loaded('app');\n\n    //check if background image loaded\n    (() => {\n      const matchBgUrl = this.getTheme().AppBackground.match(/url\\((['\"])(.+)\\1\\)/);\n      if (!matchBgUrl) return true;\n      const url = matchBgUrl[2];\n      const img = new Image();\n      img.src = url;\n      if (img.complete) return true;\n      img.onload = () => {\n        this.progress.loaded('background');\n      }\n      return false;\n    })() && this.progress.loaded('background');\n\n    //delete the pre-rendered style\n    ((styleTag = document.querySelectorAll('style[data-styled]')) => {\n      if (styleTag.length === 2 && styleTag[0].innerHTML && !styleTag[1].innerHTML)\n        styleTag[0].parentNode.removeChild(styleTag[0]);\n    })();\n\n    //set language\n    const lang = (navigator.language || navigator.browserLanguage).toLowerCase();\n    if (lang.indexOf('zh') >= 0 && this.state.currentLocale === 'en') {\n      this.changeLocale();\n    }\n\n    const showWelcome = () => {\n      const sessionStorageSupported = ('sessionStorage' in window && window['sessionStorage'] !== null);\n      if ((!sessionStorageSupported) || sessionStorage.show_welcome === undefined) {\n        setTimeout(() => {\n          if (sessionStorageSupported) {\n            sessionStorage.show_welcome = true;\n          }\n          SnackBar.make(this.drawerView.conDOM, \"Welcome\", SnackBar.LENGTH_LONG).show();\n        }, 1500);\n      }\n    };\n\n    if (Config.loadLive2d) {\n      Live2dWidget.load().then(() => {\n        setTimeout(showWelcome, 1000);\n      });\n    } else {\n      showWelcome();\n    }\n  }\n}\n\nexport default withRouter(App);","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read http://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n  // [::1] is the IPv6 localhost address.\n  window.location.hostname === '[::1]' ||\n  // 127.0.0.1/8 is considered localhost for IPv4.\n  window.location.hostname.match(\n    /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n  )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n            'worker. To learn more, visit http://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                'tabs for this page are closed. See http://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { HashRouter as Router } from 'react-router-dom';\nimport App from './App';\nimport * as serviceWorkerRegistration from './serviceWorkerRegistration';\n\n  const app = (\n    <React.StrictMode>\n      <Router>\n        <App />\n      </Router>\n    </React.StrictMode>\n  );\n\n  const rootElement = document.getElementById('root');\n  if (rootElement.hasChildNodes()) {\n    ReactDOM.hydrate(app, rootElement);\n  } else {\n    ReactDOM.render(app, rootElement);\n\n    //use concurrent mode\n    //ReactDOM.unstable_createRoot(rootElement).render(app);\n  }\n\n  // If you want your app to work offline and load faster, you can change\n  // unregister() to register() below. Note this comes with some pitfalls.\n  // Learn more about service workers: http://bit.ly/CRA-PWA\n  serviceWorkerRegistration.register();\n  "],"sourceRoot":""}